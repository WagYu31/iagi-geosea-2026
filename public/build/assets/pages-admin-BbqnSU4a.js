import{r as y,j as e,y as s,T as n,z as f,C as U,A as L,D as S,B as g,E as H,F as W,H as re,J as ne,K as te,L as _,M as a,O as se,Q as ae,R as oe,S as ie,I as M,U as le,V as de,W as je,X as ve,Y as E,Z as O,$ as F,a0 as d,a1 as K,a2 as J,a3 as X,a4 as Q,a5 as ye,a6 as Se}from"./vendor-mui-core-DSrMDzQK.js";import{H as V,L as R,r as A}from"./vendor-inertia-D0celjUq.js";import{S as $}from"./layouts-XmNXNaBG.js";import{A as ke,P as we,a as Ce,b as ce,F as We,V as Re,C as Z,c as Ae,d as Ie,D as ze,S as _e,W as Te,e as G,f as ee}from"./vendor-mui-icons-BfL4mwRo.js";import{B as Pe}from"./vendor-mui-charts-DOVAKBlT.js";function De({analytics:x,recentSubmissions:p=[],pendingPayments:i=0,submissionsPerTopic:c=[],participantStats:k={},submissionsPerTopicByParticipant:w=[]}){const[t,I]=y.useState("all"),[h,C]=y.useState("all"),T=x?.totalSubmissions||0,N=x?.pendingReviews||0,z=x?.verifiedPayments||0;x?.acceptedSubmissions,x?.rejectedSubmissions;const B=x?.totalUsers||0,v=y.useMemo(()=>{const l=w;if(!l||l.length===0)return[];let b=l;if(h!=="all"){const P=h;b=l.map(j=>({...j,count:j[P]||0})).filter(j=>j.count>0)}if(t!=="all"){const P=`${t}_count`;b=b.map(j=>({...j,count:j[P]||0})).filter(j=>j.count>0)}return b},[c,w,t,h]);return e.jsxs($,{children:[e.jsx(V,{title:"Admin Dashboard"}),e.jsxs(s,{sx:{p:{xs:2,md:3}},children:[e.jsxs(s,{sx:{background:"linear-gradient(135deg, #0d7a6a 0%, #1abc9c 50%, #16a085 100%)",borderRadius:"20px",p:{xs:2,sm:3,md:4},mb:4,boxShadow:"0 8px 32px rgba(13, 122, 106, 0.2)",position:"relative",overflow:"hidden","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"4px",background:"linear-gradient(90deg, #4dd4ac 0%, #1abc9c 50%, #4dd4ac 100%)"}},children:[e.jsx(n,{variant:"h4",sx:{fontWeight:700,color:"white",mb:1,letterSpacing:"0.02em"},children:"Admin Dashboard Overview"}),e.jsx(n,{variant:"body1",sx:{color:"rgba(255,255,255,0.9)",fontSize:"1rem"},children:"Monitor dan kelola seluruh aktivitas konferensi PIT IAGI-GEOSEA 2026"})]}),e.jsxs(f,{container:!0,spacing:3,sx:{mb:4},children:[e.jsx(f,{size:{xs:12,sm:6,md:3},children:e.jsx(U,{sx:{background:"linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%)",boxShadow:"0 4px 20px rgba(13, 122, 106, 0.15)",borderRadius:"16px",border:"1px solid rgba(13, 122, 106, 0.1)",transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 30px rgba(13, 122, 106, 0.25)"}},children:e.jsxs(L,{children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[e.jsx(s,{sx:{backgroundColor:"#0d7a6a",borderRadius:"12px",p:1.5,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(13, 122, 106, 0.3)"},children:e.jsx(ke,{sx:{color:"white",fontSize:28}})}),e.jsx(n,{color:"text.secondary",variant:"caption",sx:{fontWeight:600,textTransform:"uppercase",letterSpacing:.5},children:"Total"})]}),e.jsx(n,{variant:"h3",sx:{fontWeight:"bold",color:"#0d7a6a",mb:.5,fontSize:{xs:"2rem",sm:"2.5rem",md:"3rem"}},children:T}),e.jsx(n,{color:"text.secondary",variant:"body2",sx:{fontSize:"0.875rem"},children:"Total Submissions"})]})})}),e.jsx(f,{size:{xs:12,sm:6,md:3},children:e.jsx(U,{sx:{background:"linear-gradient(135deg, #fff7ed 0%, #fed7aa 100%)",boxShadow:"0 4px 20px rgba(237, 108, 2, 0.15)",borderRadius:"16px",border:"1px solid rgba(237, 108, 2, 0.1)",transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 30px rgba(237, 108, 2, 0.25)"}},children:e.jsxs(L,{children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[e.jsx(s,{sx:{backgroundColor:"#ed6c02",borderRadius:"12px",p:1.5,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(237, 108, 2, 0.3)"},children:e.jsx(we,{sx:{color:"white",fontSize:28}})}),e.jsx(n,{color:"text.secondary",variant:"caption",sx:{fontWeight:600,textTransform:"uppercase",letterSpacing:.5},children:"Pending"})]}),e.jsx(n,{variant:"h3",sx:{fontWeight:"bold",color:"#ed6c02",mb:.5,fontSize:{xs:"2rem",sm:"2.5rem",md:"3rem"}},children:N}),e.jsx(n,{color:"text.secondary",variant:"body2",sx:{fontSize:"0.875rem"},children:"Pending Reviews"})]})})}),e.jsx(f,{size:{xs:12,sm:6,md:3},children:e.jsx(U,{sx:{background:"linear-gradient(135deg, #eff6ff 0%, #bfdbfe 100%)",boxShadow:"0 4px 20px rgba(25, 118, 210, 0.15)",borderRadius:"16px",border:"1px solid rgba(25, 118, 210, 0.1)",transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 30px rgba(25, 118, 210, 0.25)"}},children:e.jsxs(L,{children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[e.jsx(s,{sx:{backgroundColor:"#1976d2",borderRadius:"12px",p:1.5,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(25, 118, 210, 0.3)"},children:e.jsx(Ce,{sx:{color:"white",fontSize:28}})}),e.jsx(n,{color:"text.secondary",variant:"caption",sx:{fontWeight:600,textTransform:"uppercase",letterSpacing:.5},children:"Verified"})]}),e.jsx(n,{variant:"h3",sx:{fontWeight:"bold",color:"#1976d2",mb:.5,fontSize:{xs:"2rem",sm:"2.5rem",md:"3rem"}},children:z}),e.jsx(n,{color:"text.secondary",variant:"body2",sx:{fontSize:"0.875rem"},children:"Verified Payments"})]})})}),e.jsx(f,{size:{xs:12,sm:6,md:3},children:e.jsx(U,{sx:{background:"linear-gradient(135deg, #faf5ff 0%, #e9d5ff 100%)",boxShadow:"0 4px 20px rgba(156, 39, 176, 0.15)",borderRadius:"16px",border:"1px solid rgba(156, 39, 176, 0.1)",transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 30px rgba(156, 39, 176, 0.25)"}},children:e.jsxs(L,{children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[e.jsx(s,{sx:{backgroundColor:"#9c27b0",borderRadius:"12px",p:1.5,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(156, 39, 176, 0.3)"},children:e.jsx(ce,{sx:{color:"white",fontSize:28}})}),e.jsx(n,{color:"text.secondary",variant:"caption",sx:{fontWeight:600,textTransform:"uppercase",letterSpacing:.5},children:"Users"})]}),e.jsx(n,{variant:"h3",sx:{fontWeight:"bold",color:"#9c27b0",mb:.5,fontSize:{xs:"2rem",sm:"2.5rem",md:"3rem"}},children:B}),e.jsx(n,{color:"text.secondary",variant:"body2",sx:{fontSize:"0.875rem"},children:"Total Users"})]})})})]}),e.jsxs(S,{elevation:0,sx:{p:{xs:2,sm:3,md:4},border:"1px solid rgba(13, 122, 106, 0.2)",borderRadius:"20px",background:"linear-gradient(to bottom, #ffffff 0%, #f8faf9 100%)",boxShadow:"0 4px 20px rgba(0,0,0,0.08)"},children:[e.jsx(n,{variant:"h5",gutterBottom:!0,sx:{fontWeight:700,mb:{xs:2,md:3},color:"#0d7a6a",fontSize:{xs:"1.25rem",md:"1.5rem"}},children:"Quick Actions"}),e.jsxs(f,{container:!0,spacing:2,children:[e.jsx(f,{size:{xs:12,sm:6,md:4},children:e.jsx(g,{component:R,href:route("admin.submissions"),variant:"contained",fullWidth:!0,sx:{backgroundColor:"#1abc9c","&:hover":{backgroundColor:"#16a085",transform:"translateY(-2px)",boxShadow:"0 8px 24px rgba(26, 188, 156, 0.4)"},py:2,textTransform:"none",fontSize:"1rem",fontWeight:600,borderRadius:"50px",boxShadow:"0 4px 16px rgba(26, 188, 156, 0.3)",transition:"all 0.3s ease"},children:"Workflow Control"})}),e.jsx(f,{size:{xs:12,sm:6,md:4},children:e.jsx(g,{component:R,href:route("admin.submissions"),variant:"outlined",fullWidth:!0,sx:{color:"#1abc9c",borderColor:"#1abc9c","&:hover":{borderColor:"#16a085",backgroundColor:"rgba(26, 188, 156, 0.08)",transform:"translateY(-2px)",boxShadow:"0 4px 16px rgba(26, 188, 156, 0.2)"},py:2,textTransform:"none",fontSize:"1rem",fontWeight:600,borderRadius:"50px",borderWidth:"2px","&:hover":{borderWidth:"2px"},transition:"all 0.3s ease"},children:"Reviewer Assignment"})}),e.jsx(f,{size:{xs:12,sm:6,md:4},children:e.jsx(g,{component:R,href:route("admin.export"),variant:"outlined",fullWidth:!0,sx:{color:"#1976d2",borderColor:"#1976d2","&:hover":{borderColor:"#115293",backgroundColor:"rgba(25, 118, 210, 0.08)",transform:"translateY(-2px)",boxShadow:"0 4px 16px rgba(25, 118, 210, 0.2)"},py:2,textTransform:"none",fontSize:"1rem",fontWeight:600,borderRadius:"50px",borderWidth:"2px","&:hover":{borderWidth:"2px"},transition:"all 0.3s ease"},children:"Database Export"})}),e.jsx(f,{size:{xs:12,sm:6,md:4},children:e.jsx(g,{component:R,href:route("admin.payments"),variant:"outlined",fullWidth:!0,sx:{color:"#ed6c02",borderColor:"#ed6c02","&:hover":{borderColor:"#c55500",backgroundColor:"rgba(237, 108, 2, 0.08)",transform:"translateY(-2px)",boxShadow:"0 4px 16px rgba(237, 108, 2, 0.2)"},py:2,textTransform:"none",fontSize:"1rem",fontWeight:600,borderRadius:"50px",borderWidth:"2px","&:hover":{borderWidth:"2px"},transition:"all 0.3s ease"},children:"Payment Validation"})}),e.jsx(f,{size:{xs:12,sm:6,md:4},children:e.jsx(g,{component:R,href:route("admin.users"),variant:"outlined",fullWidth:!0,sx:{color:"#9c27b0",borderColor:"#9c27b0","&:hover":{borderColor:"#7b1fa2",backgroundColor:"rgba(156, 39, 176, 0.08)",transform:"translateY(-2px)",boxShadow:"0 4px 16px rgba(156, 39, 176, 0.2)"},py:2,textTransform:"none",fontSize:"1rem",fontWeight:600,borderRadius:"50px",borderWidth:"2px","&:hover":{borderWidth:"2px"},transition:"all 0.3s ease"},children:"Kelola Akun USER"})})]})]}),c.length>0&&e.jsxs(S,{elevation:0,sx:{p:{xs:2,sm:3,md:4},border:"1px solid rgba(13, 122, 106, 0.2)",borderRadius:"20px",mt:3,background:"linear-gradient(to bottom, #ffffff 0%, #f8faf9 100%)",boxShadow:"0 4px 20px rgba(0,0,0,0.08)"},children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3,flexWrap:"wrap",gap:2},children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(s,{sx:{background:"linear-gradient(135deg, #0d7a6a 0%, #1abc9c 100%)",borderRadius:"12px",p:1.5,mr:2,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(13, 122, 106, 0.3)"},children:e.jsx(n,{sx:{fontSize:"28px"},children:"ðŸ“Š"})}),e.jsxs(s,{children:[e.jsx(n,{variant:"h5",sx:{fontWeight:700,color:"#0d7a6a",mb:.5},children:"Statistik Submission per Topik"}),e.jsx(n,{variant:"body2",color:"text.secondary",children:"Distribusi paper berdasarkan sub-tema penelitian"})]})]}),e.jsxs(s,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsxs(H,{value:t,exclusive:!0,onChange:(l,b)=>{b!==null&&I(b)},size:"small",sx:{backgroundColor:"#ffffff",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",borderRadius:2},children:[e.jsxs(W,{value:"all",sx:{px:3,py:1,textTransform:"none",fontWeight:600,"&.Mui-selected":{backgroundColor:"#1abc9c",color:"white","&:hover":{backgroundColor:"#16a085"}}},children:[e.jsx(We,{sx:{mr:1,fontSize:18}}),"Semua"]}),e.jsx(W,{value:"oral_presentation",sx:{px:3,py:1,textTransform:"none",fontWeight:600,"&.Mui-selected":{backgroundColor:"#1976d2",color:"white","&:hover":{backgroundColor:"#115293"}}},children:"ðŸŽ¤ Oral"}),e.jsx(W,{value:"poster_presentation",sx:{px:3,py:1,textTransform:"none",fontWeight:600,"&.Mui-selected":{backgroundColor:"#9c27b0",color:"white","&:hover":{backgroundColor:"#7b1fa2"}}},children:"ðŸ“‹ Poster"})]}),e.jsxs(H,{value:h,exclusive:!0,onChange:(l,b)=>{b!==null&&C(b)},size:"small",sx:{backgroundColor:"#ffffff",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",borderRadius:2},children:[e.jsx(W,{value:"all",sx:{px:3,py:1,textTransform:"none",fontWeight:600,"&.Mui-selected":{backgroundColor:"#1abc9c",color:"white","&:hover":{backgroundColor:"#16a085"}}},children:"ðŸ‘¥ All Participants"}),e.jsx(W,{value:"student_count",sx:{px:3,py:1,textTransform:"none",fontWeight:600,"&.Mui-selected":{backgroundColor:"#0891b2",color:"white","&:hover":{backgroundColor:"#0e7490"}}},children:"ðŸŽ“ Student"}),e.jsx(W,{value:"professional_count",sx:{px:3,py:1,textTransform:"none",fontWeight:600,"&.Mui-selected":{backgroundColor:"#ea580c",color:"white","&:hover":{backgroundColor:"#c2410c"}}},children:"ðŸ’¼ Professional"}),e.jsx(W,{value:"international_count",sx:{px:3,py:1,textTransform:"none",fontWeight:600,"&.Mui-selected":{backgroundColor:"#7c3aed",color:"white","&:hover":{backgroundColor:"#6d28d9"}}},children:"ðŸŒ International"})]})]})]}),e.jsx(s,{sx:{width:"100%",height:Math.max(400,v.length*70),backgroundColor:"#ffffff",borderRadius:3,p:3,boxShadow:"0 4px 12px rgba(0,0,0,0.08), inset 0 1px 3px rgba(0,0,0,0.02)",border:"1px solid #e5e7eb"},children:e.jsx(Pe,{dataset:v,layout:"horizontal",yAxis:[{scaleType:"band",dataKey:"topic",tickLabelStyle:{fontSize:14,fontWeight:600,fill:"#1f2937",textAnchor:"end"}}],xAxis:[{tickLabelStyle:{fontSize:13,fontWeight:500,fill:"#6b7280"}}],series:[{dataKey:"count",label:t==="all"?"Total Submission":t==="oral_presentation"?"Oral Presentation":"Poster Presentation",color:t==="all"?"#059669":t==="oral_presentation"?"#2563eb":"#9333ea",valueFormatter:l=>`${l} paper${l>1?"s":""}`}],margin:{top:30,bottom:50,left:150,right:60},grid:{horizontal:!0},slotProps:{legend:{direction:"row",position:{vertical:"top",horizontal:"right"},padding:0,itemMarkWidth:16,itemMarkHeight:16,markGap:10,itemGap:20,labelStyle:{fontSize:14,fontWeight:600,fill:"#1f2937"}},bar:{rx:6,ry:6}},sx:{"& .MuiChartsAxis-tickLabel":{fill:"#1f2937",fontWeight:600},"& .MuiChartsAxis-line":{stroke:"#d1d5db",strokeWidth:1.5},"& .MuiChartsAxis-tick":{stroke:"#d1d5db",strokeWidth:1.5},"& .MuiChartsGrid-line":{stroke:"#f3f4f6",strokeDasharray:"5 5",strokeWidth:1},"& .MuiBarElement-root":{cursor:"pointer",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",filter:t==="all"?"drop-shadow(0 2px 4px rgba(5, 150, 105, 0.3))":t==="oral_presentation"?"drop-shadow(0 2px 4px rgba(37, 99, 235, 0.3))":"drop-shadow(0 2px 4px rgba(147, 51, 234, 0.3))","&:hover":{opacity:.85,filter:t==="all"?"drop-shadow(0 4px 8px rgba(5, 150, 105, 0.5)) brightness(1.05)":t==="oral_presentation"?"drop-shadow(0 4px 8px rgba(37, 99, 235, 0.5)) brightness(1.05)":"drop-shadow(0 4px 8px rgba(147, 51, 234, 0.5)) brightness(1.05)",transform:"translateX(4px)"}},"& .MuiChartsLegend-series":{padding:"8px 16px",backgroundColor:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"}}})}),e.jsxs(f,{container:!0,spacing:2,sx:{mt:2},children:[e.jsx(f,{size:{xs:12,sm:6,md:4},children:e.jsxs(s,{sx:{p:2.5,backgroundColor:"#ecfdf5",borderRadius:2,border:"1px solid #a7f3d0",display:"flex",alignItems:"center",gap:2},children:[e.jsx(s,{sx:{backgroundColor:"#10b981",borderRadius:"50%",width:48,height:48,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"20px"},children:c.length}),e.jsxs(s,{children:[e.jsx(n,{variant:"caption",sx:{color:"#059669",fontWeight:600,textTransform:"uppercase",letterSpacing:.5},children:"Total Topik"}),e.jsx(n,{variant:"body2",sx:{color:"#065f46",fontWeight:500},children:"Sub-tema berbeda"})]})]})}),e.jsx(f,{size:{xs:12,sm:6,md:4},children:e.jsxs(s,{sx:{p:2.5,backgroundColor:"#dbeafe",borderRadius:2,border:"1px solid #93c5fd",display:"flex",alignItems:"center",gap:2},children:[e.jsx(s,{sx:{backgroundColor:"#3b82f6",borderRadius:"50%",width:48,height:48,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"20px"},children:c.reduce((l,b)=>l+b.count,0)}),e.jsxs(s,{children:[e.jsx(n,{variant:"caption",sx:{color:"#2563eb",fontWeight:600,textTransform:"uppercase",letterSpacing:.5},children:"Total Submission"}),e.jsx(n,{variant:"body2",sx:{color:"#1e40af",fontWeight:500},children:"Paper yang masuk"})]})]})}),e.jsx(f,{size:{xs:12,sm:6,md:4},children:e.jsxs(s,{sx:{p:2.5,backgroundColor:"#fef3c7",borderRadius:2,border:"1px solid #fcd34d",display:"flex",alignItems:"center",gap:2},children:[e.jsx(s,{sx:{backgroundColor:"#f59e0b",borderRadius:"50%",width:48,height:48,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"16px"},children:c.length>0?Math.round(c.reduce((l,b)=>l+b.count,0)/c.length*10)/10:0}),e.jsxs(s,{children:[e.jsx(n,{variant:"caption",sx:{color:"#d97706",fontWeight:600,textTransform:"uppercase",letterSpacing:.5},children:"Rata-rata"}),e.jsx(n,{variant:"body2",sx:{color:"#92400e",fontWeight:500},children:"Per topik"})]})]})})]}),c.length>0&&e.jsxs(s,{sx:{mt:3,p:3,background:"linear-gradient(135deg, #0d7a6a 0%, #1abc9c 50%, #16a085 100%)",borderRadius:"16px",boxShadow:"0 8px 24px rgba(13, 122, 106, 0.3)"},children:[e.jsx(n,{variant:"subtitle2",sx:{color:"#d1fae5",fontWeight:600,mb:1,textTransform:"uppercase",letterSpacing:1},children:"ðŸ† Topik Terpopuler"}),e.jsx(n,{variant:"h6",sx:{color:"white",fontWeight:700,mb:.5},children:c[0].topic}),e.jsxs(n,{variant:"body2",sx:{color:"#a7f3d0"},children:[c[0].count," submission (",Math.round(c[0].count/c.reduce((l,b)=>l+b.count,0)*100),"% dari total)"]})]})]}),e.jsxs(f,{container:!0,spacing:3,sx:{mt:2},children:[i>0&&e.jsx(f,{size:{xs:12},children:e.jsx(S,{elevation:0,sx:{p:3,border:"2px solid #ed6c02",borderRadius:"16px",backgroundColor:"#fff8e1",boxShadow:"0 4px 16px rgba(237, 108, 2, 0.15)"},children:e.jsxs(s,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(s,{children:[e.jsx(n,{variant:"h6",sx:{fontWeight:600,color:"#ed6c02",mb:1},children:"âš ï¸ Pending Payment Verifications"}),e.jsxs(n,{variant:"body2",color:"text.secondary",children:["There are ",i," payment",i>1?"s":""," waiting for verification"]})]}),e.jsx(g,{component:R,href:route("admin.payments"),variant:"contained",sx:{backgroundColor:"#ed6c02","&:hover":{backgroundColor:"#c55500",transform:"translateY(-2px)",boxShadow:"0 8px 20px rgba(237, 108, 2, 0.4)"},borderRadius:"50px",px:3,py:1.5,fontWeight:600,transition:"all 0.3s ease"},children:"Review Now"})]})})}),e.jsx(f,{size:{xs:12},children:e.jsxs(S,{elevation:0,sx:{p:3,border:"1px solid rgba(13, 122, 106, 0.2)",borderRadius:"20px",background:"linear-gradient(to bottom, #ffffff 0%, #f8faf9 100%)",boxShadow:"0 4px 20px rgba(0,0,0,0.08)"},children:[e.jsx(n,{variant:"h6",gutterBottom:!0,sx:{fontWeight:700,mb:2,color:"#0d7a6a"},children:"Recent Submissions"}),p.length===0?e.jsx(n,{variant:"body2",color:"text.secondary",children:"No recent submissions"}):e.jsx(s,{children:p.map(l=>e.jsx(s,{sx:{p:2,mb:2,border:"1px solid rgba(13, 122, 106, 0.15)",borderRadius:"12px","&:last-child":{mb:0},"&:hover":{backgroundColor:"rgba(26, 188, 156, 0.05)",borderColor:"rgba(13, 122, 106, 0.3)",transform:"translateX(4px)"},transition:"all 0.3s ease"},children:e.jsxs(s,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsxs(s,{sx:{flex:1},children:[e.jsx(n,{variant:"subtitle1",sx:{fontWeight:600},children:l.title}),e.jsxs(n,{variant:"body2",color:"text.secondary",children:["by ",l.user?.name||"Unknown"," â€¢ ",new Date(l.created_at).toLocaleDateString("id-ID")]})]}),e.jsx(g,{component:R,href:route("admin.submissions"),size:"small",sx:{color:"#1abc9c",fontWeight:600,"&:hover":{backgroundColor:"rgba(26, 188, 156, 0.1)"}},children:"Manage"})]})},l.id))})]})})]})]})]})}const Oe=Object.freeze(Object.defineProperty({__proto__:null,default:De},Symbol.toStringTag,{value:"Module"}));function Me({payments:x=[]}){const[p,i]=y.useState({open:!1,payment:null}),c=t=>{confirm("Are you sure you want to verify this payment?")&&A.patch(route("admin.payments.verify",t),{},{preserveScroll:!0})},k=t=>{confirm("Are you sure you want to reject this payment?")&&A.patch(route("admin.payments.reject",t),{},{preserveScroll:!0})},w=t=>{i({open:!0,payment:t})};return e.jsxs($,{children:[e.jsx(V,{title:"Manage Payments"}),e.jsxs(s,{sx:{p:3},children:[e.jsx(n,{variant:"h4",gutterBottom:!0,sx:{fontWeight:"bold",color:"#1abc9c",mb:3},children:"Manage Payments"}),e.jsx(S,{elevation:0,sx:{border:"1px solid #e0e0e0",borderRadius:2},children:e.jsx(re,{children:e.jsxs(ne,{children:[e.jsx(te,{children:e.jsxs(_,{sx:{backgroundColor:"#f8f9fa"},children:[e.jsx(a,{sx:{fontWeight:600},children:"ID"}),e.jsx(a,{sx:{fontWeight:600},children:"User"}),e.jsx(a,{sx:{fontWeight:600},children:"Submission"}),e.jsx(a,{sx:{fontWeight:600},children:"Amount"}),e.jsx(a,{sx:{fontWeight:600},children:"Status"}),e.jsx(a,{sx:{fontWeight:600},children:"Uploaded At"}),e.jsx(a,{sx:{fontWeight:600},children:"Actions"})]})}),e.jsx(se,{children:x.length===0?e.jsx(_,{children:e.jsx(a,{colSpan:7,align:"center",children:e.jsx(n,{variant:"body2",color:"text.secondary",sx:{py:3},children:"No payments found"})})}):x.map(t=>e.jsxs(_,{hover:!0,children:[e.jsx(a,{children:t.id}),e.jsxs(a,{children:[e.jsx(n,{variant:"body2",sx:{fontWeight:600},children:t.user?.name||"N/A"}),e.jsx(n,{variant:"caption",color:"text.secondary",children:t.user?.email||"N/A"})]}),e.jsx(a,{children:t.submission?.title||"N/A"}),e.jsx(a,{children:t.amount?`Rp ${parseFloat(t.amount).toLocaleString("id-ID")}`:"N/A"}),e.jsx(a,{children:e.jsx(ae,{label:t.verified?"Verified":"Pending",color:t.verified?"success":"warning",size:"small"})}),e.jsx(a,{children:t.created_at?new Date(t.created_at).toLocaleDateString("id-ID"):"N/A"}),e.jsx(a,{children:e.jsxs(s,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[t.payment_proof_url&&e.jsx(g,{size:"small",variant:"outlined",startIcon:e.jsx(Re,{}),onClick:()=>w(t),sx:{color:"#1976d2",borderColor:"#1976d2"},children:"View"}),t.verified?e.jsx(g,{size:"small",variant:"outlined",startIcon:e.jsx(Ae,{}),onClick:()=>k(t.id),color:"error",children:"Reject"}):e.jsx(g,{size:"small",variant:"contained",startIcon:e.jsx(Z,{}),onClick:()=>c(t.id),sx:{backgroundColor:"#2e7d32","&:hover":{backgroundColor:"#1b5e20"}},children:"Verify"})]})})]},t.id))})]})})})]}),e.jsxs(oe,{open:p.open,onClose:()=>i({open:!1,payment:null}),maxWidth:"md",fullWidth:!0,children:[e.jsxs(ie,{sx:{backgroundColor:"#1abc9c",color:"white",display:"flex",justifyContent:"space-between",alignItems:"center"},children:["Payment Proof",e.jsx(M,{onClick:()=>i({open:!1,payment:null}),sx:{color:"white"},children:e.jsx(Ie,{})})]}),e.jsx(le,{sx:{p:3},children:p.payment&&e.jsxs(s,{children:[e.jsxs(s,{sx:{mb:2,p:2,backgroundColor:"#f8f9fa",borderRadius:1},children:[e.jsx(n,{variant:"body2",color:"text.secondary",children:"User:"}),e.jsx(n,{variant:"body1",sx:{fontWeight:600},children:p.payment.user?.name}),e.jsx(n,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Submission:"}),e.jsx(n,{variant:"body1",sx:{fontWeight:600},children:p.payment.submission?.title}),e.jsx(n,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Amount:"}),e.jsxs(n,{variant:"body1",sx:{fontWeight:600},children:["Rp ",parseFloat(p.payment.amount||0).toLocaleString("id-ID")]})]}),p.payment.payment_proof_url&&e.jsx(s,{sx:{textAlign:"center"},children:e.jsx("img",{src:`/storage/${p.payment.payment_proof_url}`,alt:"Payment Proof",style:{maxWidth:"100%",maxHeight:"500px",objectFit:"contain",border:"1px solid #e0e0e0",borderRadius:"8px"},onError:t=>{t.target.style.display="none",t.target.parentElement.innerHTML='<p style="padding: 40px; text-align: center; color: #666;">Unable to load image. <a href="/storage/'+p.payment.payment_proof_url+'" target="_blank">Download file</a></p>'}})})]})}),e.jsxs(de,{sx:{p:2},children:[p.payment&&!p.payment.verified&&e.jsx(g,{variant:"contained",startIcon:e.jsx(Z,{}),onClick:()=>{c(p.payment.id),i({open:!1,payment:null})},sx:{backgroundColor:"#2e7d32","&:hover":{backgroundColor:"#1b5e20"}},children:"Verify Payment"}),e.jsx(g,{onClick:()=>i({open:!1,payment:null}),children:"Close"})]})]})]})}const Ge=Object.freeze(Object.defineProperty({__proto__:null,default:Me},Symbol.toStringTag,{value:"Module"}));function Ue({submissions:x=[],reviewers:p=[]}){const[i,c]=y.useState([]),[k,w]=y.useState(""),[t,I]=y.useState({open:!1,submission:null}),[h,C]=y.useState([]),[T,N]=y.useState("all"),[z,B]=y.useState(""),v=x.filter(r=>{const o=T==="all"||r.status===T,u=z===""||r.title?.toLowerCase().includes(z.toLowerCase())||r.user?.name?.toLowerCase().includes(z.toLowerCase());return o&&u}),l=r=>{r.target.checked?c(v.map(o=>o.id)):c([])},b=r=>{const o=i.indexOf(r);let u=[];o===-1?u=u.concat(i,r):o===0?u=u.concat(i.slice(1)):o===i.length-1?u=u.concat(i.slice(0,-1)):o>0&&(u=u.concat(i.slice(0,o),i.slice(o+1))),c(u)},P=(r,o)=>{A.patch(route("admin.submissions.updateStatus",r),{status:o},{preserveScroll:!0})},j=()=>{i.length>0&&k&&A.post(route("admin.submissions.bulkUpdate"),{submission_ids:i,status:k},{preserveScroll:!0,onSuccess:()=>{c([]),w("")}})},Y=r=>{I({open:!0,submission:r}),C([])},xe=r=>{h.includes(r)||(t.submission?.reviews?.length||0)+h.length<5&&C([...h,r])},he=r=>{C(h.filter(o=>o!==r))},ue=()=>{h.length>0&&t.submission&&A.post(route("admin.submissions.assignReviewer",t.submission.id),{reviewer_ids:h},{preserveScroll:!0,onSuccess:()=>{I({open:!1,submission:null}),C([])}})},pe=(r,o)=>{confirm("Are you sure you want to remove this reviewer?")&&A.delete(route("admin.submissions.removeReviewer",{submissionId:r,reviewerId:o}),{preserveScroll:!0})},be=()=>{window.location.href=route("admin.submissions.export")},fe=r=>i.indexOf(r)!==-1,q=()=>{if(!t.submission)return p;const r=(t.submission.reviews||[]).map(o=>o.reviewer_id);return p.filter(o=>!r.includes(o.id)&&!h.includes(o.id))},ge=r=>{const u={pending:`Status submission Anda telah diubah menjadi *Pending*.

Submission akan segera ditinjau oleh tim kami.`,under_review:`Status submission Anda telah diubah menjadi *Under Review*.

Submission Anda sedang dalam proses peninjauan oleh reviewer.`,revision_required_phase1:`Status submission Anda telah diubah menjadi *Revision Phase 1*.

Silakan lakukan revisi sesuai dengan komentar reviewer.`,revision_required_phase2:`Status submission Anda telah diubah menjadi *Revision Phase 2*.

Silakan lakukan revisi tambahan sesuai dengan komentar reviewer.`,accepted:`ðŸŽ‰ *Selamat!* ðŸŽ‰

Submission Anda telah *DITERIMA* (Accepted).

Terima kasih atas kontribusi Anda dalam konferensi ini.`,rejected:`Status submission Anda telah diubah menjadi *Rejected*.

Mohon maaf submission Anda tidak dapat diterima kali ini. Terima kasih atas partisipasi Anda.`}[r.status]||"Status submission Anda telah diperbarui.";let m=`*IAGI-GEOSEA 2026 - Notification*

`;return m+=`Halo *${r.user?.name}*,

`,m+=`Submission ID: *${r.id}*
`,m+=`Judul: *${r.title}*

`,m+=`${u}

`,m+=`Silakan login ke dashboard Anda untuk informasi lebih lanjut.

`,m+=`Terima kasih,
`,m+="Tim IAGI-GEOSEA 2026",m},me=r=>{if(!r.user?.whatsapp){alert("User tidak memiliki nomor WhatsApp!");return}const o=ge(r),m=`https://wa.me/${r.user.whatsapp.replace(/^0/,"62").replace(/\D/g,"")}?text=${encodeURIComponent(o)}`;window.open(m,"_blank")};return e.jsxs($,{children:[e.jsx(V,{title:"Manage Submissions"}),e.jsxs(s,{sx:{p:3},children:[e.jsxs(s,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsx(n,{variant:"h4",sx:{fontWeight:"bold",color:"#1abc9c"},children:"Manage Submissions"}),e.jsx(g,{variant:"contained",startIcon:e.jsx(ze,{}),onClick:be,sx:{backgroundColor:"#1abc9c","&:hover":{backgroundColor:"#16a085"}},children:"Export to CSV"})]}),e.jsx(S,{elevation:0,sx:{p:2,mb:2,border:"1px solid #e0e0e0",borderRadius:2},children:e.jsxs(s,{sx:{display:"flex",gap:2,flexWrap:"wrap",alignItems:"center"},children:[e.jsx(je,{placeholder:"Search by title or author...",value:z,onChange:r=>B(r.target.value),size:"small",InputProps:{startAdornment:e.jsx(ve,{position:"start",children:e.jsx(_e,{sx:{color:"text.secondary"}})})},sx:{flex:1,minWidth:250}}),e.jsxs(E,{size:"small",sx:{minWidth:180},children:[e.jsx(O,{children:"Filter by Status"}),e.jsxs(F,{value:T,label:"Filter by Status",onChange:r=>N(r.target.value),children:[e.jsxs(d,{value:"all",children:["All Status (",x.length,")"]}),e.jsxs(d,{value:"pending",children:["Pending (",x.filter(r=>r.status==="pending").length,")"]}),e.jsxs(d,{value:"under_review",children:["Under Review (",x.filter(r=>r.status==="under_review").length,")"]}),e.jsxs(d,{value:"revision_required_phase1",children:["Revision Phase 1 (",x.filter(r=>r.status==="revision_required_phase1").length,")"]}),e.jsxs(d,{value:"revision_required_phase2",children:["Revision Phase 2 (",x.filter(r=>r.status==="revision_required_phase2").length,")"]}),e.jsxs(d,{value:"accepted",children:["Accepted (",x.filter(r=>r.status==="accepted").length,")"]}),e.jsxs(d,{value:"rejected",children:["Rejected (",x.filter(r=>r.status==="rejected").length,")"]})]})]}),e.jsxs(n,{variant:"body2",color:"text.secondary",children:["Showing ",v.length," of ",x.length," submissions"]})]})}),i.length>0&&e.jsx(S,{elevation:0,sx:{p:2,mb:2,border:"1px solid #e0e0e0",borderRadius:2,backgroundColor:"#f8f9fa"},children:e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsxs(n,{variant:"body1",sx:{fontWeight:600},children:[i.length," selected"]}),e.jsxs(E,{size:"small",sx:{minWidth:200},children:[e.jsx(O,{children:"Bulk Update Status"}),e.jsxs(F,{value:k,onChange:r=>w(r.target.value),label:"Bulk Update Status",children:[e.jsx(d,{value:"pending",children:"Pending"}),e.jsx(d,{value:"under_review",children:"Under Review"}),e.jsx(d,{value:"revision_required_phase1",children:"Revision Phase 1"}),e.jsx(d,{value:"revision_required_phase2",children:"Revision Phase 2"}),e.jsx(d,{value:"accepted",children:"Accepted"}),e.jsx(d,{value:"rejected",children:"Rejected"})]})]}),e.jsxs(g,{variant:"contained",onClick:j,disabled:!k,sx:{backgroundColor:"#1abc9c","&:hover":{backgroundColor:"#16a085"}},children:["Update ",i.length," Submissions"]})]})}),e.jsx(S,{elevation:0,sx:{border:"1px solid #e0e0e0",borderRadius:2},children:e.jsx(re,{children:e.jsxs(ne,{children:[e.jsx(te,{children:e.jsxs(_,{sx:{backgroundColor:"#f8f9fa"},children:[e.jsx(a,{padding:"checkbox",children:e.jsx(K,{indeterminate:i.length>0&&i.length<v.length,checked:v.length>0&&i.length===v.length,onChange:l})}),e.jsx(a,{sx:{fontWeight:600},children:"ID"}),e.jsx(a,{sx:{fontWeight:600},children:"Title"}),e.jsx(a,{sx:{fontWeight:600},children:"Author"}),e.jsx(a,{sx:{fontWeight:600},children:"Phone"}),e.jsx(a,{sx:{fontWeight:600},children:"Topic"}),e.jsx(a,{sx:{fontWeight:600},children:"Submitted"}),e.jsx(a,{sx:{fontWeight:600},children:"Status"}),e.jsx(a,{sx:{fontWeight:600},children:"Payment"}),e.jsx(a,{sx:{fontWeight:600},children:"Reviewers"}),e.jsx(a,{sx:{fontWeight:600},children:"Actions"})]})}),e.jsx(se,{children:v.length===0?e.jsx(_,{children:e.jsx(a,{colSpan:11,align:"center",children:e.jsx(n,{variant:"body2",color:"text.secondary",sx:{py:3},children:"No submissions found"})})}):v.map(r=>{const o=fe(r.id),u=r.reviews||[],m=u.length;return e.jsxs(_,{hover:!0,selected:o,children:[e.jsx(a,{padding:"checkbox",children:e.jsx(K,{checked:o,onChange:()=>b(r.id)})}),e.jsx(a,{children:r.id}),e.jsx(a,{children:r.title||"N/A"}),e.jsx(a,{children:r.user?.name||"N/A"}),e.jsx(a,{children:e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(n,{variant:"body2",children:r.user?.whatsapp||"N/A"}),r.user?.whatsapp&&e.jsx(M,{size:"small",onClick:()=>me(r),sx:{color:"#25D366","&:hover":{backgroundColor:"#25D36620"}},title:"Kirim Notifikasi via WhatsApp",children:e.jsx(Te,{sx:{fontSize:20}})})]})}),e.jsx(a,{children:r.paper_sub_theme||r.topic||"N/A"}),e.jsx(a,{children:new Date(r.created_at).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"Asia/Jakarta"}).replace(",","")}),e.jsx(a,{children:e.jsxs(F,{value:r.status||"pending",onChange:D=>P(r.id,D.target.value),size:"small",sx:{minWidth:150},children:[e.jsx(d,{value:"pending",children:"Pending"}),e.jsx(d,{value:"under_review",children:"Under Review"}),e.jsx(d,{value:"revision_required_phase1",children:"Revision Phase 1"}),e.jsx(d,{value:"revision_required_phase2",children:"Revision Phase 2"}),e.jsx(d,{value:"accepted",children:"Accepted"}),e.jsx(d,{value:"rejected",children:"Rejected"})]})}),e.jsx(a,{children:e.jsx(ae,{label:r.payment?.verified?"Paid":"Unpaid",color:r.payment?.verified?"success":"default",size:"small"})}),e.jsx(a,{children:m>0?e.jsxs(s,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[e.jsxs(n,{variant:"caption",sx:{fontWeight:600,color:"#1abc9c"},children:[e.jsx(ce,{sx:{fontSize:14,verticalAlign:"middle",mr:.5}}),"Reviewers: ",m,"/5"]}),u.map(D=>e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:.5,backgroundColor:"#f5f5f5",padding:"4px 8px",borderRadius:1},children:[e.jsx(n,{variant:"caption",sx:{flex:1,fontSize:"0.75rem"},children:D.reviewer?.name||"Unknown"}),e.jsx(M,{size:"small",onClick:()=>pe(r.id,D.reviewer_id),sx:{padding:"2px","&:hover":{color:"error.main"}},children:e.jsx(G,{sx:{fontSize:14}})})]},D.id)),m<5&&e.jsx(g,{size:"small",variant:"outlined",startIcon:e.jsx(ee,{}),onClick:()=>Y(r),sx:{color:"#1abc9c",borderColor:"#1abc9c",fontSize:"0.7rem",mt:.5},children:"Add More"})]}):e.jsx(g,{size:"small",variant:"outlined",startIcon:e.jsx(ee,{}),onClick:()=>Y(r),sx:{color:"#1abc9c",borderColor:"#1abc9c"},children:"Assign"})}),e.jsx(a,{children:e.jsx(M,{size:"small",onClick:()=>{confirm("Are you sure you want to delete this submission? This action cannot be undone and will delete all related reviews and payments.")&&A.delete(route("admin.submissions.delete",r.id),{preserveScroll:!0})},sx:{color:"#e53935","&:hover":{backgroundColor:"#ffebee"}},title:"Delete Submission",children:e.jsx(G,{})})})]},r.id)})})]})})})]}),e.jsxs(oe,{open:t.open,onClose:()=>I({open:!1,submission:null}),maxWidth:"sm",fullWidth:!0,children:[e.jsxs(ie,{children:["Assign Reviewers",t.submission&&e.jsxs(n,{variant:"caption",display:"block",color:"text.secondary",children:["Current: ",t.submission.reviews?.length||0,"/5 | Adding: ",h.length," | Total: ",(t.submission.reviews?.length||0)+h.length,"/5"]})]}),e.jsx(le,{children:t.submission&&e.jsxs(e.Fragment,{children:[e.jsxs(s,{sx:{mb:3,mt:1},children:[e.jsx(n,{variant:"body2",color:"text.secondary",children:"Submission:"}),e.jsx(n,{variant:"body1",sx:{fontWeight:600},children:t.submission.title})]}),t.submission.reviews&&t.submission.reviews.length>0&&e.jsxs(s,{sx:{mb:3},children:[e.jsx(n,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"Currently Assigned:"}),e.jsx(J,{dense:!0,children:t.submission.reviews.map(r=>e.jsx(X,{sx:{bgcolor:"#f5f5f5",mb:.5,borderRadius:1},children:e.jsx(Q,{primary:r.reviewer?.name||"Unknown",secondary:r.reviewer?.email})},r.id))})]}),h.length>0&&e.jsxs(s,{sx:{mb:3},children:[e.jsx(n,{variant:"subtitle2",sx:{mb:1,fontWeight:600,color:"#1abc9c"},children:"Selected to Add:"}),e.jsx(J,{dense:!0,children:h.map(r=>{const o=p.find(u=>u.id===r);return e.jsxs(X,{sx:{bgcolor:"#e8f5e9",mb:.5,borderRadius:1},children:[e.jsx(Q,{primary:o?.name||"Unknown",secondary:o?.email}),e.jsx(ye,{children:e.jsx(M,{edge:"end",size:"small",onClick:()=>he(r),children:e.jsx(G,{fontSize:"small"})})})]},r)})})]}),(t.submission.reviews?.length||0)+h.length<5?e.jsxs(E,{fullWidth:!0,children:[e.jsx(O,{children:"Select Reviewer to Add"}),e.jsx(F,{value:"",onChange:r=>xe(r.target.value),label:"Select Reviewer to Add",children:q().length===0?e.jsx(d,{disabled:!0,children:"No more reviewers available"}):q().map(r=>e.jsxs(d,{value:r.id,children:[r.name," (",r.email,")"]},r.id))})]}):e.jsx(Se,{severity:"info",children:"Maximum of 5 reviewers reached"})]})}),e.jsxs(de,{children:[e.jsx(g,{onClick:()=>{I({open:!1,submission:null}),C([])},children:"Cancel"}),e.jsxs(g,{onClick:ue,variant:"contained",disabled:h.length===0,sx:{backgroundColor:"#1abc9c","&:hover":{backgroundColor:"#16a085"}},children:["Assign ",h.length," Reviewer(s)"]})]})]})]})}const Ve=Object.freeze(Object.defineProperty({__proto__:null,default:Ue},Symbol.toStringTag,{value:"Module"}));export{Oe as D,Ge as P,Ve as S};
