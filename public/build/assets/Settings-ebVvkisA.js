import{j as e,J as h,aa as V,I as N,C as d,y as n,B as c,T as l,a6 as So,a7 as Co,a8 as ko,M as De,n as wo,r as i,K as b,aq as _o,ar as bt,V as R,L as k,A as W,H as ze,F as To,as as Fo}from"./vendor-mui-core-BP7c3UfX.js";import{u as Ao,H as Ro,b as T,r as p}from"./vendor-inertia-9DL0UMyN.js";import{S as Po}from"./layouts-D0TRlhgN.js";import{v as E,D as jt,a1 as O,a2 as Do,a3 as M}from"./vendor-mui-icons-C8sdnAIj.js";import"./vendor-react-zq6P3Ky3.js";function zo({resources:v,setResources:w,uploading:B,handleResourceFileUpload:g,handleResourceDelete:P}){return e.jsxs(h,{container:!0,spacing:3,children:[v.map((y,x)=>e.jsx(h,{size:{xs:12,md:4},children:e.jsxs(V,{elevation:2,sx:{p:3,background:"linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%)",borderRadius:2,textAlign:"center",minHeight:300,display:"flex",flexDirection:"column",position:"relative"},children:[e.jsx(N,{onClick:()=>P(x),sx:{position:"absolute",top:8,right:8,color:"error.main","&:hover":{backgroundColor:"error.lighter"}},size:"small",children:e.jsx(E,{})}),e.jsx(jt,{sx:{fontSize:48,color:"primary.main",mb:2,mx:"auto"}}),e.jsx(d,{label:"Resource Title",value:y?.title||"",onChange:U=>{const j=[...v];j[x]={...j[x],title:U.target.value},w(j)},fullWidth:!0,variant:"outlined",sx:{mb:2}}),e.jsx(d,{label:"Description",value:y?.description||"",onChange:U=>{const j=[...v];j[x]={...j[x],description:U.target.value},w(j)},fullWidth:!0,multiline:!0,rows:2,variant:"outlined",sx:{mb:2,flex:1}}),e.jsxs(n,{sx:{mt:"auto"},children:[e.jsx("input",{type:"file",id:`resource-upload-${x}`,accept:".pdf,.doc,.docx,.ppt,.pptx,.txt",style:{display:"none"},onChange:U=>{const j=U.target.files[0];if(j){const se=y?.title||`Resource ${x+1}`,ue=y?.description||"";g(se,ue,j,x)}}}),e.jsx("label",{htmlFor:`resource-upload-${x}`,children:e.jsx(c,{variant:"contained",component:"span",fullWidth:!0,disabled:B,sx:{backgroundColor:"#006838","&:hover":{backgroundColor:"#004d28"},mb:1},children:y?.file_url?"Replace File":"Upload File"})}),y?.file_url&&e.jsxs(l,{variant:"caption",color:"success.main",sx:{display:"block",mt:1},children:["âœ“ File uploaded: ",y.file_type?.toUpperCase()]})]})]})},x)),e.jsx(h,{size:{xs:12,md:4},children:e.jsxs(V,{elevation:2,sx:{p:3,background:"linear-gradient(135deg, #f5f5f5 0%, #e0e0e0 100%)",borderRadius:2,textAlign:"center",minHeight:300,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",cursor:"pointer",transition:"all 0.3s","&:hover":{background:"linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%)",transform:"scale(1.02)"}},onClick:()=>w([...v,{title:"",description:""}]),children:[e.jsx(O,{sx:{fontSize:64,color:"primary.main",mb:2}}),e.jsx(l,{variant:"h6",sx:{fontWeight:"bold",color:"primary.main"},children:"Add New Resource"}),e.jsx(l,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Click to add a new resource card"})]})})]})}function Io({timeline:v,setTimeline:w,handleTimelineDelete:B}){return e.jsxs(h,{container:!0,spacing:3,children:[v.map((g,P)=>e.jsx(h,{size:{xs:12,md:4},children:e.jsxs(V,{elevation:2,sx:{p:3,background:g.status==="active"?"linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%)":g.status==="completed"?"linear-gradient(135deg, #f5f5f5 0%, #e0e0e0 100%)":"linear-gradient(135deg, #fff9e6 0%, #ffecb3 100%)",borderRadius:2,textAlign:"center",minHeight:320,display:"flex",flexDirection:"column",position:"relative",border:g.status==="active"?"2px solid #4caf50":"none"},children:[e.jsx(N,{onClick:()=>B(P),sx:{position:"absolute",top:8,right:8,color:"error.main","&:hover":{backgroundColor:"error.lighter"}},size:"small",children:e.jsx(E,{})}),g.status==="active"&&e.jsx(n,{sx:{position:"absolute",top:-10,left:"50%",transform:"translateX(-50%)",backgroundColor:"#006838",color:"white",px:2,py:.5,borderRadius:1,fontSize:"0.75rem",fontWeight:"bold"},children:"ACTIVE NOW"}),e.jsx(Do,{sx:{fontSize:48,color:"primary.main",mb:2,mx:"auto",mt:g.status==="active"?2:0}}),e.jsx(d,{label:"Event Title",value:g?.title||"",onChange:y=>{const x=[...v];x[P]={...x[P],title:y.target.value},w(x)},fullWidth:!0,variant:"outlined",sx:{mb:2}}),e.jsx(d,{label:"Date",placeholder:"e.g., January 18, 2026",value:g?.date||"",onChange:y=>{const x=[...v];x[P]={...x[P],date:y.target.value},w(x)},fullWidth:!0,variant:"outlined",sx:{mb:2}}),e.jsxs(So,{fullWidth:!0,sx:{mb:2},children:[e.jsx(Co,{children:"Status"}),e.jsxs(ko,{value:g?.status||"upcoming",label:"Status",onChange:y=>{const x=[...v];x[P]={...x[P],status:y.target.value},w(x)},children:[e.jsx(De,{value:"upcoming",children:"Upcoming"}),e.jsx(De,{value:"active",children:"Active Now"}),e.jsx(De,{value:"completed",children:"Completed"})]})]}),e.jsxs(l,{variant:"caption",color:"text.secondary",sx:{mt:"auto"},children:[g.status==="active"&&"ðŸŸ¢ Currently happening",g.status==="upcoming"&&"â³ Coming soon",g.status==="completed"&&"âœ… Completed"]})]})},P)),e.jsx(h,{size:{xs:12,md:4},children:e.jsxs(V,{elevation:2,sx:{p:3,background:"linear-gradient(135deg, #f5f5f5 0%, #e0e0e0 100%)",borderRadius:2,textAlign:"center",minHeight:320,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",cursor:"pointer",transition:"all 0.3s","&:hover":{background:"linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%)",transform:"scale(1.02)"}},onClick:()=>w([...v,{title:"",date:"",status:"upcoming"}]),children:[e.jsx(O,{sx:{fontSize:64,color:"primary.main",mb:2}}),e.jsx(l,{variant:"h6",sx:{fontWeight:"bold",color:"primary.main"},children:"Add Timeline Event"}),e.jsx(l,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Click to add a new milestone"})]})})]})}function vt({children:v,value:w,index:B}){return e.jsx("div",{hidden:w!==B,children:w===B&&e.jsx(n,{sx:{pt:3},children:v})})}function Ho({settings:v,submissionSettings:w}){const B=wo(),g=B.palette.custom,P=B.palette.mode==="dark",[y,x]=i.useState(0),[U,j]=i.useState(!1),se={"& .MuiOutlinedInput-root":{borderRadius:"10px","& fieldset":{borderColor:g.cardBorder},"&:hover fieldset":{borderColor:"#1abc9c"},"&.Mui-focused fieldset":{borderColor:"#1abc9c"}},"& .MuiInputLabel-root.Mui-focused":{color:"#1abc9c"},"& input, & textarea":{color:g.textPrimary},"& .MuiFormHelperText-root":{color:g.textMuted}},ue={background:"linear-gradient(135deg, #0d7a6a 0%, #1abc9c 100%)","&:hover":{background:"linear-gradient(135deg, #16a085 0%, #0d7a6a 100%)"},borderRadius:"10px",textTransform:"none",fontWeight:600,px:3,boxShadow:"0 4px 14px rgba(26,188,156,0.35)"},S={borderRadius:"14px",border:`1px solid ${g.cardBorder}`,bgcolor:g.cardBg,overflow:"hidden"},F={fontWeight:700,fontSize:"1rem",color:"#1abc9c",mb:2},m=(t,o="")=>{if(!v)return o;for(const r in v){const s=v[r].find(a=>a.key===t);if(s){if(s.type==="json")try{return JSON.parse(s.value)}catch{return o}return s.value}}return o},_=t=>{if(!v)return null;for(const o in v){const r=v[o].find(s=>s.key===t);if(r)return r.id}return null},[Ie,yt]=i.useState(m("countdown_target_date","")),[z,ae]=i.useState(()=>{const t=m("contact_info","{}");try{return typeof t=="string"?JSON.parse(t):t}catch{return{phone:"",email:"",location:"",maps_url:""}}}),[Se,Ce]=i.useState(m("timeline",[])),ke=m("keynote_speakers",[]),[X,pe]=i.useState(ke&&ke.length>0?ke:[{name:"",title:"",photo:"",institution:""}]),[we,St]=i.useState(m("keynote_speakers_description","Distinguished experts bridging the gap between geological science and practical sustainability.")),[ne,_e]=i.useState(m("sponsors",[])),[Te,Ct]=i.useState(m("sponsors_description","Empowering the future of geological science through strategic partnerships.")),[q,ge]=i.useState(m("partners",[])),[We,le]=i.useState(!1),[he,xe]=i.useState(m("resources",[])),[G,Fe]=i.useState(()=>{const t=m("resources_text",null);return t&&typeof t=="object"?t:{section_label:"DOWNLOADS",title:"Seminar Resources",subtitle:"Everything you need to prepare a professional presentation for the IAGI-GEOSEA 2026 conference."}}),[Me,Ee]=i.useState(!1),[Ue,Le]=i.useState(!1),[Ne,me]=i.useState(!1),[Oe,Be]=i.useState(!1),[He,Y]=i.useState(!1),[J,ie]=i.useState(()=>{const t=m("afgeo_members",null);return t&&Array.isArray(t)?t:[{name:"IAGI",country:"Indonesia",logo:""},{name:"GSM",country:"Malaysia",logo:""},{name:"GST",country:"Thailand",logo:""},{name:"GSP",country:"Philippines",logo:""},{name:"GSV",country:"Vietnam",logo:""},{name:"GSJ",country:"Japan",logo:""},{name:"GSK",country:"Korea",logo:""},{name:"GSC",country:"China",logo:""}]}),[Ge,Je]=i.useState(!1),[A,ce]=i.useState(()=>{const t=m("afgeo_text",null);return t&&typeof t=="object"?t:{section_label:"OUR NETWORK",title:"AFGEO Member",subtitle:"Association of Federation of Geoscientists of East and Southeast Asia"}}),[Wo,Mo]=i.useState(!1),[C,I]=i.useState(()=>{const t=m("custom_sections",null);return t&&Array.isArray(t)?t:[]}),[$e,qe]=i.useState(!1),[L,fe]=i.useState(()=>{const t=m("social_media",null);return t&&typeof t=="object"?t:{instagram:"https://www.instagram.com/iagi_official/",facebook:"https://www.facebook.com/iagi.official",twitter:"https://twitter.com/iagi_official",youtube:"https://www.youtube.com/@iagi_official"}}),[Ke,Z]=i.useState(!1),[ee,kt]=i.useState(()=>{const t=m("hero_background",null);return t&&typeof t=="object"?t:{url:"/hero-background1.mp4",type:"video",filename:"hero-background1.mp4"}}),[Qe,Ve]=i.useState(!1),wt=i.useRef(null),[H,be]=i.useState(()=>{const t=m("hero_text",null);return t&&typeof t=="object"?t:{title_line1:"PIT IAGI",title_line2:"GEOSEA XIX 2026",theme_label:"CONFERENCE THEME",theme_text:"Advancing Geological Sciences for Sustainable Development"}}),[Xe,Ye]=i.useState(!1),[ve,_t]=i.useState(()=>{const t=m("hero_logo",null);return t&&typeof t=="object"?t:{url:"/WhatsApp_Image_2025-12-29_at_19.37.46-removebg-preview.png",filename:"default_logo.png"}}),[Ze,et]=i.useState(!1),Tt=i.useRef(null),[Ae,tt]=i.useState(()=>{const t=m("hero_logos_secondary",null);return t&&Array.isArray(t)?t:[]}),[ot,rt]=i.useState(!1),Ft=i.useRef(null),[st,at]=i.useState(null),[D,K]=i.useState(()=>{const t=m("submission_procedure",null);return t&&Array.isArray(t)?t:t&&typeof t=="object"&&t.pendaftaran?[{title:"PENDAFTARAN",items:t.pendaftaran||[]},{title:"SUBMISSION ABSTRACT",items:t.abstract||[]}]:[{title:"PENDAFTARAN",items:[{text:"Register on our platform with your email",link:"/register"},{text:"Complete your profile information",link:"/dashboard"},{text:"Choose your participation category",link:"/register"},{text:"Wait for account verification",link:""}]},{title:"SUBMISSION ABSTRACT",items:[{text:"Download the abstract template from Resources",link:"#resources"},{text:"Prepare your abstract following the guidelines",link:"#resources"},{text:"Upload your abstract through the submission portal",link:"/dashboard"},{text:"Track your submission status in your dashboard",link:"/dashboard"}]}]}),[nt,je]=i.useState(!1),[te,lt]=i.useState(()=>{const t=m("faq_background",null);return t&&typeof t=="object"?t:{url:"",filename:""}}),[it,ct]=i.useState(!1),[oe,dt]=i.useState(()=>{const t=m("faq_text",null);return t&&typeof t=="object"?t:{title:"FREQUENTLY ASKED QUESTION",subtitle:"Follow these simple steps to submit your abstract for the conference"}}),[ut,pt]=i.useState(!1),{data:de,setData:Re,post:At,processing:gt,errors:re}=Ao({submission_deadline_start:w?.submission_deadline_start||"",submission_deadline_end:w?.submission_deadline_end||"",submission_enabled:w?.submission_enabled==="1"}),Rt=t=>{t.preventDefault(),At(route("admin.submission.settings.update"))},Pt=(t,o)=>{x(o)},Dt=async()=>{const t=_("countdown_target_date");if(!t){alert("Countdown setting not found");return}Le(!0);try{await p.patch(route("admin.settings.update",t),{value:Ie},{preserveScroll:!0,onSuccess:()=>{alert("Countdown timer updated successfully!")},onError:o=>{console.error("Save failed:",o),alert("Failed to save countdown timer")}})}finally{Le(!1)}},zt=()=>{const t=_("contact_info");if(console.log("Saving contact info, settingId:",t),console.log("Contact info data:",z),!t){alert("Contact info setting not found"),console.error("Setting ID not found for contact_info");return}me(!0),p.patch(route("admin.settings.update",t),{value:JSON.stringify(z)},{preserveScroll:!0,onSuccess:()=>{console.log("Contact info saved successfully"),alert("Contact information updated successfully!"),me(!1)},onError:o=>{console.error("Save failed:",o),alert("Failed to save contact information. Check console for details."),me(!1)},onFinish:()=>{me(!1)}})},It=()=>{const t=_("social_media");if(Z(!0),!t){p.post(route("admin.settings.store"),{key:"social_media",value:JSON.stringify(L),group:"landing_page",type:"json"},{preserveScroll:!0,onSuccess:()=>{alert("Social media links saved successfully!"),Z(!1),p.reload({preserveScroll:!0})},onError:o=>{console.error("Save failed:",o),alert("Failed to save social media links"),Z(!1)}});return}p.patch(route("admin.settings.update",t),{value:JSON.stringify(L)},{preserveScroll:!0,onSuccess:()=>{alert("Social media links updated successfully!"),Z(!1)},onError:o=>{console.error("Save failed:",o),alert("Failed to save social media links"),Z(!1)},onFinish:()=>{Z(!1)}})},Wt=async()=>{const t=_("keynote_speakers");if(!t){alert("Keynote speakers setting not found");return}Be(!0);try{await p.patch(route("admin.settings.update",t),{value:JSON.stringify(X)},{preserveScroll:!0});const o=_("keynote_speakers_description");o?await p.patch(route("admin.settings.update",o),{value:we},{preserveScroll:!0}):await p.post(route("admin.settings.store"),{key:"keynote_speakers_description",value:we},{preserveScroll:!0}),alert("Keynote speakers updated successfully!")}catch(o){console.error("Save failed:",o),alert("Failed to save keynote speakers")}finally{Be(!1)}},Mt=()=>{pe([...X,{name:"",title:"",photo:"",institution:""}])},Et=t=>{if(confirm("Are you sure you want to remove this speaker?")){const o=X.filter((r,s)=>s!==t);pe(o)}},Ut=()=>{const t=_("sponsors");if(!t){alert("Sponsors setting not found");return}Y(!0),p.patch(`/admin/settings/${t}`,{value:JSON.stringify(ne)},{preserveScroll:!0,onSuccess:()=>{const o=_("sponsors_description");o?p.patch(`/admin/settings/${o}`,{value:Te},{preserveScroll:!0,onSuccess:()=>{Y(!1),alert("Sponsors saved successfully!")},onError:r=>{Y(!1),console.error("Description save error:",r),alert("Sponsors saved, but description failed.")}}):p.post("/admin/settings",{key:"sponsors_description",value:Te},{preserveScroll:!0,onSuccess:()=>{Y(!1),alert("Sponsors saved successfully!")},onError:()=>{Y(!1),alert("Sponsors saved, but description failed.")}})},onError:o=>{Y(!1),console.error("Sponsors save error:",o),alert("Failed to save sponsors.")}})},Lt=()=>{ie([...J,{name:"",country:"",logo:""}])},Nt=t=>{if(confirm("Are you sure you want to remove this member?")){const o=J.filter((r,s)=>s!==t);ie(o)}},Ot=async(t,o)=>{if(!o)return;const r=new FormData;r.append("logo",o),r.append("index",t);try{const s=await T.post("/admin/settings/afgeo-member-logo",r,{headers:{"Content-Type":"multipart/form-data"}});if(s.data.success){const a=[...J];a[t].logo=s.data.logo_url,ie(a)}}catch(s){console.error("Upload error:",s),alert("Failed to upload logo")}},Bt=async(t,o)=>{if(!o)return;const r=m("keynote_speakers",[]);if(t>=r.length){alert("Please save the speakers first before uploading photos for new speakers.");return}const s=new FormData;s.append("photo",o),s.append("index",t),j(!0);try{const a=await T.post(route("admin.settings.uploadSpeakerPhoto"),s,{headers:{"Content-Type":"multipart/form-data"}});if(a.data.success){alert("Speaker photo uploaded successfully!");const u=[...X];u[t].photo=a.data.photo_url,pe(u)}else alert("Upload failed: "+(a.data.error||"Unknown error"))}catch(a){console.error("Upload error:",a),alert("Failed to upload photo: "+(a.response?.data?.error||a.message))}finally{j(!1)}},Ht=async(t,o)=>{if(!o)return;const r=new FormData;r.append("logo",o),r.append("index",t),j(!0);try{const a=await(await fetch(route("admin.settings.uploadSponsorLogo"),{method:"POST",body:r,headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').content}})).json();if(a.success){const u=[...ne];u[t].logo=a.logo_url,_e(u)}}catch(s){console.error("Logo upload failed:",s),alert("Failed to upload logo")}finally{j(!1)}},Gt=async(t,o,r,s=null)=>{if(!r||!t)return alert("Please provide a title and select a file"),!1;const a=new FormData;a.append("file",r),a.append("title",t),a.append("description",o||""),s!==null&&a.append("resource_index",s),j(!0);try{const u=await T.post(route("admin.settings.uploadResourceFile"),a,{headers:{"Content-Type":"multipart/form-data"}});if(u.data.success){let f=[...he];return s!==null?f[s]=u.data.resource:f.push(u.data.resource),xe(f),p.reload({preserveScroll:!0}),alert("Resource uploaded successfully! Landing Page will be updated."),!0}}catch(u){console.error("Resource upload error:",u),alert("Failed to upload resource")}finally{j(!1)}return!1},Jt=t=>{if(confirm("Are you sure you want to delete this resource?")){const o=he.filter((s,a)=>a!==t);xe(o);const r=_("resources");r&&p.patch(route("admin.settings.update",r),{value:JSON.stringify(o)},{preserveScroll:!0,onSuccess:()=>{alert("Resource deleted successfully!")}})}},$t=async()=>{try{const t=await T.post(route("admin.settings.saveResources"),{resources:he});t.data.success&&(xe(t.data.resources),p.reload({preserveScroll:!0}),alert("Resources saved successfully!"))}catch(t){console.error("Save resources error:",t),alert("Failed to save resources")}},qt=async()=>{Ee(!0);try{const t=_("resources_text");t?await p.patch(route("admin.settings.update",t),{value:JSON.stringify(G)},{preserveScroll:!0}):await p.post(route("admin.settings.store"),{key:"resources_text",value:JSON.stringify(G),type:"json"},{preserveScroll:!0}),alert("Resources text settings saved successfully!")}catch(t){console.error("Save error:",t),alert("Failed to save resources text settings")}finally{Ee(!1)}},Kt=async()=>{pt(!0);try{const t=_("faq_text");t?await p.patch(route("admin.settings.update",t),{value:JSON.stringify(oe)},{preserveScroll:!0}):await p.post(route("admin.settings.store"),{key:"faq_text",value:JSON.stringify(oe),type:"json"},{preserveScroll:!0}),alert("FAQ text settings saved successfully!")}catch(t){console.error("Save error:",t),alert("Failed to save FAQ text settings")}finally{pt(!1)}},Qt=t=>{if(confirm("Are you sure you want to delete this timeline event?")){const o=Se.filter((r,s)=>s!==t);Ce(o)}},Vt=async()=>{try{const t=await T.post(route("admin.settings.saveTimeline"),{timeline:Se});t.data.success&&(Ce(t.data.timeline),p.reload({preserveScroll:!0}),alert("Timeline saved successfully!"))}catch(t){console.error("Save timeline error:",t),alert("Failed to save timeline: "+(t.response?.data?.error||t.message))}},Xt=async()=>{Ye(!0);try{await T.post(route("admin.settings.saveHeroText"),{hero_text:H}),p.reload({preserveScroll:!0}),alert("Hero text saved successfully!")}catch(t){console.error("Save hero text error:",t),alert("Failed to save hero text: "+(t.response?.data?.error||t.message))}finally{Ye(!1)}},Yt=async t=>{if(!t)return;const o=new FormData;o.append("hero_logo",t),et(!0);try{const r=await T.post(route("admin.settings.uploadHeroLogo"),o,{headers:{"Content-Type":"multipart/form-data"}});r.data.success&&(_t(r.data.hero_logo),p.reload({preserveScroll:!0}),alert("Hero logo uploaded successfully!"))}catch(r){console.error("Hero logo upload error:",r),alert("Failed to upload hero logo: "+(r.response?.data?.error||r.message))}finally{et(!1)}},Zt=async t=>{if(!t)return;const o=new FormData;o.append("hero_logo_secondary",t),rt(!0);try{const r=await T.post(route("admin.settings.uploadHeroLogoSecondary"),o,{headers:{"Content-Type":"multipart/form-data"}});r.data.success&&(tt(r.data.hero_logos_secondary),alert("Secondary logo added successfully!"))}catch(r){console.error("Secondary logo upload error:",r),alert("Failed to upload secondary logo: "+(r.response?.data?.error||r.message))}finally{rt(!1)}},eo=async t=>{if(confirm("Are you sure you want to delete this logo?")){at(t);try{const o=await T.post(route("admin.settings.deleteHeroLogoSecondary"),{index:t});o.data.success&&(tt(o.data.hero_logos_secondary),alert("Secondary logo deleted successfully!"))}catch(o){console.error("Delete logo error:",o),alert("Failed to delete logo: "+(o.response?.data?.error||o.message))}finally{at(null)}}},to=async t=>{if(!t)return;const o=new FormData;o.append("hero_background",t),Ve(!0);try{const r=await T.post(route("admin.settings.uploadHeroBackground"),o,{headers:{"Content-Type":"multipart/form-data"}});r.data.success&&(kt(r.data.hero_background),p.reload({preserveScroll:!0}),alert("Hero background uploaded successfully!"))}catch(r){console.error("Hero background upload error:",r),alert("Failed to upload hero background: "+(r.response?.data?.error||r.message))}finally{Ve(!1)}},Pe=(t,o,r)=>{const s=[...X];s[t][o]=r,pe(s)},oo=()=>{_e([...ne,{name:"",logo:"",tier:"gold"}])},ro=t=>{const o=ne.filter((r,s)=>s!==t);_e(o)},so=()=>{ge([...q,{name:"",poster:"",url:""}])},ao=t=>{const o=q.filter((r,s)=>s!==t);ge(o)},ht=(t,o,r)=>{const s=[...q];s[t][o]=r,ge(s)},no=async(t,o)=>{if(!o)return;const r=new FormData;r.append("poster",o),r.append("index",t),j(!0);try{const a=await(await fetch(route("admin.settings.uploadPartnerPoster"),{method:"POST",body:r,headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').content}})).json();if(a.success){const u=[...q];u[t].poster=a.poster_url,ge(u)}}catch(s){console.error("Partner poster upload failed:",s),alert("Failed to upload poster")}finally{j(!1)}},lo=()=>{const t=_("partners");if(le(!0),!t){p.post(route("admin.settings.store"),{key:"partners",value:JSON.stringify(q),group:"landing_page",type:"json"},{preserveScroll:!0,onSuccess:()=>{le(!1),alert("Partners saved successfully!"),p.reload({preserveScroll:!0})},onError:o=>{le(!1),console.error("Partners save error:",o),alert("Failed to save partners.")}});return}p.patch(`/admin/settings/${t}`,{value:JSON.stringify(q)},{preserveScroll:!0,onSuccess:()=>{le(!1),alert("Partners saved successfully!")},onError:o=>{le(!1),console.error("Partners save error:",o),alert("Failed to save partners.")}})},io=(t,o,r,s)=>{const a=[...D];a[t].items[o][r]=s,K(a)},co=(t,o)=>{const r=[...D];r[t].title=o,K(r)},uo=t=>{const o=[...D];o[t].items=[...o[t].items,{text:"",link:"",filename:""}],K(o)},po=(t,o)=>{const r=[...D];r[t].items=r[t].items.filter((s,a)=>a!==o),K(r)},go=()=>{K([...D,{title:"NEW SECTION",items:[{text:"",link:"",filename:""}]}])},ho=t=>{D.length<=1||K(D.filter((o,r)=>r!==t))},xo=()=>{je(!0),p.patch(route("admin.settings.update","submission_procedure"),{value:JSON.stringify(D)},{preserveScroll:!0,onSuccess:()=>{je(!1),alert("Submission procedure settings saved successfully!")},onError:t=>{je(!1),console.error("Save errors:",t),alert("Failed to save submission procedure settings")},onFinish:()=>{je(!1)}})},[xt,mt]=i.useState(null),mo=async(t,o,r)=>{if(!r)return;const s=new FormData;s.append("file",r),s.append("title",D[t].items[o].text||`procedure_${t}_${o}`),s.append("description",`${D[t].title} Step ${o+1}`),mt(`${t}_${o}`);try{const a=await T.post(route("admin.settings.uploadResourceFile"),s,{headers:{"Content-Type":"multipart/form-data"}});if(a.data.success){const u=[...D];u[t].items[o].link=a.data.resource.file_url,u[t].items[o].filename=a.data.resource.title+"."+a.data.resource.file_type,K(u),alert("PDF uploaded successfully! Click Save to persist changes.")}}catch(a){console.error("PDF upload error:",a),alert("Failed to upload PDF: "+(a.response?.data?.error||a.message))}finally{mt(null)}},fo=(t,o=1920,r=.7)=>new Promise(s=>{if(t.size<=1.8*1024*1024){s(t);return}const a=new FileReader;a.onload=u=>{const f=new Image;f.onload=()=>{const Q=document.createElement("canvas");let{width:$,height:ye}=f;$>o&&(ye=ye*o/$,$=o),Q.width=$,Q.height=ye,Q.getContext("2d").drawImage(f,0,0,$,ye),Q.toBlob(yo=>{const ft=new File([yo],t.name,{type:"image/jpeg",lastModified:Date.now()});console.log(`Compressed: ${(t.size/1024/1024).toFixed(2)}MB â†’ ${(ft.size/1024/1024).toFixed(2)}MB`),s(ft)},"image/jpeg",r)},f.src=u.target.result},a.readAsDataURL(t)}),bo=async t=>{if(t){ct(!0);try{const o=await fo(t),r=new FormData;r.append("background",o);const s=await T.post("/admin/settings/faq-background",r,{headers:{"Content-Type":"multipart/form-data"}});s.data.success&&(lt({url:s.data.background_url,filename:t.name}),alert("FAQ background uploaded successfully!"))}catch(o){console.error("FAQ background upload error:",o),alert("Failed to upload background: "+(o.response?.data?.error||o.message))}finally{ct(!1)}}},vo=async()=>{if(confirm("Are you sure you want to remove the FAQ background?"))try{const t=_("faq_background");t&&await p.patch(route("admin.settings.update",t),{value:JSON.stringify({url:"",filename:""})},{preserveScroll:!0}),lt({url:"",filename:""}),alert("FAQ background removed successfully!")}catch(t){console.error("Remove FAQ background error:",t),alert("Failed to remove background")}},jo=async()=>{alert("Save functionality to be implemented with PATCH requests to update settings")};return e.jsxs(Po,{children:[e.jsx(Ro,{title:"Settings"}),e.jsxs(n,{sx:{p:{xs:2,sm:3,md:3.5},maxWidth:"1200px",margin:"0 auto",minHeight:"100vh",bgcolor:g.surfaceBg},children:[e.jsxs(n,{sx:{mb:3},children:[e.jsx(l,{variant:"h4",sx:{fontWeight:800,color:g.textPrimary,fontSize:{xs:"1.5rem",sm:"1.85rem"},letterSpacing:"-0.02em"},children:"System Settings âš™ï¸"}),e.jsx(l,{variant:"body2",sx:{color:g.textMuted,mt:.5},children:"Configure your landing page and submission settings"})]}),e.jsxs(b,{elevation:0,sx:{borderRadius:"16px",border:`1px solid ${g.cardBorder}`,bgcolor:g.cardBg,overflow:"hidden"},children:[e.jsxs(_o,{value:y,onChange:Pt,sx:{borderBottom:`1px solid ${g.cardBorder}`,px:2,bgcolor:P?"rgba(0,0,0,0.1)":"#f9fafb","& .MuiTab-root":{textTransform:"none",fontSize:"0.9rem",fontWeight:600,color:g.textMuted,borderRadius:"8px 8px 0 0",py:1.5},"& .Mui-selected":{color:"#1abc9c"},"& .MuiTabs-indicator":{backgroundColor:"#1abc9c",height:3,borderRadius:"3px 3px 0 0"}},children:[e.jsx(bt,{label:"Landing Page Settings"}),e.jsx(bt,{label:"Submission Deadline"})]}),e.jsx(vt,{value:y,index:0,children:e.jsx(n,{sx:{p:3},children:e.jsxs(R,{spacing:4,children:[e.jsx(b,{elevation:0,sx:S,children:e.jsxs(k,{sx:{p:3},children:[e.jsx(l,{variant:"h6",sx:F,children:"â±ï¸ Countdown Timer"}),e.jsx(d,{fullWidth:!0,type:"datetime-local",label:"Target Date & Time",value:Ie,onChange:t=>yt(t.target.value),InputLabelProps:{shrink:!0},sx:{mb:2,...se}}),e.jsx(n,{sx:{display:"flex",justifyContent:"flex-end"},children:e.jsx(c,{variant:"contained",onClick:Dt,disabled:Ue,sx:ue,children:Ue?"Saving...":"Save Countdown"})})]})}),e.jsx(b,{elevation:0,sx:S,children:e.jsxs(k,{children:[e.jsx(l,{variant:"h6",sx:F,children:"Hero Background"}),e.jsx(l,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Upload a video (.mp4, .webm) or image (.jpg, .png, .gif) for the hero section background. Max size: 50MB."}),ee?.url&&e.jsx(n,{sx:{mb:3,borderRadius:2,overflow:"hidden",maxHeight:200},children:ee.type==="video"?e.jsx("video",{src:ee.url,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,style:{width:"100%",height:200,objectFit:"cover"}}):e.jsx("img",{src:ee.url,alt:"Hero Background",style:{width:"100%",height:200,objectFit:"cover"}})}),e.jsxs(R,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx("input",{ref:wt,type:"file",accept:"video/mp4,video/webm,image/jpeg,image/png,image/gif",onChange:t=>{t.target.files&&t.target.files[0]&&to(t.target.files[0])},style:{display:"none"},id:"hero-background-input"}),e.jsx("label",{htmlFor:"hero-background-input",children:e.jsx(c,{variant:"contained",component:"span",disabled:Qe,startIcon:e.jsx(M,{}),sx:{backgroundColor:"#1abc9c","&:hover":{backgroundColor:"#16a085"}},children:Qe?"Uploading...":"Upload New Background"})}),ee?.filename&&e.jsxs(l,{variant:"body2",color:"text.secondary",children:["Current: ",ee.filename]})]})]})}),e.jsx(b,{elevation:0,sx:S,children:e.jsxs(k,{children:[e.jsx(l,{variant:"h6",sx:F,children:"Hero Text Settings"}),e.jsx(l,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Customize the main title, subtitle, and conference theme text displayed on the hero section."}),e.jsxs(R,{spacing:2,children:[e.jsx(d,{fullWidth:!0,label:"Title Line 1 (e.g., PIT IAGI)",value:H.title_line1,onChange:t=>be({...H,title_line1:t.target.value}),sx:{"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:"#1abc9c"}}}}),e.jsx(d,{fullWidth:!0,label:"Title Line 2 (e.g., GEOSEA XIX 2026)",value:H.title_line2,onChange:t=>be({...H,title_line2:t.target.value}),sx:{"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:"#1abc9c"}}}}),e.jsx(d,{fullWidth:!0,label:"Theme Label (e.g., CONFERENCE THEME)",value:H.theme_label,onChange:t=>be({...H,theme_label:t.target.value}),sx:{"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:"#1abc9c"}}}}),e.jsx(d,{fullWidth:!0,label:"Conference Theme Text",value:H.theme_text,onChange:t=>be({...H,theme_text:t.target.value}),multiline:!0,rows:2,sx:{"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:"#1abc9c"}}}})]}),e.jsx(n,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:e.jsx(c,{variant:"contained",onClick:Xt,disabled:Xe,sx:{backgroundColor:"#1abc9c","&:hover":{backgroundColor:"#16a085"}},children:Xe?"Saving...":"Save Hero Text"})})]})}),e.jsx(b,{elevation:0,sx:S,children:e.jsxs(k,{children:[e.jsx(l,{variant:"h6",sx:F,children:"Hero Logo"}),e.jsx(l,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Upload the center logo displayed on the hero section. Recommended: transparent PNG or SVG. Max size: 5MB."}),ve?.url&&e.jsx(n,{sx:{mb:3,display:"flex",justifyContent:"center"},children:e.jsx(n,{sx:{width:120,height:120,borderRadius:"50%",bgcolor:"white",p:2,boxShadow:"0 4px 20px rgba(0,0,0,0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("img",{src:ve.url,alt:"Hero Logo",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}})})}),e.jsxs(R,{direction:"row",spacing:2,alignItems:"center",justifyContent:"center",children:[e.jsx("input",{ref:Tt,type:"file",accept:"image/jpeg,image/png,image/gif,image/svg+xml",onChange:t=>{t.target.files&&t.target.files[0]&&Yt(t.target.files[0])},style:{display:"none"},id:"hero-logo-input"}),e.jsx("label",{htmlFor:"hero-logo-input",children:e.jsx(c,{variant:"contained",component:"span",disabled:Ze,startIcon:e.jsx(M,{}),sx:{backgroundColor:"#1abc9c","&:hover":{backgroundColor:"#16a085"}},children:Ze?"Uploading...":"Upload New Logo"})}),ve?.filename&&e.jsxs(l,{variant:"body2",color:"text.secondary",children:["Current: ",ve.filename]})]})]})}),e.jsx(b,{elevation:0,sx:S,children:e.jsxs(k,{children:[e.jsx(l,{variant:"h6",sx:F,children:"Secondary Hero Logos"}),e.jsx(l,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Upload smaller secondary logos displayed below the main logo. You can add multiple logos."}),Ae.length>0&&e.jsx(n,{sx:{mb:3,display:"flex",flexWrap:"wrap",gap:2,justifyContent:"center"},children:Ae.map((t,o)=>e.jsxs(n,{sx:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx(n,{sx:{width:80,height:80,borderRadius:"50%",bgcolor:"white",boxShadow:"0 4px 15px rgba(0,0,0,0.1)",overflow:"hidden",position:"relative"},children:e.jsx("img",{src:t.url,alt:`Secondary Logo ${o+1}`,style:{width:"100%",height:"100%",objectFit:"cover"}})}),e.jsx(c,{size:"small",color:"error",onClick:()=>eo(o),disabled:st===o,sx:{mt:1,fontSize:"0.7rem"},children:st===o?"Deleting...":"Delete"})]},o))}),Ae.length===0&&e.jsx(l,{variant:"body2",color:"text.secondary",sx:{mb:2,textAlign:"center"},children:"No secondary logos uploaded yet."}),e.jsxs(R,{direction:"row",spacing:2,alignItems:"center",justifyContent:"center",children:[e.jsx("input",{ref:Ft,type:"file",accept:"image/jpeg,image/png,image/gif,image/svg+xml",onChange:t=>{t.target.files&&t.target.files[0]&&Zt(t.target.files[0])},style:{display:"none"},id:"hero-logo-secondary-input"}),e.jsx("label",{htmlFor:"hero-logo-secondary-input",children:e.jsx(c,{variant:"contained",component:"span",disabled:ot,startIcon:e.jsx(M,{}),sx:{backgroundColor:"#1abc9c","&:hover":{backgroundColor:"#16a085"}},children:ot?"Uploading...":"Add Secondary Logo"})})]})]})}),e.jsx(b,{elevation:0,sx:S,children:e.jsxs(k,{children:[e.jsx(l,{variant:"h6",sx:F,children:"Contact Information"}),e.jsx(l,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Manage contact details displayed on the landing page (Phone, Email, Location with map)"}),e.jsxs(R,{spacing:2,children:[e.jsx(d,{fullWidth:!0,label:"Phone Number",value:z.phone||"",onChange:t=>ae({...z,phone:t.target.value}),placeholder:"e.g., 0857/1593522"}),e.jsx(d,{fullWidth:!0,label:"Email Address",type:"email",value:z.email||"",onChange:t=>ae({...z,email:t.target.value}),placeholder:"e.g., wahyuwutomo31@gmail.com"}),e.jsx(d,{fullWidth:!0,label:"Telegram Username",value:z.telegram||"",onChange:t=>ae({...z,telegram:t.target.value}),placeholder:"e.g., @iagi_geosea2026"}),e.jsx(d,{fullWidth:!0,multiline:!0,rows:3,label:"Location Address",value:z.location||"",onChange:t=>ae({...z,location:t.target.value}),placeholder:"e.g., UPN Veteran Yogyakarta, Jl. SWK 104 (Lingkar Utara), Yogyakarta 55283"}),e.jsx(d,{fullWidth:!0,label:"Google Maps Embed URL",value:z.maps_url||"",onChange:t=>ae({...z,maps_url:t.target.value}),placeholder:"Enter Google Maps embed URL or coordinates",helperText:"Paste the embed URL from Google Maps (Share > Embed a map)"}),e.jsx(n,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:e.jsx(c,{variant:"contained",onClick:zt,disabled:Ne,sx:{backgroundColor:"#1abc9c","&:hover":{backgroundColor:"#16a085"}},children:Ne?"Saving...":"Save Contact Info"})})]})]})}),e.jsx(b,{elevation:0,sx:S,children:e.jsxs(k,{children:[e.jsx(l,{variant:"h6",sx:F,children:"Follow Us"}),e.jsx(W,{severity:"info",sx:{mb:3},children:"Manage social media links displayed on the landing page footer"}),e.jsxs(R,{spacing:2,children:[e.jsx(d,{fullWidth:!0,label:"Instagram URL",value:L.instagram||"",onChange:t=>fe({...L,instagram:t.target.value}),placeholder:"https://www.instagram.com/your_account",InputProps:{startAdornment:e.jsx(n,{sx:{mr:1,color:"#E4405F",display:"flex"},children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})})}}),e.jsx(d,{fullWidth:!0,label:"Facebook URL",value:L.facebook||"",onChange:t=>fe({...L,facebook:t.target.value}),placeholder:"https://www.facebook.com/your_page",InputProps:{startAdornment:e.jsx(n,{sx:{mr:1,color:"#1877F2",display:"flex"},children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})})}}),e.jsx(d,{fullWidth:!0,label:"Twitter / X URL",value:L.twitter||"",onChange:t=>fe({...L,twitter:t.target.value}),placeholder:"https://twitter.com/your_handle",InputProps:{startAdornment:e.jsx(n,{sx:{mr:1,color:"#000",display:"flex"},children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})})}}),e.jsx(d,{fullWidth:!0,label:"YouTube URL",value:L.youtube||"",onChange:t=>fe({...L,youtube:t.target.value}),placeholder:"https://www.youtube.com/@your_channel",InputProps:{startAdornment:e.jsx(n,{sx:{mr:1,color:"#FF0000",display:"flex"},children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})})})}}),e.jsx(n,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:e.jsx(c,{variant:"contained",onClick:It,disabled:Ke,sx:{backgroundColor:"#1abc9c","&:hover":{backgroundColor:"#16a085"}},children:Ke?"Saving...":"Save Social Media Links"})})]})]})}),e.jsx(b,{elevation:0,sx:S,children:e.jsxs(k,{children:[e.jsx(W,{severity:"info",sx:{mb:2},children:"Manage keynote speakers for the conference. Upload photos and add speaker details."}),e.jsxs(n,{sx:{mb:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(W,{severity:"warning",sx:{flex:1,mr:2},children:"Save speakers first before uploading photos for new speakers!"}),e.jsx(c,{variant:"outlined",startIcon:e.jsx(O,{}),onClick:Mt,sx:{borderColor:"#1abc9c",color:"#1abc9c",whiteSpace:"nowrap"},children:"Add Speaker"})]}),e.jsx(d,{fullWidth:!0,label:"Speakers Section Description",value:we,onChange:t=>St(t.target.value),multiline:!0,rows:2,placeholder:"Description text shown below 'Keynote Speakers' heading",helperText:"This text appears on the landing page under the Keynote Speakers title",sx:{mb:3}}),e.jsx(h,{container:!0,spacing:2,children:X.map((t,o)=>e.jsx(h,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(b,{sx:{p:2,height:"100%",position:"relative"},children:[e.jsx(n,{sx:{position:"absolute",top:8,right:8},children:e.jsx(c,{size:"small",variant:"outlined",color:"error",onClick:()=>Et(o),sx:{minWidth:"auto",p:.5},children:e.jsx(E,{fontSize:"small"})})}),e.jsxs(l,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:["Speaker ",o+1]}),e.jsx(n,{sx:{width:"100%",height:200,backgroundColor:"#f5f5f5",borderRadius:1,mb:2,display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",backgroundImage:t.photo?`url(${t.photo})`:"none",backgroundSize:"cover",backgroundPosition:"center"},children:!t.photo&&e.jsx(l,{variant:"caption",color:"text.secondary",children:"No Photo"})}),e.jsxs(c,{fullWidth:!0,variant:"outlined",component:"label",startIcon:e.jsx(M,{}),disabled:U,sx:{mb:2},children:["Upload Photo",e.jsx("input",{type:"file",hidden:!0,accept:"image/*",onChange:r=>Bt(o,r.target.files[0])})]}),e.jsx(d,{fullWidth:!0,size:"small",label:"Name",value:t.name,onChange:r=>Pe(o,"name",r.target.value),sx:{mb:1}}),e.jsx(d,{fullWidth:!0,size:"small",label:"Title/Affiliation",value:t.title,onChange:r=>Pe(o,"title",r.target.value),sx:{mb:1}}),e.jsx(d,{fullWidth:!0,size:"small",label:"Institution (Optional)",value:t.institution||"",onChange:r=>Pe(o,"institution",r.target.value),placeholder:"e.g., Asian Geological Institute"})]})},o))}),e.jsx(n,{sx:{display:"flex",justifyContent:"flex-end",mt:3},children:e.jsx(c,{variant:"contained",onClick:Wt,disabled:Oe,sx:{backgroundColor:"#1abc9c","&:hover":{backgroundColor:"#16a085"}},children:Oe?"Saving...":"Save Speakers"})})]})}),e.jsx(b,{elevation:0,sx:S,children:e.jsxs(k,{children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(l,{variant:"h6",sx:{color:"#1abc9c"},children:"SUPPORTED"}),e.jsx(c,{variant:"contained",startIcon:e.jsx(O,{}),onClick:oo,sx:{backgroundColor:"#1abc9c"},children:"Add Supported"})]}),e.jsx(d,{fullWidth:!0,label:"Supported Section Description",value:Te,onChange:t=>Ct(t.target.value),multiline:!0,rows:2,placeholder:"Description text shown below 'Partners & Sponsors' heading",helperText:"This text appears on the landing page under the SUPPORTED BY : title",sx:{mb:3}}),e.jsx(h,{container:!0,spacing:2,children:ne.map((t,o)=>e.jsx(h,{item:!0,xs:12,sm:6,md:4,children:e.jsxs(b,{variant:"outlined",sx:{p:2,position:"relative"},children:[e.jsx(N,{size:"small",onClick:()=>ro(o),sx:{position:"absolute",top:8,right:8},children:e.jsx(E,{fontSize:"small"})}),e.jsx(n,{sx:{width:"100%",height:150,backgroundColor:"#f5f5f5",borderRadius:1,mb:2,display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",backgroundImage:t.logo?`url(${t.logo})`:"none",backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:!t.logo&&e.jsx(l,{variant:"caption",color:"text.secondary",children:"No Logo"})}),e.jsxs(c,{fullWidth:!0,variant:"outlined",component:"label",startIcon:e.jsx(M,{}),disabled:U,sx:{mb:2},children:["Upload Logo",e.jsx("input",{type:"file",hidden:!0,accept:"image/*",onChange:r=>Ht(o,r.target.files[0])})]})]})},o))}),e.jsx(n,{sx:{display:"flex",justifyContent:"flex-end",mt:3},children:e.jsx(c,{variant:"contained",onClick:Ut,disabled:He,sx:{backgroundColor:"#1abc9c","&:hover":{backgroundColor:"#16a085"}},children:He?"Saving...":"Save Sponsors"})})]})}),e.jsx(b,{elevation:0,sx:S,children:e.jsxs(k,{children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(l,{variant:"h6",sx:{color:"#1abc9c"},children:"Event Partners"}),e.jsx(c,{variant:"contained",startIcon:e.jsx(O,{}),onClick:so,sx:{backgroundColor:"#1abc9c"},children:"Add Partner"})]}),e.jsx(W,{severity:"info",sx:{mb:3},children:"Upload partner posters with name and link URL. These will appear on the landing page as clickable poster cards."}),e.jsx(h,{container:!0,spacing:2,children:q.map((t,o)=>e.jsx(h,{item:!0,xs:12,sm:6,md:4,children:e.jsxs(b,{variant:"outlined",sx:{p:2,position:"relative"},children:[e.jsx(N,{size:"small",onClick:()=>ao(o),sx:{position:"absolute",top:8,right:8,zIndex:1},children:e.jsx(E,{fontSize:"small"})}),e.jsx(n,{sx:{width:"100%",height:200,backgroundColor:"#f5f5f5",borderRadius:1,mb:2,display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",backgroundImage:t.poster?`url(${t.poster})`:"none",backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:!t.poster&&e.jsx(l,{variant:"caption",color:"text.secondary",children:"No Poster"})}),e.jsxs(c,{fullWidth:!0,variant:"outlined",component:"label",startIcon:e.jsx(M,{}),disabled:U,sx:{mb:2},children:["Upload Poster",e.jsx("input",{type:"file",hidden:!0,accept:"image/*",onChange:r=>no(o,r.target.files[0])})]}),e.jsx(d,{fullWidth:!0,label:"Partner Name",value:t.name||"",onChange:r=>ht(o,"name",r.target.value),sx:{mb:2},size:"small"}),e.jsx(d,{fullWidth:!0,label:"Website URL",value:t.url||"",onChange:r=>ht(o,"url",r.target.value),placeholder:"https://example.com",size:"small"})]})},o))}),e.jsx(n,{sx:{display:"flex",justifyContent:"flex-end",mt:3},children:e.jsx(c,{variant:"contained",onClick:lo,disabled:We,sx:{backgroundColor:"#1abc9c","&:hover":{backgroundColor:"#16a085"}},children:We?"Saving...":"Save Partners"})})]})}),e.jsx(b,{elevation:0,sx:S,children:e.jsxs(k,{children:[e.jsx(l,{variant:"h6",sx:F,children:"Conference Resources"}),e.jsx(W,{severity:"info",sx:{mb:3},children:"Upload presentation templates and guidelines for conference submissions"}),e.jsx(l,{variant:"subtitle2",sx:{mb:2,color:"#6b7280",fontWeight:600},children:"Section Header Text"}),e.jsxs(h,{container:!0,spacing:2,sx:{mb:3},children:[e.jsx(h,{item:!0,xs:12,sm:4,children:e.jsx(d,{label:"Section Label",value:G.section_label,onChange:t=>Fe({...G,section_label:t.target.value}),fullWidth:!0,size:"small",helperText:"e.g. DOWNLOADS"})}),e.jsx(h,{item:!0,xs:12,sm:4,children:e.jsx(d,{label:"Title",value:G.title,onChange:t=>Fe({...G,title:t.target.value}),fullWidth:!0,size:"small",helperText:"e.g. Seminar Resources"})}),e.jsx(h,{item:!0,xs:12,sm:4,children:e.jsx(d,{label:"Subtitle",value:G.subtitle,onChange:t=>Fe({...G,subtitle:t.target.value}),fullWidth:!0,size:"small",helperText:"Full description"})})]}),e.jsx(n,{sx:{display:"flex",justifyContent:"flex-end",mb:3},children:e.jsx(c,{variant:"outlined",size:"small",onClick:qt,disabled:Me,sx:{borderColor:"#1abc9c",color:"#1abc9c"},children:Me?"Saving...":"Save Section Text"})}),e.jsx(ze,{sx:{my:2}}),e.jsx(zo,{resources:he,setResources:xe,uploading:U,handleResourceFileUpload:Gt,handleResourceDelete:Jt}),e.jsx(n,{sx:{display:"flex",justifyContent:"flex-end",mt:3},children:e.jsx(c,{variant:"contained",size:"large",onClick:$t,sx:{backgroundColor:"#1abc9c","&:hover":{backgroundColor:"#16a085"}},children:"Save All Resources"})})]})}),e.jsx(b,{elevation:0,sx:S,children:e.jsxs(k,{children:[e.jsx(l,{variant:"h6",sx:F,children:"AFGEO Members"}),e.jsx(W,{severity:"info",sx:{mb:3},children:"Manage AFGEO (Association of Federation of Geoscientists of East and Southeast Asia) member organizations"}),e.jsx(l,{variant:"subtitle2",sx:{mb:2,color:"#6b7280",fontWeight:600},children:"Section Header Text"}),e.jsxs(h,{container:!0,spacing:2,sx:{mb:3},children:[e.jsx(h,{item:!0,xs:12,sm:4,children:e.jsx(d,{label:"Section Label",value:A.section_label,onChange:t=>ce({...A,section_label:t.target.value}),fullWidth:!0,size:"small",helperText:"e.g. OUR NETWORK"})}),e.jsx(h,{item:!0,xs:12,sm:4,children:e.jsx(d,{label:"Title",value:A.title,onChange:t=>ce({...A,title:t.target.value}),fullWidth:!0,size:"small",helperText:"e.g. AFGEO Member"})}),e.jsx(h,{item:!0,xs:12,sm:4,children:e.jsx(d,{label:"Subtitle",value:A.subtitle,onChange:t=>ce({...A,subtitle:t.target.value}),fullWidth:!0,size:"small",helperText:"Full description"})})]}),e.jsxs(n,{sx:{mt:2,p:2,bgcolor:"#f9fafb",borderRadius:1,border:"1px dashed #e5e7eb"},children:[e.jsx(l,{variant:"subtitle2",sx:{mb:1,color:"#6b7280",fontSize:"0.8rem"},children:"Section Background Image"}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2},children:[A.background&&e.jsx(n,{component:"img",src:A.background,sx:{width:100,height:60,objectFit:"cover",borderRadius:1,border:"1px solid #e5e7eb"}}),e.jsxs(c,{variant:"outlined",size:"small",component:"label",startIcon:e.jsx(M,{}),children:[A.background?"Change Background":"Upload Background",e.jsx("input",{type:"file",hidden:!0,accept:"image/*",onChange:async t=>{const o=t.target.files[0];if(o)try{const r=new FormData;r.append("background",o);const s=await T.post("/admin/settings/afgeo-background",r,{headers:{"Content-Type":"multipart/form-data"}});s.data.background_url&&ce({...A,background:s.data.background_url})}catch(r){console.error("Background upload error:",r),alert("Failed to upload background")}}})]}),A.background&&e.jsx(c,{variant:"text",size:"small",color:"error",onClick:()=>ce({...A,background:""}),children:"Remove"})]})]}),e.jsx(ze,{sx:{my:2}}),e.jsx(l,{variant:"subtitle2",sx:{mb:2,color:"#6b7280",fontWeight:600},children:"Member Organizations"}),e.jsx(h,{container:!0,spacing:2,children:J.map((t,o)=>e.jsx(h,{item:!0,xs:12,sm:6,md:4,children:e.jsx(V,{sx:{p:2,border:"1px solid #e5e7eb"},children:e.jsxs(R,{spacing:2,children:[e.jsx(d,{label:"Organization Name",value:t.name,onChange:r=>{const s=[...J];s[o].name=r.target.value,ie(s)},fullWidth:!0,size:"small"}),e.jsx(d,{label:"Country",value:t.country,onChange:r=>{const s=[...J];s[o].country=r.target.value,ie(s)},fullWidth:!0,size:"small"}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.logo&&e.jsx(n,{component:"img",src:t.logo,sx:{width:50,height:50,objectFit:"contain",borderRadius:1,border:"1px solid #e5e7eb"}}),e.jsxs(c,{variant:"outlined",size:"small",component:"label",startIcon:e.jsx(M,{}),children:["Logo",e.jsx("input",{type:"file",hidden:!0,accept:"image/*",onChange:r=>Ot(o,r.target.files[0])})]}),e.jsx(N,{size:"small",color:"error",onClick:()=>Nt(o),children:e.jsx(E,{})})]})]})})},o))}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mt:3},children:[e.jsx(c,{variant:"outlined",startIcon:e.jsx(O,{}),onClick:Lt,sx:{borderColor:"#1abc9c",color:"#1abc9c"},children:"Add Member"}),e.jsx(c,{variant:"contained",onClick:async()=>{Je(!0);try{const t=_("afgeo_members");t?await p.patch(route("admin.settings.update",t),{value:JSON.stringify(J)},{preserveScroll:!0}):await p.post(route("admin.settings.store"),{key:"afgeo_members",value:JSON.stringify(J),type:"json"},{preserveScroll:!0});const o=_("afgeo_text");o?await p.patch(route("admin.settings.update",o),{value:JSON.stringify(A)},{preserveScroll:!0}):await p.post(route("admin.settings.store"),{key:"afgeo_text",value:JSON.stringify(A),type:"json"},{preserveScroll:!0}),alert("AFGEO Settings saved successfully!")}catch(t){console.error("Save error:",t),alert("Failed to save AFGEO Settings")}finally{Je(!1)}},disabled:Ge,sx:{backgroundColor:"#1abc9c","&:hover":{backgroundColor:"#16a085"}},children:Ge?"Saving...":"Save AFGEO Settings"})]})]})}),e.jsx(b,{elevation:0,sx:S,children:e.jsxs(k,{children:[e.jsx(l,{variant:"h6",sx:F,children:"Custom Sections"}),e.jsx(W,{severity:"info",sx:{mb:3},children:"Create additional sections on the landing page (similar to AFGEO Member section)"}),C.length===0?e.jsx(n,{sx:{textAlign:"center",py:4,bgcolor:"#f9fafb",borderRadius:2},children:e.jsx(l,{color:"text.secondary",sx:{mb:2},children:'No custom sections yet. Click "Add New Section" to create one.'})}):e.jsx(R,{spacing:3,children:C.map((t,o)=>e.jsxs(V,{sx:{p:3,border:"1px solid #e5e7eb"},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsxs(l,{variant:"subtitle1",sx:{fontWeight:600,color:"#374151"},children:["Section #",o+1]}),e.jsx(N,{size:"small",color:"error",onClick:()=>{confirm("Delete this section?")&&I(C.filter((r,s)=>s!==o))},children:e.jsx(E,{})})]}),e.jsxs(h,{container:!0,spacing:2,sx:{mb:2},children:[e.jsx(h,{item:!0,xs:12,sm:4,children:e.jsx(d,{label:"Section Label",value:t.section_label||"",onChange:r=>{const s=[...C];s[o].section_label=r.target.value,I(s)},fullWidth:!0,size:"small",placeholder:"e.g. OUR PARTNERS"})}),e.jsx(h,{item:!0,xs:12,sm:4,children:e.jsx(d,{label:"Title",value:t.title||"",onChange:r=>{const s=[...C];s[o].title=r.target.value,I(s)},fullWidth:!0,size:"small",placeholder:"e.g. Our Partners"})}),e.jsx(h,{item:!0,xs:12,sm:4,children:e.jsx(d,{label:"Subtitle",value:t.subtitle||"",onChange:r=>{const s=[...C];s[o].subtitle=r.target.value,I(s)},fullWidth:!0,size:"small",placeholder:"Description"})})]}),e.jsxs(n,{sx:{mt:2,p:2,bgcolor:"#f9fafb",borderRadius:1,border:"1px dashed #e5e7eb"},children:[e.jsx(l,{variant:"subtitle2",sx:{mb:1,color:"#6b7280",fontSize:"0.8rem"},children:"Section Background Image"}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.background&&e.jsx(n,{component:"img",src:t.background,sx:{width:100,height:60,objectFit:"cover",borderRadius:1,border:"1px solid #e5e7eb"}}),e.jsxs(c,{variant:"outlined",size:"small",component:"label",startIcon:e.jsx(M,{}),children:[t.background?"Change Background":"Upload Background",e.jsx("input",{type:"file",hidden:!0,accept:"image/*",onChange:async r=>{const s=r.target.files[0];if(s)try{const a=new FormData;a.append("background",s),a.append("section_index",o);const u=await T.post("/admin/settings/custom-section-background",a,{headers:{"Content-Type":"multipart/form-data"}});if(u.data.background_url){const f=[...C];f[o].background=u.data.background_url,I(f)}}catch(a){console.error("Background upload error:",a),alert("Failed to upload background")}}})]}),t.background&&e.jsx(c,{variant:"text",size:"small",color:"error",onClick:()=>{const r=[...C];r[o].background="",I(r)},children:"Remove"})]})]}),e.jsx(ze,{sx:{my:2}}),e.jsx(l,{variant:"subtitle2",sx:{mb:2,color:"#6b7280"},children:"Items"}),e.jsx(h,{container:!0,spacing:2,children:(t.members||[]).map((r,s)=>e.jsx(h,{item:!0,xs:12,sm:6,md:4,children:e.jsx(V,{sx:{p:2,border:"1px solid #e5e7eb"},children:e.jsxs(R,{spacing:1,children:[e.jsx(d,{label:"Name",value:r.name||"",onChange:a=>{const u=[...C];u[o].members[s].name=a.target.value,I(u)},fullWidth:!0,size:"small"}),e.jsx(d,{label:"Description",value:r.country||"",onChange:a=>{const u=[...C];u[o].members[s].country=a.target.value,I(u)},fullWidth:!0,size:"small"}),e.jsxs(n,{sx:{display:"flex",gap:1,alignItems:"center"},children:[r.logo&&e.jsx(n,{component:"img",src:r.logo,sx:{width:40,height:40,objectFit:"contain",borderRadius:1,border:"1px solid #e5e7eb"}}),e.jsxs(c,{variant:"outlined",size:"small",component:"label",startIcon:e.jsx(M,{}),sx:{fontSize:"0.7rem"},children:["Logo",e.jsx("input",{type:"file",hidden:!0,accept:"image/*",onChange:async a=>{const u=a.target.files[0];if(u)try{const f=new FormData;f.append("logo",u),f.append("section_index",o),f.append("member_index",s);const Q=await T.post("/admin/settings/custom-section-logo",f,{headers:{"Content-Type":"multipart/form-data"}});if(Q.data.logo_url){const $=[...C];$[o].members[s].logo=Q.data.logo_url,I($)}}catch(f){console.error("Logo upload error:",f),alert("Failed to upload logo")}}})]}),e.jsx(N,{size:"small",color:"error",onClick:()=>{const a=[...C];a[o].members=a[o].members.filter((u,f)=>f!==s),I(a)},children:e.jsx(E,{fontSize:"small"})})]})]})})},s))}),e.jsx(c,{variant:"outlined",size:"small",startIcon:e.jsx(O,{}),onClick:()=>{const r=[...C];r[o].members||(r[o].members=[]),r[o].members.push({name:"",country:"",logo:""}),I(r)},sx:{mt:2,borderColor:"#1abc9c",color:"#1abc9c"},children:"Add Item"})]},o))}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mt:3},children:[e.jsx(c,{variant:"outlined",startIcon:e.jsx(O,{}),onClick:()=>{I([...C,{section_label:"NEW SECTION",title:"Section Title",subtitle:"Section description",members:[]}])},sx:{borderColor:"#1abc9c",color:"#1abc9c"},children:"Add New Section"}),e.jsx(c,{variant:"contained",onClick:async()=>{qe(!0);try{const t=_("custom_sections");t?await p.patch(route("admin.settings.update",t),{value:JSON.stringify(C)},{preserveScroll:!0}):await p.post(route("admin.settings.store"),{key:"custom_sections",value:JSON.stringify(C),type:"json"},{preserveScroll:!0}),alert("Custom Sections saved successfully!")}catch(t){console.error("Save error:",t),alert("Failed to save Custom Sections")}finally{qe(!1)}},disabled:$e,sx:{backgroundColor:"#1abc9c","&:hover":{backgroundColor:"#16a085"}},children:$e?"Saving...":"Save Custom Sections"})]})]})}),e.jsx(b,{elevation:0,sx:S,children:e.jsxs(k,{children:[e.jsx(l,{variant:"h6",sx:F,children:"Submission Procedure"}),e.jsx(W,{severity:"info",sx:{mb:3},children:"Manage the submission procedure steps shown on the landing page. You can add new sections and steps."}),e.jsxs(n,{sx:{mb:3,p:2,bgcolor:"#f9fafb",borderRadius:1,border:"1px dashed #e5e7eb"},children:[e.jsx(l,{variant:"subtitle2",sx:{mb:2,color:"#6b7280",fontWeight:600,fontSize:"0.85rem"},children:"Section Text Settings"}),e.jsxs(R,{spacing:2,children:[e.jsx(d,{label:"Section Title",fullWidth:!0,size:"small",value:oe.title,onChange:t=>dt({...oe,title:t.target.value}),placeholder:"e.g. FREQUENTLY ASKED QUESTION"}),e.jsx(d,{label:"Section Subtitle",fullWidth:!0,size:"small",value:oe.subtitle,onChange:t=>dt({...oe,subtitle:t.target.value}),placeholder:"e.g. Follow these simple steps to submit your abstract..."}),e.jsx(c,{variant:"contained",size:"small",onClick:Kt,disabled:ut,sx:{alignSelf:"flex-start",backgroundColor:"#1abc9c","&:hover":{backgroundColor:"#16a085"}},children:ut?"Saving...":"Save Text Settings"})]})]}),e.jsxs(n,{sx:{mb:3,p:2,bgcolor:"#f9fafb",borderRadius:1,border:"1px dashed #e5e7eb"},children:[e.jsx(l,{variant:"subtitle2",sx:{mb:1,color:"#6b7280",fontWeight:600,fontSize:"0.85rem"},children:"Section Background Image"}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2,flexWrap:"wrap"},children:[te.url&&e.jsx(n,{component:"img",src:te.url,sx:{width:120,height:70,objectFit:"cover",borderRadius:1,border:"1px solid #e5e7eb"}}),e.jsxs(c,{variant:"outlined",size:"small",component:"label",startIcon:e.jsx(M,{}),disabled:it,sx:{borderColor:"#1abc9c",color:"#1abc9c"},children:[it?"Uploading...":te.url?"Change Background":"Upload Background",e.jsx("input",{type:"file",hidden:!0,accept:"image/*",onChange:t=>bo(t.target.files[0])})]}),te.url&&e.jsx(c,{variant:"outlined",size:"small",color:"error",startIcon:e.jsx(E,{}),onClick:vo,children:"Remove"})]}),te.filename&&e.jsxs(l,{variant:"caption",sx:{display:"block",mt:1,color:"#9ca3af"},children:["Current: ",te.filename]})]}),D.map((t,o)=>e.jsxs(n,{sx:{mb:4,p:2,bgcolor:"#f9fafb",borderRadius:2,border:"1px solid #e5e7eb"},children:[e.jsxs(n,{sx:{display:"flex",gap:2,alignItems:"center",mb:2},children:[e.jsx(d,{value:t.title,onChange:r=>co(o,r.target.value),size:"small",sx:{flex:1,"& .MuiOutlinedInput-root":{fontWeight:600,"&.Mui-focused fieldset":{borderColor:"#1abc9c"}}},placeholder:"Section Title"}),e.jsx(N,{onClick:()=>ho(o),color:"error",disabled:D.length<=1,title:"Remove Section",children:e.jsx(E,{})})]}),e.jsxs(R,{spacing:2,children:[t.items.map((r,s)=>e.jsxs(n,{sx:{display:"flex",gap:2,alignItems:"flex-start"},children:[e.jsx(d,{fullWidth:!0,label:`Step ${s+1} Text`,value:r.text,onChange:a=>io(o,s,"text",a.target.value),size:"small",sx:{"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:"#1abc9c"}}}}),e.jsxs(n,{sx:{display:"flex",gap:1,alignItems:"center",minWidth:220},children:[e.jsxs(c,{variant:"outlined",component:"label",size:"small",startIcon:e.jsx(M,{}),disabled:xt===`${o}_${s}`,sx:{borderColor:r.link?"#1abc9c":"#ccc",color:r.link?"#1abc9c":"#666",minWidth:120,"&:hover":{borderColor:"#16a085"}},children:[xt===`${o}_${s}`?"Uploading...":r.filename||"Upload PDF",e.jsx("input",{type:"file",hidden:!0,accept:".pdf",onChange:a=>mo(o,s,a.target.files[0])})]}),r.link&&e.jsx(N,{size:"small",onClick:()=>window.open(r.link,"_blank"),sx:{color:"#1abc9c"},title:"View PDF",children:e.jsx(jt,{fontSize:"small"})})]}),e.jsx(N,{onClick:()=>po(o,s),color:"error",disabled:t.items.length<=1,children:e.jsx(E,{})})]},s)),e.jsx(c,{startIcon:e.jsx(O,{}),variant:"outlined",onClick:()=>uo(o),sx:{alignSelf:"flex-start",borderColor:"#1abc9c",color:"#1abc9c","&:hover":{borderColor:"#16a085",backgroundColor:"rgba(26, 188, 156, 0.04)"}},children:"Add Step"})]})]},o)),e.jsx(c,{startIcon:e.jsx(O,{}),variant:"contained",onClick:go,sx:{mb:3,backgroundColor:"#0d7a6a","&:hover":{backgroundColor:"#095c50"}},children:"Add New Section"}),e.jsx(n,{sx:{display:"flex",justifyContent:"flex-end"},children:e.jsx(c,{variant:"contained",onClick:xo,disabled:nt,sx:{backgroundColor:"#1abc9c","&:hover":{backgroundColor:"#16a085"}},children:nt?"Saving...":"Save Submission Procedure"})})]})}),e.jsx(b,{elevation:0,sx:S,children:e.jsxs(k,{children:[e.jsx(l,{variant:"h6",sx:F,children:"Conference Timeline"}),e.jsx(W,{severity:"info",sx:{mb:3},children:"Manage important conference dates and milestones"}),e.jsx(Io,{timeline:Se,setTimeline:Ce,handleTimelineDelete:Qt}),e.jsx(n,{sx:{display:"flex",justifyContent:"flex-end",mt:3},children:e.jsx(c,{variant:"contained",size:"large",onClick:Vt,sx:{backgroundColor:"#1abc9c","&:hover":{backgroundColor:"#16a085"}},children:"Save All Timeline"})})]})}),e.jsxs(n,{sx:{display:"flex",justifyContent:"flex-end",gap:2},children:[e.jsx(c,{variant:"outlined",size:"large",onClick:()=>window.open("/","_blank"),sx:{borderColor:"#1abc9c",color:"#1abc9c","&:hover":{borderColor:"#16a085",backgroundColor:"rgba(26, 188, 156, 0.04)"},px:4},children:"Preview Landing Page"}),e.jsx(c,{variant:"contained",size:"large",onClick:jo,sx:{backgroundColor:"#1abc9c","&:hover":{backgroundColor:"#16a085"},px:4},children:"Save All Settings"})]})]})})}),e.jsx(vt,{value:y,index:1,children:e.jsxs(n,{sx:{p:3},children:[e.jsx(W,{severity:"success",sx:{mb:3},children:e.jsxs(l,{variant:"body2",children:[e.jsx("strong",{children:"Active Settings:"})," Configure when users can submit their papers for the conference."]})}),e.jsx(b,{elevation:0,sx:S,children:e.jsx(k,{sx:{p:3},children:e.jsx(n,{component:"form",onSubmit:Rt,children:e.jsxs(R,{spacing:3,children:[e.jsxs(n,{children:[e.jsx(l,{variant:"h6",sx:F,children:"Submission Control"}),e.jsx(To,{control:e.jsx(Fo,{checked:de.submission_enabled,onChange:t=>Re("submission_enabled",t.target.checked),sx:{"& .MuiSwitch-switchBase.Mui-checked":{color:"#1abc9c"},"& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track":{backgroundColor:"#1abc9c"}}}),label:e.jsxs(n,{children:[e.jsx(l,{sx:{fontWeight:600},children:de.submission_enabled?"âœ… Submissions Enabled":"ðŸš« Submissions Disabled"}),e.jsx(l,{variant:"caption",color:"text.secondary",children:de.submission_enabled?"Users can submit papers (subject to deadline dates below)":"All submissions are currently blocked"})]})})]}),e.jsxs(n,{children:[e.jsx(l,{variant:"h6",sx:F,children:"Submission Period"}),e.jsxs(R,{spacing:2,children:[e.jsx(d,{fullWidth:!0,type:"datetime-local",label:"Start Date & Time",value:de.submission_deadline_start,onChange:t=>Re("submission_deadline_start",t.target.value),error:!!re.submission_deadline_start,helperText:re.submission_deadline_start||"When submissions will open (leave empty for no start restriction)",InputLabelProps:{shrink:!0},sx:se}),e.jsx(d,{fullWidth:!0,type:"datetime-local",label:"End Date & Time",value:de.submission_deadline_end,onChange:t=>Re("submission_deadline_end",t.target.value),error:!!re.submission_deadline_end,helperText:re.submission_deadline_end||"When submissions will close (leave empty for no end restriction)",InputLabelProps:{shrink:!0},sx:se})]})]}),e.jsx(W,{severity:"info",children:e.jsxs(l,{variant:"body2",children:[e.jsx("strong",{children:"Note:"}),' Users will not be able to submit new papers outside the specified deadline period. The "New Submission" button will be disabled and show a notification about the deadline.']})}),re.error&&e.jsx(W,{severity:"error",children:re.error}),e.jsxs(n,{sx:{display:"flex",justifyContent:"flex-end",pt:2,gap:2},children:[e.jsx(c,{variant:"outlined",onClick:()=>window.location.reload(),sx:{color:g.textMuted,borderColor:g.cardBorder,borderRadius:"10px",textTransform:"none",fontWeight:600,"&:hover":{borderColor:"#1abc9c",backgroundColor:P?"rgba(26,188,156,0.06)":"#f9fafb"}},children:"Reset"}),e.jsx(c,{type:"submit",variant:"contained",disabled:gt,sx:ue,children:gt?"Saving...":"Save Settings"})]})]})})})})]})})]})]})]})}export{Ho as default};
