import{r as u,j as e,y as v,T as x,D as S,Y as n,Z as a,$ as t,a0 as l,H as D,J as F,K as G,L as f,M as o,O as P,Q as d,am as V,B as j,R as A,S as z,U as E,W as O,V as I}from"./vendor-mui-core-DSrMDzQK.js";import{H as B,r as C}from"./vendor-inertia-D0celjUq.js";import{S as H}from"./layouts-XmNXNaBG.js";import{V as L,R as M}from"./vendor-mui-icons-BfL4mwRo.js";import"./vendor-react-zq6P3Ky3.js";import"./components-kagBm8H-.js";import"./pages-profile-3giIzxLj.js";function Y({reviews:c=[]}){const[g,_]=u.useState({open:!1,review:null}),[i,r]=u.useState({originality_score:0,relevance_score:0,clarity_score:0,methodology_score:0,overall_score:0}),[m,b]=u.useState(""),[h,W]=u.useState("all"),y=c.filter(s=>h==="all"?!0:h==="completed"?s.originality_score:h==="pending"?!s.originality_score:!0),R=s=>{_({open:!0,review:s}),r({originality_score:s.originality_score||0,relevance_score:s.relevance_score||0,clarity_score:s.clarity_score||0,methodology_score:s.methodology_score||0,overall_score:s.overall_score||0}),b(s.comments||"")},p=()=>{_({open:!1,review:null}),r({originality_score:0,relevance_score:0,clarity_score:0,methodology_score:0,overall_score:0}),b("")},k=()=>{g.review&&C.post(route("reviewer.reviews.submit",g.review.id),{...i,comments:m},{onSuccess:()=>{p()}})},T=s=>{C.get(route("reviewer.submissions.view",s))};return e.jsxs(H,{children:[e.jsx(B,{title:"Assigned Submissions"}),e.jsxs(v,{sx:{p:3},children:[e.jsx(x,{variant:"h4",gutterBottom:!0,sx:{fontWeight:"bold",color:"#1abc9c",mb:3},children:"Assigned Submissions"}),e.jsx(S,{elevation:0,sx:{p:2,mb:2,border:"1px solid #e0e0e0",borderRadius:2},children:e.jsxs(v,{sx:{display:"flex",gap:2,alignItems:"center",flexWrap:"wrap"},children:[e.jsxs(n,{size:"small",sx:{minWidth:200},children:[e.jsx(a,{children:"Filter Review Status"}),e.jsxs(t,{value:h,label:"Filter Review Status",onChange:s=>W(s.target.value),children:[e.jsxs(l,{value:"all",children:["All (",c.length,")"]}),e.jsxs(l,{value:"pending",children:["Pending (",c.filter(s=>!s.originality_score).length,")"]}),e.jsxs(l,{value:"completed",children:["Completed (",c.filter(s=>s.originality_score).length,")"]})]})]}),e.jsxs(x,{variant:"body2",color:"text.secondary",children:["Showing ",y.length," of ",c.length," submissions"]})]})}),e.jsx(D,{component:S,sx:{boxShadow:"0 2px 12px rgba(0,0,0,0.08)"},children:e.jsxs(F,{children:[e.jsx(G,{children:e.jsxs(f,{sx:{backgroundColor:"#f8f9fa"},children:[e.jsx(o,{sx:{fontWeight:"bold"},children:"Submission Code"}),e.jsx(o,{sx:{fontWeight:"bold"},children:"Title"}),e.jsx(o,{sx:{fontWeight:"bold"},children:"Sub Theme"}),e.jsx(o,{sx:{fontWeight:"bold"},children:"Author"}),e.jsx(o,{sx:{fontWeight:"bold"},children:"Participant Category"}),e.jsx(o,{sx:{fontWeight:"bold"},children:"Presentation Type"}),e.jsx(o,{sx:{fontWeight:"bold"},children:"Submitted At"}),e.jsx(o,{sx:{fontWeight:"bold"},children:"Status"}),e.jsx(o,{sx:{fontWeight:"bold"},children:"Review Status"}),e.jsx(o,{sx:{fontWeight:"bold"},children:"Actions"})]})}),e.jsx(P,{children:y.length===0?e.jsx(f,{children:e.jsx(o,{colSpan:10,align:"center",sx:{py:4},children:e.jsx(x,{color:"text.secondary",children:"No submissions found."})})}):y.map(s=>e.jsxs(f,{hover:!0,children:[e.jsx(o,{children:e.jsx(d,{label:s.submission?.submission_code||"N/A",size:"small",sx:{fontFamily:"monospace",fontWeight:600,backgroundColor:"#e8f5e9",color:"#2e7d32"}})}),e.jsx(o,{children:s.submission?.title||"Untitled"}),e.jsx(o,{children:s.submission?.paper_sub_theme||s.submission?.topic||"-"}),e.jsx(o,{children:s.submission?.user?.name||"Unknown"}),e.jsx(o,{children:s.submission?.participant_category?e.jsx(d,{label:s.submission.participant_category.toUpperCase(),size:"small",color:s.submission.participant_category==="student"?"primary":s.submission.participant_category==="professional"?"success":s.submission.participant_category==="international"?"secondary":"default",sx:{fontWeight:500}}):e.jsx(x,{variant:"body2",color:"text.secondary",children:"-"})}),e.jsx(o,{children:e.jsx(d,{label:s.submission?.category_submission||"N/A",size:"small",sx:{backgroundColor:s.submission?.category_submission?.includes("Oral")?"#e3f2fd":"#fce4ec",color:s.submission?.category_submission?.includes("Oral")?"#1565c0":"#c2185b",fontWeight:600}})}),e.jsx(o,{children:s.submission?.created_at?new Date(s.submission.created_at).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).replace(",",""):"-"}),e.jsx(o,{children:e.jsx(d,{label:s.submission?.status||"pending",size:"small",color:s.submission?.status==="accepted"?"success":"default"})}),e.jsx(o,{children:e.jsx(d,{label:s.originality_score?"Completed":"Pending",size:"small",color:s.originality_score?"success":"warning"})}),e.jsx(o,{children:e.jsxs(V,{direction:"row",spacing:1,children:[e.jsx(j,{size:"small",variant:"outlined",startIcon:e.jsx(L,{}),onClick:()=>T(s.submission?.id),sx:{color:"#1abc9c",borderColor:"#1abc9c"},children:"View"}),e.jsx(j,{size:"small",variant:"contained",startIcon:e.jsx(M,{}),onClick:()=>R(s),sx:{backgroundColor:"#1abc9c","&:hover":{backgroundColor:"#16a085"}},children:s.originality_score?"Edit Review":"Submit Review"})]})})]},s.id))})]})})]}),e.jsxs(A,{open:g.open,onClose:p,maxWidth:"md",fullWidth:!0,children:[e.jsx(z,{children:"Submit Review"}),e.jsx(E,{children:e.jsxs(v,{sx:{display:"flex",flexDirection:"column",gap:3,mt:2},children:[e.jsxs(n,{fullWidth:!0,children:[e.jsx(a,{children:"Originality Score *"}),e.jsxs(t,{value:i.originality_score,onChange:s=>r({...i,originality_score:s.target.value}),label:"Originality Score *",children:[e.jsx(l,{value:"",children:e.jsx("em",{children:"Select score"})}),e.jsx(l,{value:1,children:"1 - Poor"}),e.jsx(l,{value:2,children:"2 - Fair"}),e.jsx(l,{value:3,children:"3 - Good"}),e.jsx(l,{value:4,children:"4 - Very Good"}),e.jsx(l,{value:5,children:"5 - Excellent"})]})]}),e.jsxs(n,{fullWidth:!0,children:[e.jsx(a,{children:"Relevance Score *"}),e.jsxs(t,{value:i.relevance_score,onChange:s=>r({...i,relevance_score:s.target.value}),label:"Relevance Score *",children:[e.jsx(l,{value:"",children:e.jsx("em",{children:"Select score"})}),e.jsx(l,{value:1,children:"1 - Poor"}),e.jsx(l,{value:2,children:"2 - Fair"}),e.jsx(l,{value:3,children:"3 - Good"}),e.jsx(l,{value:4,children:"4 - Very Good"}),e.jsx(l,{value:5,children:"5 - Excellent"})]})]}),e.jsxs(n,{fullWidth:!0,children:[e.jsx(a,{children:"Clarity Score *"}),e.jsxs(t,{value:i.clarity_score,onChange:s=>r({...i,clarity_score:s.target.value}),label:"Clarity Score *",children:[e.jsx(l,{value:"",children:e.jsx("em",{children:"Select score"})}),e.jsx(l,{value:1,children:"1 - Poor"}),e.jsx(l,{value:2,children:"2 - Fair"}),e.jsx(l,{value:3,children:"3 - Good"}),e.jsx(l,{value:4,children:"4 - Very Good"}),e.jsx(l,{value:5,children:"5 - Excellent"})]})]}),e.jsxs(n,{fullWidth:!0,children:[e.jsx(a,{children:"Methodology Score *"}),e.jsxs(t,{value:i.methodology_score,onChange:s=>r({...i,methodology_score:s.target.value}),label:"Methodology Score *",children:[e.jsx(l,{value:"",children:e.jsx("em",{children:"Select score"})}),e.jsx(l,{value:1,children:"1 - Poor"}),e.jsx(l,{value:2,children:"2 - Fair"}),e.jsx(l,{value:3,children:"3 - Good"}),e.jsx(l,{value:4,children:"4 - Very Good"}),e.jsx(l,{value:5,children:"5 - Excellent"})]})]}),e.jsxs(n,{fullWidth:!0,children:[e.jsx(a,{children:"Overall Score *"}),e.jsxs(t,{value:i.overall_score,onChange:s=>r({...i,overall_score:s.target.value}),label:"Overall Score *",children:[e.jsx(l,{value:"",children:e.jsx("em",{children:"Select score"})}),e.jsx(l,{value:1,children:"1 - Poor"}),e.jsx(l,{value:2,children:"2 - Fair"}),e.jsx(l,{value:3,children:"3 - Good"}),e.jsx(l,{value:4,children:"4 - Very Good"}),e.jsx(l,{value:5,children:"5 - Excellent"})]})]}),e.jsx(O,{label:"Comments",multiline:!0,rows:4,fullWidth:!0,value:m,onChange:s=>b(s.target.value),required:!0})]})}),e.jsxs(I,{children:[e.jsx(j,{onClick:p,children:"Cancel"}),e.jsx(j,{onClick:k,variant:"contained",disabled:!i.originality_score||!i.relevance_score||!i.clarity_score||!i.methodology_score||!i.overall_score||!m,sx:{backgroundColor:"#1abc9c","&:hover":{backgroundColor:"#16a085"}},children:"Submit Review"})]})]})]})}export{Y as default};
