import{r as v,j as e,y as s,T as t,K as b,L,O as N,Q as y,B as g,R as K,S as W,U as te,V as ne,W as se,X as I,Y as a,Z as ae,$,a0 as oe,a1 as ie,I as U,a2 as le,a3 as de,C as ye,D as Se,a4 as O,a5 as F,a6 as M,M as d,H as X,a7 as J,a8 as Q,a9 as Z,aa as ke,A as we}from"./vendor-mui-core-D1diRa6P.js";import{H as V,L as A,r as R}from"./vendor-inertia-qakM-84m.js";import{S as Y}from"./layouts-DsZrxyTC.js";import{A as Ce,e as We,f as Ae,g as ce,F as Re,b as _e,h as ee,i as Ie,j as ze,D as Pe,k as Te,W as De,l as G,m as re}from"./vendor-mui-icons-IqymDsEu.js";import{B as Me}from"./vendor-mui-charts-eOomFIaJ.js";function Ue({analytics:c,recentSubmissions:f=[],pendingPayments:i=0,submissionsPerTopic:h=[],participantStats:S={},submissionsPerTopicByParticipant:k=[]}){const[n,_]=v.useState("all"),[p,w]=v.useState("all"),z=c?.totalSubmissions||0,B=c?.pendingReviews||0,P=c?.verifiedPayments||0;c?.acceptedSubmissions,c?.rejectedSubmissions;const E=c?.totalUsers||0,C=v.useMemo(()=>{const x=k;if(!x||x.length===0)return[];let l=x;if(p!=="all"){const T=p;l=x.map(j=>({...j,count:j[T]||0})).filter(j=>j.count>0)}if(n!=="all"){const T=`${n}_count`;l=l.map(j=>({...j,count:j[T]||0})).filter(j=>j.count>0)}return l},[h,k,n,p]);return e.jsxs(Y,{children:[e.jsx(V,{title:"Admin Dashboard"}),e.jsxs(s,{sx:{p:{xs:2,md:3}},children:[e.jsxs(s,{sx:{background:"linear-gradient(135deg, #0d7a6a 0%, #1abc9c 50%, #16a085 100%)",borderRadius:"20px",p:{xs:2,sm:3,md:4},mb:4,boxShadow:"0 8px 32px rgba(13, 122, 106, 0.2)",position:"relative",overflow:"hidden","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"4px",background:"linear-gradient(90deg, #4dd4ac 0%, #1abc9c 50%, #4dd4ac 100%)"}},children:[e.jsx(t,{variant:"h4",sx:{fontWeight:700,color:"white",mb:1,letterSpacing:"0.02em"},children:"Admin Dashboard Overview"}),e.jsx(t,{variant:"body1",sx:{color:"rgba(255,255,255,0.9)",fontSize:"1rem"},children:"Monitor dan kelola seluruh aktivitas konferensi PIT IAGI-GEOSEA 2026"})]}),e.jsxs(b,{container:!0,spacing:3,sx:{mb:4},children:[e.jsx(b,{size:{xs:12,sm:6,md:3},children:e.jsx(L,{sx:{background:"linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%)",boxShadow:"0 4px 20px rgba(13, 122, 106, 0.15)",borderRadius:"16px",border:"1px solid rgba(13, 122, 106, 0.1)",transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 30px rgba(13, 122, 106, 0.25)"}},children:e.jsxs(N,{children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[e.jsx(s,{sx:{backgroundColor:"#0d7a6a",borderRadius:"12px",p:1.5,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(13, 122, 106, 0.3)"},children:e.jsx(Ce,{sx:{color:"white",fontSize:28}})}),e.jsx(t,{color:"text.secondary",variant:"caption",sx:{fontWeight:600,textTransform:"uppercase",letterSpacing:.5},children:"Total"})]}),e.jsx(t,{variant:"h3",sx:{fontWeight:"bold",color:"#0d7a6a",mb:.5,fontSize:{xs:"2rem",sm:"2.5rem",md:"3rem"}},children:z}),e.jsx(t,{color:"text.secondary",variant:"body2",sx:{fontSize:"0.875rem"},children:"Total Submissions"})]})})}),e.jsx(b,{size:{xs:12,sm:6,md:3},children:e.jsx(L,{sx:{background:"linear-gradient(135deg, #fff7ed 0%, #fed7aa 100%)",boxShadow:"0 4px 20px rgba(237, 108, 2, 0.15)",borderRadius:"16px",border:"1px solid rgba(237, 108, 2, 0.1)",transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 30px rgba(237, 108, 2, 0.25)"}},children:e.jsxs(N,{children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[e.jsx(s,{sx:{backgroundColor:"#ed6c02",borderRadius:"12px",p:1.5,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(237, 108, 2, 0.3)"},children:e.jsx(We,{sx:{color:"white",fontSize:28}})}),e.jsx(t,{color:"text.secondary",variant:"caption",sx:{fontWeight:600,textTransform:"uppercase",letterSpacing:.5},children:"Pending"})]}),e.jsx(t,{variant:"h3",sx:{fontWeight:"bold",color:"#ed6c02",mb:.5,fontSize:{xs:"2rem",sm:"2.5rem",md:"3rem"}},children:B}),e.jsx(t,{color:"text.secondary",variant:"body2",sx:{fontSize:"0.875rem"},children:"Pending Reviews"})]})})}),e.jsx(b,{size:{xs:12,sm:6,md:3},children:e.jsx(L,{sx:{background:"linear-gradient(135deg, #eff6ff 0%, #bfdbfe 100%)",boxShadow:"0 4px 20px rgba(25, 118, 210, 0.15)",borderRadius:"16px",border:"1px solid rgba(25, 118, 210, 0.1)",transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 30px rgba(25, 118, 210, 0.25)"}},children:e.jsxs(N,{children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[e.jsx(s,{sx:{backgroundColor:"#1976d2",borderRadius:"12px",p:1.5,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(25, 118, 210, 0.3)"},children:e.jsx(Ae,{sx:{color:"white",fontSize:28}})}),e.jsx(t,{color:"text.secondary",variant:"caption",sx:{fontWeight:600,textTransform:"uppercase",letterSpacing:.5},children:"Verified"})]}),e.jsx(t,{variant:"h3",sx:{fontWeight:"bold",color:"#1976d2",mb:.5,fontSize:{xs:"2rem",sm:"2.5rem",md:"3rem"}},children:P}),e.jsx(t,{color:"text.secondary",variant:"body2",sx:{fontSize:"0.875rem"},children:"Verified Payments"})]})})}),e.jsx(b,{size:{xs:12,sm:6,md:3},children:e.jsx(L,{sx:{background:"linear-gradient(135deg, #faf5ff 0%, #e9d5ff 100%)",boxShadow:"0 4px 20px rgba(156, 39, 176, 0.15)",borderRadius:"16px",border:"1px solid rgba(156, 39, 176, 0.1)",transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 30px rgba(156, 39, 176, 0.25)"}},children:e.jsxs(N,{children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[e.jsx(s,{sx:{backgroundColor:"#9c27b0",borderRadius:"12px",p:1.5,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(156, 39, 176, 0.3)"},children:e.jsx(ce,{sx:{color:"white",fontSize:28}})}),e.jsx(t,{color:"text.secondary",variant:"caption",sx:{fontWeight:600,textTransform:"uppercase",letterSpacing:.5},children:"Users"})]}),e.jsx(t,{variant:"h3",sx:{fontWeight:"bold",color:"#9c27b0",mb:.5,fontSize:{xs:"2rem",sm:"2.5rem",md:"3rem"}},children:E}),e.jsx(t,{color:"text.secondary",variant:"body2",sx:{fontSize:"0.875rem"},children:"Total Users"})]})})})]}),e.jsxs(y,{elevation:0,sx:{p:{xs:2,sm:3,md:4},border:"1px solid rgba(13, 122, 106, 0.2)",borderRadius:"20px",background:"linear-gradient(to bottom, #ffffff 0%, #f8faf9 100%)",boxShadow:"0 4px 20px rgba(0,0,0,0.08)"},children:[e.jsx(t,{variant:"h5",gutterBottom:!0,sx:{fontWeight:700,mb:{xs:2,md:3},color:"#0d7a6a",fontSize:{xs:"1.25rem",md:"1.5rem"}},children:"Quick Actions"}),e.jsxs(b,{container:!0,spacing:2,children:[e.jsx(b,{size:{xs:12,sm:6,md:4},children:e.jsx(g,{component:A,href:route("admin.submissions"),variant:"contained",fullWidth:!0,sx:{backgroundColor:"#1abc9c","&:hover":{backgroundColor:"#16a085",transform:"translateY(-2px)",boxShadow:"0 8px 24px rgba(26, 188, 156, 0.4)"},py:2,textTransform:"none",fontSize:"1rem",fontWeight:600,borderRadius:"50px",boxShadow:"0 4px 16px rgba(26, 188, 156, 0.3)",transition:"all 0.3s ease"},children:"Workflow Control"})}),e.jsx(b,{size:{xs:12,sm:6,md:4},children:e.jsx(g,{component:A,href:route("admin.submissions"),variant:"outlined",fullWidth:!0,sx:{color:"#1abc9c",borderColor:"#1abc9c","&:hover":{borderColor:"#16a085",backgroundColor:"rgba(26, 188, 156, 0.08)",transform:"translateY(-2px)",boxShadow:"0 4px 16px rgba(26, 188, 156, 0.2)"},py:2,textTransform:"none",fontSize:"1rem",fontWeight:600,borderRadius:"50px",borderWidth:"2px","&:hover":{borderWidth:"2px"},transition:"all 0.3s ease"},children:"Reviewer Assignment"})}),e.jsx(b,{size:{xs:12,sm:6,md:4},children:e.jsx(g,{component:A,href:route("admin.export"),variant:"outlined",fullWidth:!0,sx:{color:"#1976d2",borderColor:"#1976d2","&:hover":{borderColor:"#115293",backgroundColor:"rgba(25, 118, 210, 0.08)",transform:"translateY(-2px)",boxShadow:"0 4px 16px rgba(25, 118, 210, 0.2)"},py:2,textTransform:"none",fontSize:"1rem",fontWeight:600,borderRadius:"50px",borderWidth:"2px","&:hover":{borderWidth:"2px"},transition:"all 0.3s ease"},children:"Database Export"})}),e.jsx(b,{size:{xs:12,sm:6,md:4},children:e.jsx(g,{component:A,href:route("admin.payments"),variant:"outlined",fullWidth:!0,sx:{color:"#ed6c02",borderColor:"#ed6c02","&:hover":{borderColor:"#c55500",backgroundColor:"rgba(237, 108, 2, 0.08)",transform:"translateY(-2px)",boxShadow:"0 4px 16px rgba(237, 108, 2, 0.2)"},py:2,textTransform:"none",fontSize:"1rem",fontWeight:600,borderRadius:"50px",borderWidth:"2px","&:hover":{borderWidth:"2px"},transition:"all 0.3s ease"},children:"Payment Validation"})}),e.jsx(b,{size:{xs:12,sm:6,md:4},children:e.jsx(g,{component:A,href:route("admin.users"),variant:"outlined",fullWidth:!0,sx:{color:"#9c27b0",borderColor:"#9c27b0","&:hover":{borderColor:"#7b1fa2",backgroundColor:"rgba(156, 39, 176, 0.08)",transform:"translateY(-2px)",boxShadow:"0 4px 16px rgba(156, 39, 176, 0.2)"},py:2,textTransform:"none",fontSize:"1rem",fontWeight:600,borderRadius:"50px",borderWidth:"2px","&:hover":{borderWidth:"2px"},transition:"all 0.3s ease"},children:"Kelola Akun USER"})})]})]}),h.length>0&&e.jsxs(y,{elevation:0,sx:{p:{xs:2,sm:3,md:4},border:"1px solid rgba(13, 122, 106, 0.2)",borderRadius:"20px",mt:3,background:"linear-gradient(to bottom, #ffffff 0%, #f8faf9 100%)",boxShadow:"0 4px 20px rgba(0,0,0,0.08)"},children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3,flexWrap:"wrap",gap:2},children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(s,{sx:{background:"linear-gradient(135deg, #0d7a6a 0%, #1abc9c 100%)",borderRadius:"12px",p:1.5,mr:2,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(13, 122, 106, 0.3)"},children:e.jsx(t,{sx:{fontSize:"28px"},children:"ðŸ“Š"})}),e.jsxs(s,{children:[e.jsx(t,{variant:"h5",sx:{fontWeight:700,color:"#0d7a6a",mb:.5},children:"Statistik Submission per Topik"}),e.jsx(t,{variant:"body2",color:"text.secondary",children:"Distribusi paper berdasarkan sub-tema penelitian"})]})]}),e.jsxs(s,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsxs(K,{value:n,exclusive:!0,onChange:(x,l)=>{l!==null&&_(l)},size:"small",sx:{backgroundColor:"#ffffff",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",borderRadius:2},children:[e.jsxs(W,{value:"all",sx:{px:3,py:1,textTransform:"none",fontWeight:600,"&.Mui-selected":{backgroundColor:"#1abc9c",color:"white","&:hover":{backgroundColor:"#16a085"}}},children:[e.jsx(Re,{sx:{mr:1,fontSize:18}}),"Semua"]}),e.jsx(W,{value:"oral_presentation",sx:{px:3,py:1,textTransform:"none",fontWeight:600,"&.Mui-selected":{backgroundColor:"#1976d2",color:"white","&:hover":{backgroundColor:"#115293"}}},children:"ðŸŽ¤ Oral"}),e.jsx(W,{value:"poster_presentation",sx:{px:3,py:1,textTransform:"none",fontWeight:600,"&.Mui-selected":{backgroundColor:"#9c27b0",color:"white","&:hover":{backgroundColor:"#7b1fa2"}}},children:"ðŸ“‹ Poster"})]}),e.jsxs(K,{value:p,exclusive:!0,onChange:(x,l)=>{l!==null&&w(l)},size:"small",sx:{backgroundColor:"#ffffff",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",borderRadius:2},children:[e.jsx(W,{value:"all",sx:{px:3,py:1,textTransform:"none",fontWeight:600,"&.Mui-selected":{backgroundColor:"#1abc9c",color:"white","&:hover":{backgroundColor:"#16a085"}}},children:"ðŸ‘¥ All Participants"}),e.jsx(W,{value:"student_count",sx:{px:3,py:1,textTransform:"none",fontWeight:600,"&.Mui-selected":{backgroundColor:"#0891b2",color:"white","&:hover":{backgroundColor:"#0e7490"}}},children:"ðŸŽ“ Student"}),e.jsx(W,{value:"professional_count",sx:{px:3,py:1,textTransform:"none",fontWeight:600,"&.Mui-selected":{backgroundColor:"#ea580c",color:"white","&:hover":{backgroundColor:"#c2410c"}}},children:"ðŸ’¼ Professional"}),e.jsx(W,{value:"international_count",sx:{px:3,py:1,textTransform:"none",fontWeight:600,"&.Mui-selected":{backgroundColor:"#7c3aed",color:"white","&:hover":{backgroundColor:"#6d28d9"}}},children:"ðŸŒ International"})]})]})]}),e.jsx(s,{sx:{width:"100%",height:Math.max(400,C.length*70),backgroundColor:"#ffffff",borderRadius:3,p:3,boxShadow:"0 4px 12px rgba(0,0,0,0.08), inset 0 1px 3px rgba(0,0,0,0.02)",border:"1px solid #e5e7eb"},children:e.jsx(Me,{dataset:C,layout:"horizontal",yAxis:[{scaleType:"band",dataKey:"topic",tickLabelStyle:{fontSize:14,fontWeight:600,fill:"#1f2937",textAnchor:"end"}}],xAxis:[{tickLabelStyle:{fontSize:13,fontWeight:500,fill:"#6b7280"}}],series:[{dataKey:"count",label:n==="all"?"Total Submission":n==="oral_presentation"?"Oral Presentation":"Poster Presentation",color:n==="all"?"#059669":n==="oral_presentation"?"#2563eb":"#9333ea",valueFormatter:x=>`${x} paper${x>1?"s":""}`}],margin:{top:30,bottom:50,left:150,right:60},grid:{horizontal:!0},slotProps:{legend:{direction:"row",position:{vertical:"top",horizontal:"right"},padding:0,itemMarkWidth:16,itemMarkHeight:16,markGap:10,itemGap:20,labelStyle:{fontSize:14,fontWeight:600,fill:"#1f2937"}},bar:{rx:6,ry:6}},sx:{"& .MuiChartsAxis-tickLabel":{fill:"#1f2937",fontWeight:600},"& .MuiChartsAxis-line":{stroke:"#d1d5db",strokeWidth:1.5},"& .MuiChartsAxis-tick":{stroke:"#d1d5db",strokeWidth:1.5},"& .MuiChartsGrid-line":{stroke:"#f3f4f6",strokeDasharray:"5 5",strokeWidth:1},"& .MuiBarElement-root":{cursor:"pointer",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",filter:n==="all"?"drop-shadow(0 2px 4px rgba(5, 150, 105, 0.3))":n==="oral_presentation"?"drop-shadow(0 2px 4px rgba(37, 99, 235, 0.3))":"drop-shadow(0 2px 4px rgba(147, 51, 234, 0.3))","&:hover":{opacity:.85,filter:n==="all"?"drop-shadow(0 4px 8px rgba(5, 150, 105, 0.5)) brightness(1.05)":n==="oral_presentation"?"drop-shadow(0 4px 8px rgba(37, 99, 235, 0.5)) brightness(1.05)":"drop-shadow(0 4px 8px rgba(147, 51, 234, 0.5)) brightness(1.05)",transform:"translateX(4px)"}},"& .MuiChartsLegend-series":{padding:"8px 16px",backgroundColor:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"}}})}),e.jsxs(b,{container:!0,spacing:2,sx:{mt:2},children:[e.jsx(b,{size:{xs:12,sm:6,md:4},children:e.jsxs(s,{sx:{p:2.5,backgroundColor:"#ecfdf5",borderRadius:2,border:"1px solid #a7f3d0",display:"flex",alignItems:"center",gap:2},children:[e.jsx(s,{sx:{backgroundColor:"#10b981",borderRadius:"50%",width:48,height:48,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"20px"},children:h.length}),e.jsxs(s,{children:[e.jsx(t,{variant:"caption",sx:{color:"#059669",fontWeight:600,textTransform:"uppercase",letterSpacing:.5},children:"Total Topik"}),e.jsx(t,{variant:"body2",sx:{color:"#065f46",fontWeight:500},children:"Sub-tema berbeda"})]})]})}),e.jsx(b,{size:{xs:12,sm:6,md:4},children:e.jsxs(s,{sx:{p:2.5,backgroundColor:"#dbeafe",borderRadius:2,border:"1px solid #93c5fd",display:"flex",alignItems:"center",gap:2},children:[e.jsx(s,{sx:{backgroundColor:"#3b82f6",borderRadius:"50%",width:48,height:48,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"20px"},children:h.reduce((x,l)=>x+l.count,0)}),e.jsxs(s,{children:[e.jsx(t,{variant:"caption",sx:{color:"#2563eb",fontWeight:600,textTransform:"uppercase",letterSpacing:.5},children:"Total Submission"}),e.jsx(t,{variant:"body2",sx:{color:"#1e40af",fontWeight:500},children:"Paper yang masuk"})]})]})}),e.jsx(b,{size:{xs:12,sm:6,md:4},children:e.jsxs(s,{sx:{p:2.5,backgroundColor:"#fef3c7",borderRadius:2,border:"1px solid #fcd34d",display:"flex",alignItems:"center",gap:2},children:[e.jsx(s,{sx:{backgroundColor:"#f59e0b",borderRadius:"50%",width:48,height:48,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"16px"},children:h.length>0?Math.round(h.reduce((x,l)=>x+l.count,0)/h.length*10)/10:0}),e.jsxs(s,{children:[e.jsx(t,{variant:"caption",sx:{color:"#d97706",fontWeight:600,textTransform:"uppercase",letterSpacing:.5},children:"Rata-rata"}),e.jsx(t,{variant:"body2",sx:{color:"#92400e",fontWeight:500},children:"Per topik"})]})]})})]}),h.length>0&&e.jsxs(s,{sx:{mt:3,p:3,background:"linear-gradient(135deg, #0d7a6a 0%, #1abc9c 50%, #16a085 100%)",borderRadius:"16px",boxShadow:"0 8px 24px rgba(13, 122, 106, 0.3)"},children:[e.jsx(t,{variant:"subtitle2",sx:{color:"#d1fae5",fontWeight:600,mb:1,textTransform:"uppercase",letterSpacing:1},children:"ðŸ† Topik Terpopuler"}),e.jsx(t,{variant:"h6",sx:{color:"white",fontWeight:700,mb:.5},children:h[0].topic}),e.jsxs(t,{variant:"body2",sx:{color:"#a7f3d0"},children:[h[0].count," submission (",Math.round(h[0].count/h.reduce((x,l)=>x+l.count,0)*100),"% dari total)"]})]})]}),e.jsxs(b,{container:!0,spacing:3,sx:{mt:2},children:[i>0&&e.jsx(b,{size:{xs:12},children:e.jsx(y,{elevation:0,sx:{p:3,border:"2px solid #ed6c02",borderRadius:"16px",backgroundColor:"#fff8e1",boxShadow:"0 4px 16px rgba(237, 108, 2, 0.15)"},children:e.jsxs(s,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(s,{children:[e.jsx(t,{variant:"h6",sx:{fontWeight:600,color:"#ed6c02",mb:1},children:"âš ï¸ Pending Payment Verifications"}),e.jsxs(t,{variant:"body2",color:"text.secondary",children:["There are ",i," payment",i>1?"s":""," waiting for verification"]})]}),e.jsx(g,{component:A,href:route("admin.payments"),variant:"contained",sx:{backgroundColor:"#ed6c02","&:hover":{backgroundColor:"#c55500",transform:"translateY(-2px)",boxShadow:"0 8px 20px rgba(237, 108, 2, 0.4)"},borderRadius:"50px",px:3,py:1.5,fontWeight:600,transition:"all 0.3s ease"},children:"Review Now"})]})})}),e.jsx(b,{size:{xs:12},children:e.jsxs(y,{elevation:0,sx:{p:3,border:"1px solid rgba(13, 122, 106, 0.2)",borderRadius:"20px",background:"linear-gradient(to bottom, #ffffff 0%, #f8faf9 100%)",boxShadow:"0 4px 20px rgba(0,0,0,0.08)"},children:[e.jsx(t,{variant:"h6",gutterBottom:!0,sx:{fontWeight:700,mb:2,color:"#0d7a6a"},children:"Recent Submissions"}),f.length===0?e.jsx(t,{variant:"body2",color:"text.secondary",children:"No recent submissions"}):e.jsx(s,{children:f.map(x=>e.jsx(s,{sx:{p:2,mb:2,border:"1px solid rgba(13, 122, 106, 0.15)",borderRadius:"12px","&:last-child":{mb:0},"&:hover":{backgroundColor:"rgba(26, 188, 156, 0.05)",borderColor:"rgba(13, 122, 106, 0.3)",transform:"translateX(4px)"},transition:"all 0.3s ease"},children:e.jsxs(s,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsxs(s,{sx:{flex:1},children:[e.jsx(t,{variant:"subtitle1",sx:{fontWeight:600},children:x.title}),e.jsxs(t,{variant:"body2",color:"text.secondary",children:["by ",x.user?.name||"Unknown"," â€¢ ",new Date(x.created_at).toLocaleDateString("id-ID")]})]}),e.jsx(g,{component:A,href:route("admin.submissions"),size:"small",sx:{color:"#1abc9c",fontWeight:600,"&:hover":{backgroundColor:"rgba(26, 188, 156, 0.1)"}},children:"Manage"})]})},x.id))})]})})]})]})]})}const $e=Object.freeze(Object.defineProperty({__proto__:null,default:Ue},Symbol.toStringTag,{value:"Module"}));function Le({payments:c=[]}){const[f,i]=v.useState({open:!1,payment:null}),h=n=>{confirm("Are you sure you want to verify this payment?")&&R.patch(route("admin.payments.verify",n),{},{preserveScroll:!0})},S=n=>{confirm("Are you sure you want to reject this payment?")&&R.patch(route("admin.payments.reject",n),{},{preserveScroll:!0})},k=n=>{i({open:!0,payment:n})};return e.jsxs(Y,{children:[e.jsx(V,{title:"Manage Payments"}),e.jsxs(s,{sx:{p:3},children:[e.jsx(t,{variant:"h4",gutterBottom:!0,sx:{fontWeight:"bold",color:"#1abc9c",mb:3},children:"Manage Payments"}),e.jsx(y,{elevation:0,sx:{border:"1px solid #e0e0e0",borderRadius:2},children:e.jsx(te,{children:e.jsxs(ne,{children:[e.jsx(se,{children:e.jsxs(I,{sx:{backgroundColor:"#f8f9fa"},children:[e.jsx(a,{sx:{fontWeight:600},children:"ID"}),e.jsx(a,{sx:{fontWeight:600},children:"User"}),e.jsx(a,{sx:{fontWeight:600},children:"Submission"}),e.jsx(a,{sx:{fontWeight:600},children:"Amount"}),e.jsx(a,{sx:{fontWeight:600},children:"Status"}),e.jsx(a,{sx:{fontWeight:600},children:"Uploaded At"}),e.jsx(a,{sx:{fontWeight:600},children:"Actions"})]})}),e.jsx(ae,{children:c.length===0?e.jsx(I,{children:e.jsx(a,{colSpan:7,align:"center",children:e.jsx(t,{variant:"body2",color:"text.secondary",sx:{py:3},children:"No payments found"})})}):c.map(n=>e.jsxs(I,{hover:!0,children:[e.jsx(a,{children:n.id}),e.jsxs(a,{children:[e.jsx(t,{variant:"body2",sx:{fontWeight:600},children:n.user?.name||"N/A"}),e.jsx(t,{variant:"caption",color:"text.secondary",children:n.user?.email||"N/A"})]}),e.jsx(a,{children:n.submission?.title||"N/A"}),e.jsx(a,{children:n.amount?`Rp ${parseFloat(n.amount).toLocaleString("id-ID")}`:"N/A"}),e.jsx(a,{children:e.jsx($,{label:n.verified?"Verified":"Pending",color:n.verified?"success":"warning",size:"small"})}),e.jsx(a,{children:n.created_at?new Date(n.created_at).toLocaleDateString("id-ID"):"N/A"}),e.jsx(a,{children:e.jsxs(s,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[n.payment_proof_url&&e.jsx(g,{size:"small",variant:"outlined",startIcon:e.jsx(_e,{}),onClick:()=>k(n),sx:{color:"#1976d2",borderColor:"#1976d2"},children:"View"}),n.verified?e.jsx(g,{size:"small",variant:"outlined",startIcon:e.jsx(Ie,{}),onClick:()=>S(n.id),color:"error",children:"Reject"}):e.jsx(g,{size:"small",variant:"contained",startIcon:e.jsx(ee,{}),onClick:()=>h(n.id),sx:{backgroundColor:"#2e7d32","&:hover":{backgroundColor:"#1b5e20"}},children:"Verify"})]})})]},n.id))})]})})})]}),e.jsxs(oe,{open:f.open,onClose:()=>i({open:!1,payment:null}),maxWidth:"md",fullWidth:!0,children:[e.jsxs(ie,{sx:{backgroundColor:"#1abc9c",color:"white",display:"flex",justifyContent:"space-between",alignItems:"center"},children:["Payment Proof",e.jsx(U,{onClick:()=>i({open:!1,payment:null}),sx:{color:"white"},children:e.jsx(ze,{})})]}),e.jsx(le,{sx:{p:3},children:f.payment&&e.jsxs(s,{children:[e.jsxs(s,{sx:{mb:2,p:2,backgroundColor:"#f8f9fa",borderRadius:1},children:[e.jsx(t,{variant:"body2",color:"text.secondary",children:"User:"}),e.jsx(t,{variant:"body1",sx:{fontWeight:600},children:f.payment.user?.name}),e.jsx(t,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Submission:"}),e.jsx(t,{variant:"body1",sx:{fontWeight:600},children:f.payment.submission?.title}),e.jsx(t,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Amount:"}),e.jsxs(t,{variant:"body1",sx:{fontWeight:600},children:["Rp ",parseFloat(f.payment.amount||0).toLocaleString("id-ID")]})]}),f.payment.payment_proof_url&&e.jsx(s,{sx:{textAlign:"center"},children:e.jsx("img",{src:`/storage/${f.payment.payment_proof_url}`,alt:"Payment Proof",style:{maxWidth:"100%",maxHeight:"500px",objectFit:"contain",border:"1px solid #e0e0e0",borderRadius:"8px"},onError:n=>{n.target.style.display="none",n.target.parentElement.innerHTML='<p style="padding: 40px; text-align: center; color: #666;">Unable to load image. <a href="/storage/'+f.payment.payment_proof_url+'" target="_blank">Download file</a></p>'}})})]})}),e.jsxs(de,{sx:{p:2},children:[f.payment&&!f.payment.verified&&e.jsx(g,{variant:"contained",startIcon:e.jsx(ee,{}),onClick:()=>{h(f.payment.id),i({open:!1,payment:null})},sx:{backgroundColor:"#2e7d32","&:hover":{backgroundColor:"#1b5e20"}},children:"Verify Payment"}),e.jsx(g,{onClick:()=>i({open:!1,payment:null}),children:"Close"})]})]})]})}const Ve=Object.freeze(Object.defineProperty({__proto__:null,default:Le},Symbol.toStringTag,{value:"Module"}));function Ne({submissions:c=[],reviewers:f=[]}){const[i,h]=v.useState([]),[S,k]=v.useState(""),[n,_]=v.useState({open:!1,submission:null}),[p,w]=v.useState([]),[z,B]=v.useState("all"),[P,E]=v.useState("all"),[C,x]=v.useState(""),l=c.filter(r=>{const o=z==="all"||r.status===z,u=P==="all"||r.presentation_preference===P,m=C===""||r.title?.toLowerCase().includes(C.toLowerCase())||r.user?.name?.toLowerCase().includes(C.toLowerCase());return o&&u&&m}),T=r=>{r.target.checked?h(l.map(o=>o.id)):h([])},j=r=>{const o=i.indexOf(r);let u=[];o===-1?u=u.concat(i,r):o===0?u=u.concat(i.slice(1)):o===i.length-1?u=u.concat(i.slice(0,-1)):o>0&&(u=u.concat(i.slice(0,o),i.slice(o+1))),h(u)},xe=(r,o)=>{R.patch(route("admin.submissions.updateStatus",r),{status:o},{preserveScroll:!0})},he=()=>{i.length>0&&S&&R.post(route("admin.submissions.bulkUpdate"),{submission_ids:i,status:S},{preserveScroll:!0,onSuccess:()=>{h([]),k("")}})},q=r=>{_({open:!0,submission:r}),w([])},pe=r=>{p.includes(r)||(n.submission?.reviews?.length||0)+p.length<5&&w([...p,r])},ue=r=>{w(p.filter(o=>o!==r))},fe=()=>{p.length>0&&n.submission&&R.post(route("admin.submissions.assignReviewer",n.submission.id),{reviewer_ids:p},{preserveScroll:!0,onSuccess:()=>{_({open:!1,submission:null}),w([])}})},be=(r,o)=>{confirm("Are you sure you want to remove this reviewer?")&&R.delete(route("admin.submissions.removeReviewer",{submissionId:r,reviewerId:o}),{preserveScroll:!0})},ge=()=>{window.location.href=route("admin.submissions.export")},me=r=>i.indexOf(r)!==-1,H=()=>{if(!n.submission)return f;const r=(n.submission.reviews||[]).map(o=>o.reviewer_id);return f.filter(o=>!r.includes(o.id)&&!p.includes(o.id))},je=r=>{const u={pending:`Status submission Anda telah diubah menjadi *Pending*.

Submission akan segera ditinjau oleh tim kami.`,under_review:`Status submission Anda telah diubah menjadi *Under Review*.

Submission Anda sedang dalam proses peninjauan oleh reviewer.`,revision_required_phase1:`Status submission Anda telah diubah menjadi *Revision Phase 1*.

Silakan lakukan revisi sesuai dengan komentar reviewer.`,revision_required_phase2:`Status submission Anda telah diubah menjadi *Revision Phase 2*.

Silakan lakukan revisi tambahan sesuai dengan komentar reviewer.`,accepted:`ðŸŽ‰ *Selamat!* ðŸŽ‰

Submission Anda telah *DITERIMA* (Accepted).

Terima kasih atas kontribusi Anda dalam konferensi ini.`,rejected:`Status submission Anda telah diubah menjadi *Rejected*.

Mohon maaf submission Anda tidak dapat diterima kali ini. Terima kasih atas partisipasi Anda.`}[r.status]||"Status submission Anda telah diperbarui.";let m=`*IAGI-GEOSEA 2026 - Notification*

`;return m+=`Halo *${r.user?.name}*,

`,m+=`Submission ID: *${r.id}*
`,m+=`Judul: *${r.title}*

`,m+=`${u}

`,m+=`Silakan login ke dashboard Anda untuk informasi lebih lanjut.

`,m+=`Terima kasih,
`,m+="Tim IAGI-GEOSEA 2026",m},ve=r=>{if(!r.user?.whatsapp){alert("User tidak memiliki nomor WhatsApp!");return}const o=je(r),m=`https://wa.me/${r.user.whatsapp.replace(/^0/,"62").replace(/\D/g,"")}?text=${encodeURIComponent(o)}`;window.open(m,"_blank")};return e.jsxs(Y,{children:[e.jsx(V,{title:"Manage Submissions"}),e.jsxs(s,{sx:{p:3},children:[e.jsxs(s,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsx(t,{variant:"h4",sx:{fontWeight:"bold",color:"#1abc9c"},children:"Manage Submissions"}),e.jsx(g,{variant:"contained",startIcon:e.jsx(Pe,{}),onClick:ge,sx:{backgroundColor:"#1abc9c","&:hover":{backgroundColor:"#16a085"}},children:"Export to CSV"})]}),e.jsx(y,{elevation:0,sx:{p:2,mb:2,border:"1px solid #e0e0e0",borderRadius:2},children:e.jsxs(s,{sx:{display:"flex",gap:2,flexWrap:"wrap",alignItems:"center"},children:[e.jsx(ye,{placeholder:"Search by title or author...",value:C,onChange:r=>x(r.target.value),size:"small",InputProps:{startAdornment:e.jsx(Se,{position:"start",children:e.jsx(Te,{sx:{color:"text.secondary"}})})},sx:{flex:1,minWidth:250}}),e.jsxs(O,{size:"small",sx:{minWidth:180},children:[e.jsx(F,{children:"Filter by Status"}),e.jsxs(M,{value:z,label:"Filter by Status",onChange:r=>B(r.target.value),children:[e.jsxs(d,{value:"all",children:["All Status (",c.length,")"]}),e.jsxs(d,{value:"pending",children:["Pending (",c.filter(r=>r.status==="pending").length,")"]}),e.jsxs(d,{value:"under_review",children:["Under Review (",c.filter(r=>r.status==="under_review").length,")"]}),e.jsxs(d,{value:"revision_required_phase1",children:["Revision Phase 1 (",c.filter(r=>r.status==="revision_required_phase1").length,")"]}),e.jsxs(d,{value:"revision_required_phase2",children:["Revision Phase 2 (",c.filter(r=>r.status==="revision_required_phase2").length,")"]}),e.jsxs(d,{value:"accepted",children:["Accepted (",c.filter(r=>r.status==="accepted").length,")"]}),e.jsxs(d,{value:"rejected",children:["Rejected (",c.filter(r=>r.status==="rejected").length,")"]})]})]}),e.jsxs(O,{size:"small",sx:{minWidth:180},children:[e.jsx(F,{children:"Presentation Type"}),e.jsxs(M,{value:P,label:"Presentation Type",onChange:r=>E(r.target.value),children:[e.jsxs(d,{value:"all",children:["All Types (",c.length,")"]}),e.jsxs(d,{value:"Oral Presentation",children:["Oral Presentation (",c.filter(r=>r.presentation_preference==="Oral Presentation").length,")"]}),e.jsxs(d,{value:"Poster Presentation",children:["Poster Presentation (",c.filter(r=>r.presentation_preference==="Poster Presentation").length,")"]})]})]}),e.jsxs(t,{variant:"body2",color:"text.secondary",children:["Showing ",l.length," of ",c.length," submissions"]})]})}),i.length>0&&e.jsx(y,{elevation:0,sx:{p:2,mb:2,border:"1px solid #e0e0e0",borderRadius:2,backgroundColor:"#f8f9fa"},children:e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsxs(t,{variant:"body1",sx:{fontWeight:600},children:[i.length," selected"]}),e.jsxs(O,{size:"small",sx:{minWidth:200},children:[e.jsx(F,{children:"Bulk Update Status"}),e.jsxs(M,{value:S,onChange:r=>k(r.target.value),label:"Bulk Update Status",children:[e.jsx(d,{value:"pending",children:"Pending"}),e.jsx(d,{value:"under_review",children:"Under Review"}),e.jsx(d,{value:"revision_required_phase1",children:"Revision Phase 1"}),e.jsx(d,{value:"revision_required_phase2",children:"Revision Phase 2"}),e.jsx(d,{value:"accepted",children:"Accepted"}),e.jsx(d,{value:"rejected",children:"Rejected"})]})]}),e.jsxs(g,{variant:"contained",onClick:he,disabled:!S,sx:{backgroundColor:"#1abc9c","&:hover":{backgroundColor:"#16a085"}},children:["Update ",i.length," Submissions"]})]})}),e.jsx(y,{elevation:0,sx:{border:"1px solid #e0e0e0",borderRadius:2},children:e.jsx(te,{children:e.jsxs(ne,{children:[e.jsx(se,{children:e.jsxs(I,{sx:{backgroundColor:"#f8f9fa"},children:[e.jsx(a,{padding:"checkbox",children:e.jsx(X,{indeterminate:i.length>0&&i.length<l.length,checked:l.length>0&&i.length===l.length,onChange:T})}),e.jsx(a,{sx:{fontWeight:600},children:"ID"}),e.jsx(a,{sx:{fontWeight:600},children:"Title"}),e.jsx(a,{sx:{fontWeight:600},children:"Name"}),e.jsx(a,{sx:{fontWeight:600},children:"Author"}),e.jsx(a,{sx:{fontWeight:600},children:"Phone"}),e.jsx(a,{sx:{fontWeight:600},children:"Email"}),e.jsx(a,{sx:{fontWeight:600},children:"Topic"}),e.jsx(a,{sx:{fontWeight:600},children:"Presentation Type"}),e.jsx(a,{sx:{fontWeight:600},children:"Submitted"}),e.jsx(a,{sx:{fontWeight:600},children:"Status"}),e.jsx(a,{sx:{fontWeight:600},children:"Payment"}),e.jsx(a,{sx:{fontWeight:600},children:"Reviewers"}),e.jsx(a,{sx:{fontWeight:600},children:"Actions"})]})}),e.jsx(ae,{children:l.length===0?e.jsx(I,{children:e.jsx(a,{colSpan:14,align:"center",children:e.jsx(t,{variant:"body2",color:"text.secondary",sx:{py:3},children:"No submissions found"})})}):l.map(r=>{const o=me(r.id),u=r.reviews||[],m=u.length;return e.jsxs(I,{hover:!0,selected:o,children:[e.jsx(a,{padding:"checkbox",children:e.jsx(X,{checked:o,onChange:()=>j(r.id)})}),e.jsx(a,{children:r.id}),e.jsx(a,{children:r.title||"N/A"}),e.jsx(a,{children:r.author_full_name||"N/A"}),e.jsx(a,{children:r.user?.name||"N/A"}),e.jsx(a,{children:e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(t,{variant:"body2",children:r.user?.whatsapp||"N/A"}),r.user?.whatsapp&&e.jsx(U,{size:"small",onClick:()=>ve(r),sx:{color:"#25D366","&:hover":{backgroundColor:"#25D36620"}},title:"Kirim Notifikasi via WhatsApp",children:e.jsx(De,{sx:{fontSize:20}})})]})}),e.jsx(a,{children:r.user?.email||"N/A"}),e.jsx(a,{children:r.paper_sub_theme||r.topic||"N/A"}),e.jsx(a,{children:e.jsx($,{label:r.presentation_preference||"N/A",size:"small",color:r.presentation_preference==="Oral Presentation"?"primary":r.presentation_preference==="Poster Presentation"?"secondary":"default",variant:"outlined"})}),e.jsx(a,{children:new Date(r.created_at).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"Asia/Jakarta"}).replace(",","")}),e.jsx(a,{children:e.jsxs(M,{value:r.status||"pending",onChange:D=>xe(r.id,D.target.value),size:"small",sx:{minWidth:150},children:[e.jsx(d,{value:"pending",children:"Pending"}),e.jsx(d,{value:"under_review",children:"Under Review"}),e.jsx(d,{value:"revision_required_phase1",children:"Revision Phase 1"}),e.jsx(d,{value:"revision_required_phase2",children:"Revision Phase 2"}),e.jsx(d,{value:"accepted",children:"Accepted"}),e.jsx(d,{value:"rejected",children:"Rejected"})]})}),e.jsx(a,{children:e.jsx($,{label:r.payment?.verified?"Paid":"Unpaid",color:r.payment?.verified?"success":"default",size:"small"})}),e.jsx(a,{children:m>0?e.jsxs(s,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[e.jsxs(t,{variant:"caption",sx:{fontWeight:600,color:"#1abc9c"},children:[e.jsx(ce,{sx:{fontSize:14,verticalAlign:"middle",mr:.5}}),"Reviewers: ",m,"/5"]}),u.map(D=>e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:.5,backgroundColor:"#f5f5f5",padding:"4px 8px",borderRadius:1},children:[e.jsx(t,{variant:"caption",sx:{flex:1,fontSize:"0.75rem"},children:D.reviewer?.name||"Unknown"}),e.jsx(U,{size:"small",onClick:()=>be(r.id,D.reviewer_id),sx:{padding:"2px","&:hover":{color:"error.main"}},children:e.jsx(G,{sx:{fontSize:14}})})]},D.id)),m<5&&e.jsx(g,{size:"small",variant:"outlined",startIcon:e.jsx(re,{}),onClick:()=>q(r),sx:{color:"#1abc9c",borderColor:"#1abc9c",fontSize:"0.7rem",mt:.5},children:"Add More"})]}):e.jsx(g,{size:"small",variant:"outlined",startIcon:e.jsx(re,{}),onClick:()=>q(r),sx:{color:"#1abc9c",borderColor:"#1abc9c"},children:"Assign"})}),e.jsx(a,{children:e.jsx(U,{size:"small",onClick:()=>{confirm("Are you sure you want to delete this submission? This action cannot be undone and will delete all related reviews and payments.")&&R.delete(route("admin.submissions.delete",r.id),{preserveScroll:!0})},sx:{color:"#e53935","&:hover":{backgroundColor:"#ffebee"}},title:"Delete Submission",children:e.jsx(G,{})})})]},r.id)})})]})})})]}),e.jsxs(oe,{open:n.open,onClose:()=>_({open:!1,submission:null}),maxWidth:"sm",fullWidth:!0,children:[e.jsxs(ie,{children:["Assign Reviewers",n.submission&&e.jsxs(t,{variant:"caption",display:"block",color:"text.secondary",children:["Current: ",n.submission.reviews?.length||0,"/5 | Adding: ",p.length," | Total: ",(n.submission.reviews?.length||0)+p.length,"/5"]})]}),e.jsx(le,{children:n.submission&&e.jsxs(e.Fragment,{children:[e.jsxs(s,{sx:{mb:3,mt:1},children:[e.jsx(t,{variant:"body2",color:"text.secondary",children:"Submission:"}),e.jsx(t,{variant:"body1",sx:{fontWeight:600},children:n.submission.title})]}),n.submission.reviews&&n.submission.reviews.length>0&&e.jsxs(s,{sx:{mb:3},children:[e.jsx(t,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"Currently Assigned:"}),e.jsx(J,{dense:!0,children:n.submission.reviews.map(r=>e.jsx(Q,{sx:{bgcolor:"#f5f5f5",mb:.5,borderRadius:1},children:e.jsx(Z,{primary:r.reviewer?.name||"Unknown",secondary:r.reviewer?.email})},r.id))})]}),p.length>0&&e.jsxs(s,{sx:{mb:3},children:[e.jsx(t,{variant:"subtitle2",sx:{mb:1,fontWeight:600,color:"#1abc9c"},children:"Selected to Add:"}),e.jsx(J,{dense:!0,children:p.map(r=>{const o=f.find(u=>u.id===r);return e.jsxs(Q,{sx:{bgcolor:"#e8f5e9",mb:.5,borderRadius:1},children:[e.jsx(Z,{primary:o?.name||"Unknown",secondary:o?.email}),e.jsx(ke,{children:e.jsx(U,{edge:"end",size:"small",onClick:()=>ue(r),children:e.jsx(G,{fontSize:"small"})})})]},r)})})]}),(n.submission.reviews?.length||0)+p.length<5?e.jsxs(O,{fullWidth:!0,children:[e.jsx(F,{children:"Select Reviewer to Add"}),e.jsx(M,{value:"",onChange:r=>pe(r.target.value),label:"Select Reviewer to Add",children:H().length===0?e.jsx(d,{disabled:!0,children:"No more reviewers available"}):H().map(r=>e.jsxs(d,{value:r.id,children:[r.name," (",r.email,")"]},r.id))})]}):e.jsx(we,{severity:"info",children:"Maximum of 5 reviewers reached"})]})}),e.jsxs(de,{children:[e.jsx(g,{onClick:()=>{_({open:!1,submission:null}),w([])},children:"Cancel"}),e.jsxs(g,{onClick:fe,variant:"contained",disabled:p.length===0,sx:{backgroundColor:"#1abc9c","&:hover":{backgroundColor:"#16a085"}},children:["Assign ",p.length," Reviewer(s)"]})]})]})]})}const Ye=Object.freeze(Object.defineProperty({__proto__:null,default:Ne},Symbol.toStringTag,{value:"Module"}));export{$e as D,Ve as P,Ye as S};
