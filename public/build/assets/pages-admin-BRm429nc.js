import{n as Oe,r as I,j as e,y as f,T as x,B as U,J as K,K as V,L as ae,O as J,R as Ee,Q as re,S as Ge,U as ce,V as ve,H as jt,W as st,X as at,Y as it,Z as ue,$ as R,a0 as lt,a1 as dt,a2 as ct,I as ye,a3 as ft,a4 as ut,a5 as xt,C as vt,D as St,a6 as we,a7 as Ce,a8 as pe,M as O,G as Ue,a9 as We,A as wt,aa as Ct,ab as kt}from"./vendor-mui-core-BkCyxMSn.js";import{H as $e,L as ge,r as te}from"./vendor-inertia-ewhD8odP.js";import{S as Be}from"./layouts-CmbhkawX.js";import{A as Fe,D as je,G as Pt,e as qe,f as ze,g as zt,h as Dt,i as Xe,j as Rt,k as Ye,F as Mt,l as Wt,m as At,n as Tt,o as _t,p as Ae,q as It,R as He,b as Et,r as Ot,s as $t,t as Bt,u as Nt,W as Lt,v as Te,w as _e}from"./vendor-mui-icons-Dh1wiQLE.js";import{L as Ve,B as Gt}from"./vendor-mui-charts-D8LTlw4g.js";import{r as ht,a as pt,g as Ut}from"./vendor-react-zq6P3Ky3.js";function Ft({analytics:d,recentSubmissions:k=[],pendingPayments:l=0,submissionsPerTopic:o=[],participantStats:u={},submissionsPerTopicByParticipant:h=[],visitorAnalytics:D={},dailyVisitors:A=[]}){const E=Oe(),a=E.palette.custom,i=E.palette.mode==="dark",[p,w]=I.useState("all"),[z,c]=I.useState("all"),[g,y]=I.useState("30d"),[m,j]=I.useState(D),[b,C]=I.useState([]),[v,P]=I.useState(new Date),[r,s]=I.useState(!1),S=I.useRef(null),T=I.useCallback(n=>{s(!0),fetch(`/admin/visitor-analytics?period=${n}`,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"}).then(W=>{if(!W.ok)throw new Error("API error");return W.json()}).then(W=>{W?.stats&&j(W.stats),C(W?.chartData||[]),P(new Date),s(!1)}).catch(()=>s(!1))},[]);I.useEffect(()=>(T(g),S.current=setInterval(()=>T(g),1e4),()=>clearInterval(S.current)),[g,T]);const _=n=>{y(n)},[$,q]=I.useState("30d"),[Y,Q]=I.useState({today:0,last7days:0,last30days:0,total:d?.totalSubmissions||0}),[X,fe]=I.useState([]),[ie,xe]=I.useState(new Date),[Re,B]=I.useState(!1),G=I.useRef(null),t=I.useCallback(n=>{B(!0),fetch(`/admin/submission-analytics?period=${n}`,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"}).then(W=>{if(!W.ok)throw new Error("API error");return W.json()}).then(W=>{W?.stats&&Q(W.stats),fe(W?.chartData||[]),xe(new Date),B(!1)}).catch(()=>B(!1))},[]);I.useEffect(()=>(t($),G.current=setInterval(()=>t($),15e3),()=>clearInterval(G.current)),[$,t]);const M=n=>{q(n)},N=d?.totalSubmissions||0,F=d?.pendingReviews||0,he=d?.verifiedPayments||0;d?.acceptedSubmissions,d?.rejectedSubmissions;const H=d?.totalUsers||0,oe=new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),Me=[{title:"Total Submissions",value:N,icon:e.jsx(At,{}),color:"#1abc9c",bgColor:i?"rgba(26, 188, 156, 0.12)":"#ecfdf5",trend:"Total"},{title:"Pending Reviews",value:F,icon:e.jsx(Tt,{}),color:"#ea580c",bgColor:i?"rgba(234, 88, 12, 0.12)":"#fff7ed",trend:"Pending"},{title:"Verified Payments",value:he,icon:e.jsx(qe,{}),color:"#2563eb",bgColor:i?"rgba(37, 99, 235, 0.12)":"#eff6ff",trend:"Verified"},{title:"Total Authors",value:H,icon:e.jsx(ze,{}),color:"#9333ea",bgColor:i?"rgba(147, 51, 234, 0.12)":"#faf5ff",trend:"Authors"}],bt=[{label:"Workflow Control",href:route("admin.submissions"),icon:e.jsx(Fe,{}),color:"#1abc9c",bgColor:i?"rgba(26, 188, 156, 0.12)":"#ecfdf5",primary:!0},{label:"Reviewer Assignment",href:route("admin.submissions"),icon:e.jsx(je,{}),color:"#0891b2",bgColor:i?"rgba(8, 145, 178, 0.12)":"#ecfeff"},{label:"Database Export",href:route("admin.export"),icon:e.jsx(Pt,{}),color:"#2563eb",bgColor:i?"rgba(37, 99, 235, 0.12)":"#eff6ff"},{label:"Payment Validation",href:route("admin.payments"),icon:e.jsx(qe,{}),color:"#ea580c",bgColor:i?"rgba(234, 88, 12, 0.12)":"#fff7ed"},{label:"Manage Users",href:route("admin.users"),icon:e.jsx(ze,{}),color:"#9333ea",bgColor:i?"rgba(147, 51, 234, 0.12)":"#faf5ff"},{label:"Landing Settings",href:route("admin.settings"),icon:e.jsx(zt,{}),color:"#6b7280",bgColor:i?"rgba(107, 114, 128, 0.12)":"#f3f4f6"}],Le=I.useMemo(()=>{const n=h;if(!n||n.length===0)return[];let W=n;if(z!=="all"&&(W=n.map(Z=>({...Z,count:Z[z]||0})).filter(Z=>Z.count>0)),p!=="all"){const Z=`${p}_count`;W=W.map(Se=>({...Se,count:Se[Z]||0})).filter(Se=>Se.count>0)}return W},[o,h,p,z]),yt=n=>({pending:{bg:i?"rgba(245, 158, 11, 0.15)":"#fef3c7",color:"#d97706",label:"Pending"},under_review:{bg:i?"rgba(59, 130, 246, 0.15)":"#dbeafe",color:"#2563eb",label:"In Review"},accepted:{bg:i?"rgba(22, 163, 74, 0.15)":"#dcfce7",color:"#16a34a",label:"Accepted"},rejected:{bg:i?"rgba(239, 68, 68, 0.15)":"#fee2e2",color:"#dc2626",label:"Rejected"},declined:{bg:i?"rgba(239, 68, 68, 0.15)":"#fee2e2",color:"#dc2626",label:"Declined"}})[n]||{bg:i?"rgba(107, 114, 128, 0.15)":"#f3f4f6",color:"#6b7280",label:n},de=n=>({px:{xs:1.5,sm:2.5},py:.8,textTransform:"none",fontWeight:600,fontSize:{xs:"0.75rem",sm:"0.8rem"},borderRadius:"8px !important",border:"none !important",color:a.textSecondary,"&.Mui-selected":{backgroundColor:n,color:"white",boxShadow:`0 2px 8px ${n}40`,"&:hover":{backgroundColor:n,opacity:.9}}});return e.jsxs(Be,{children:[e.jsx($e,{title:"Admin Dashboard"}),e.jsxs(f,{sx:{p:{xs:2,sm:3,md:3.5},minHeight:"100vh",bgcolor:a.surfaceBg},children:[e.jsxs(f,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",md:"center"},mb:3.5,gap:2},children:[e.jsxs(f,{children:[e.jsx(x,{variant:"h4",sx:{fontWeight:800,color:a.textPrimary,fontSize:{xs:"1.5rem",sm:"1.85rem"},letterSpacing:"-0.02em",lineHeight:1.2},children:"Admin Dashboard ðŸ›¡ï¸"}),e.jsxs(x,{variant:"body2",sx:{color:a.textSecondary,mt:.5,display:"flex",alignItems:"center",gap:.75,fontSize:"0.875rem"},children:[e.jsx(Dt,{sx:{fontSize:15}}),oe]})]}),e.jsx(f,{sx:{display:"flex",gap:1.5},children:e.jsx(U,{component:ge,href:route("admin.submissions"),variant:"contained",startIcon:e.jsx(Fe,{}),sx:{background:"linear-gradient(135deg, #0d7a6a 0%, #1abc9c 100%)",px:3,py:1.2,borderRadius:"12px",textTransform:"none",fontWeight:600,fontSize:"0.9rem",boxShadow:"0 4px 14px rgba(26, 188, 156, 0.35)","&:hover":{background:"linear-gradient(135deg, #16a085 0%, #0d7a6a 100%)",boxShadow:"0 6px 20px rgba(26, 188, 156, 0.45)",transform:"translateY(-1px)"},transition:"all 0.25s ease"},children:"Manage Papers"})})]}),e.jsx(K,{container:!0,spacing:2.5,sx:{mb:3.5},children:Me.map((n,W)=>e.jsx(K,{size:{xs:6,sm:6,lg:3},children:e.jsx(V,{elevation:0,sx:{borderRadius:"16px",border:`1px solid ${a.cardBorder}`,bgcolor:a.cardBg,height:"100%",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{borderColor:n.color,boxShadow:`0 8px 25px ${n.color}18`,transform:"translateY(-3px)"},position:"relative",overflow:"hidden","&::after":{content:'""',position:"absolute",bottom:0,left:0,right:0,height:"3px",background:n.color,opacity:0,transition:"opacity 0.3s ease"},"&:hover::after":{opacity:1}},children:e.jsxs(ae,{sx:{p:{xs:2,sm:2.5},"&:last-child":{pb:{xs:2,sm:2.5}}},children:[e.jsxs(f,{sx:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",mb:1.5},children:[e.jsx(J,{sx:{bgcolor:n.bgColor,width:{xs:40,sm:48},height:{xs:40,sm:48},borderRadius:"12px"},variant:"rounded",children:Ee.cloneElement(n.icon,{sx:{color:n.color,fontSize:{xs:20,sm:24}}})}),e.jsx(re,{label:n.trend,size:"small",sx:{bgcolor:n.bgColor,color:n.color,fontWeight:700,fontSize:"0.7rem",height:24,borderRadius:"6px"}})]}),e.jsx(x,{variant:"h3",sx:{fontWeight:800,color:a.textPrimary,mb:.25,fontSize:{xs:"1.75rem",sm:"2.25rem"},lineHeight:1,letterSpacing:"-0.02em"},children:n.value}),e.jsx(x,{variant:"body2",sx:{color:a.textMuted,fontWeight:500,fontSize:{xs:"0.75rem",sm:"0.825rem"}},children:n.title})]})})},W))}),e.jsxs(V,{elevation:0,sx:{borderRadius:"12px",border:`1px solid ${i?"rgba(255,255,255,0.08)":"#dadce0"}`,bgcolor:a.cardBg,mb:3.5,overflow:"hidden"},children:[e.jsxs(f,{sx:{px:{xs:2,sm:3},pt:{xs:2,sm:2.5},pb:0,display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:1},children:[e.jsxs(f,{children:[e.jsxs(f,{sx:{display:"flex",alignItems:"center",gap:1,mb:.25},children:[e.jsx(x,{sx:{fontWeight:600,fontSize:"1rem",color:a.textPrimary},children:"Website Visitors"}),e.jsxs(f,{sx:{display:"flex",alignItems:"center",gap:.5,px:1,py:.25,bgcolor:i?"rgba(34,197,94,0.15)":"#f0fdf4",borderRadius:"4px",border:`1px solid ${i?"rgba(34,197,94,0.3)":"#bbf7d0"}`},children:[e.jsx(f,{sx:{width:6,height:6,borderRadius:"50%",bgcolor:"#22c55e",animation:"gaPulse 2s ease-in-out infinite","@keyframes gaPulse":{"0%, 100%":{opacity:1},"50%":{opacity:.4}}}}),e.jsx(x,{sx:{fontSize:"0.65rem",fontWeight:600,color:"#16a34a",textTransform:"uppercase",letterSpacing:"0.04em"},children:"Live"})]}),r&&e.jsx(f,{sx:{width:14,height:14,borderRadius:"50%",border:"2px solid #1a73e8",borderTopColor:"transparent",animation:"gaSpin 0.8s linear infinite","@keyframes gaSpin":{to:{transform:"rotate(360deg)"}}}})]}),e.jsxs(x,{sx:{fontSize:"0.72rem",color:a.textMuted},children:["Landing page traffic Â· Updated ",v.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"})]})]}),e.jsx(f,{sx:{display:"flex",border:`1px solid ${i?"rgba(255,255,255,0.12)":"#dadce0"}`,borderRadius:"8px",overflow:"hidden"},children:[{key:"today",label:"Today"},{key:"7d",label:"7 days"},{key:"30d",label:"30 days"}].map((n,W)=>e.jsx(U,{size:"small",onClick:()=>_(n.key),sx:{px:{xs:1.5,sm:2},py:.5,fontSize:"0.72rem",fontWeight:600,textTransform:"none",minWidth:"auto",borderRadius:0,borderRight:W<2?`1px solid ${i?"rgba(255,255,255,0.12)":"#dadce0"}`:"none",...g===n.key?{bgcolor:i?"rgba(66,133,244,0.15)":"#e8f0fe",color:"#1a73e8"}:{color:a.textMuted,"&:hover":{bgcolor:i?"rgba(255,255,255,0.04)":"#f8f9fa"}}},children:n.label},n.key))})]}),e.jsx(f,{sx:{display:"flex",px:{xs:1,sm:3},pt:2.5,pb:0,gap:0,overflowX:"auto"},children:[{key:"today",label:"Today",value:m.today||0,color:"#1a73e8"},{key:"7d",label:"Last 7 days",value:m.last7days||0,color:"#e8710a"},{key:"30d",label:"Last 30 days",value:m.last30days||0,color:"#1e8e3e"},{key:"all",label:"All time",value:m.total||0,color:"#9334e6"}].map(n=>e.jsxs(f,{onClick:()=>n.key!=="all"&&_(n.key),sx:{flex:1,minWidth:110,px:2,py:1.5,cursor:n.key!=="all"?"pointer":"default",borderBottom:`3px solid ${g===n.key?n.color:"transparent"}`,transition:"all 0.15s ease","&:hover":n.key!=="all"?{bgcolor:i?"rgba(255,255,255,0.03)":"#f8f9fa"}:{}},children:[e.jsx(x,{sx:{fontSize:"0.72rem",fontWeight:500,color:g===n.key?n.color:a.textMuted,mb:.5,whiteSpace:"nowrap"},children:n.label}),e.jsx(x,{sx:{fontSize:"1.75rem",fontWeight:700,color:g===n.key?n.color:a.textPrimary,lineHeight:1,letterSpacing:"-0.02em"},children:n.value.toLocaleString()})]},n.key))}),e.jsx(f,{sx:{borderBottom:`1px solid ${i?"rgba(255,255,255,0.06)":"#f3f4f6"}`,mx:{xs:1,sm:3}}}),e.jsx(f,{sx:{width:"100%",height:{xs:260,sm:340},px:{xs:.5,sm:1},pt:1,pb:1},children:b.length>0?e.jsx(Ve,{xAxis:[{data:b.map((n,W)=>W),scaleType:"point",valueFormatter:n=>b[n]?.label||"",tickLabelStyle:{fontSize:10,fontWeight:500,fill:i?"#9ca3af":"#80868b"}}],yAxis:[{tickMinStep:1,tickLabelStyle:{fontSize:10,fontWeight:500,fill:i?"#9ca3af":"#80868b"}}],series:[{data:b.map(n=>n.count),color:g==="7d"?"#e8710a":g==="today"?"#1a73e8":"#1e8e3e",area:!0,curve:"catmullRom",showMark:b.length<=15,valueFormatter:n=>`${n} visitor${n!==1?"s":""}`}],grid:{horizontal:!0},margin:{top:20,bottom:35,left:45,right:20},slotProps:{legend:{hidden:!0}},sx:{"& .MuiChartsAxis-tickLabel":{fill:i?"#9ca3af":"#80868b",fontWeight:500},"& .MuiChartsAxis-line":{stroke:i?"rgba(255,255,255,0.06)":"#f3f4f6",strokeWidth:1},"& .MuiChartsAxis-tick":{stroke:"transparent"},"& .MuiChartsGrid-line":{stroke:i?"rgba(255,255,255,0.04)":"#f3f4f6",strokeWidth:1},"& .MuiAreaElement-root":{fill:g==="7d"?"url(#gaGradientOrange)":g==="today"?"url(#gaGradientBlue)":"url(#gaGradientGreen)",opacity:1},"& .MuiLineElement-root":{strokeWidth:2.5},"& .MuiMarkElement-root":{strokeWidth:2,r:3.5,fill:i?"#1e1e1e":"#fff"}},children:e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"gaGradientBlue",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#1a73e8",stopOpacity:.2}),e.jsx("stop",{offset:"100%",stopColor:"#1a73e8",stopOpacity:.01})]}),e.jsxs("linearGradient",{id:"gaGradientOrange",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#e8710a",stopOpacity:.2}),e.jsx("stop",{offset:"100%",stopColor:"#e8710a",stopOpacity:.01})]}),e.jsxs("linearGradient",{id:"gaGradientGreen",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#1e8e3e",stopOpacity:.2}),e.jsx("stop",{offset:"100%",stopColor:"#1e8e3e",stopOpacity:.01})]})]})}):e.jsxs(f,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",flexDirection:"column",gap:1.5},children:[e.jsx(Xe,{sx:{fontSize:48,color:a.textMuted,opacity:.3}}),e.jsx(x,{sx:{color:a.textMuted,fontSize:"0.85rem",fontWeight:500},children:"No data available for this period"}),e.jsx(x,{sx:{color:a.textMuted,fontSize:"0.72rem",opacity:.7},children:"Visitor data will appear here as traffic comes in"})]})})]}),e.jsxs(V,{elevation:0,sx:{borderRadius:"12px",border:`1px solid ${i?"rgba(255,255,255,0.08)":"#dadce0"}`,bgcolor:a.cardBg,mb:3.5,overflow:"hidden"},children:[e.jsxs(f,{sx:{px:{xs:2,sm:3},pt:{xs:2,sm:2.5},pb:0,display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:1},children:[e.jsxs(f,{children:[e.jsxs(f,{sx:{display:"flex",alignItems:"center",gap:1,mb:.25},children:[e.jsx(x,{sx:{fontWeight:600,fontSize:"1rem",color:a.textPrimary},children:"Paper Submissions"}),e.jsxs(f,{sx:{display:"flex",alignItems:"center",gap:.5,px:1,py:.25,bgcolor:i?"rgba(14,165,233,0.15)":"#f0f9ff",borderRadius:"4px",border:`1px solid ${i?"rgba(14,165,233,0.3)":"#bae6fd"}`},children:[e.jsx(f,{sx:{width:6,height:6,borderRadius:"50%",bgcolor:"#0ea5e9",animation:"gaPulse 2s ease-in-out infinite"}}),e.jsx(x,{sx:{fontSize:"0.65rem",fontWeight:600,color:"#0284c7",textTransform:"uppercase",letterSpacing:"0.04em"},children:"Live"})]}),Re&&e.jsx(f,{sx:{width:14,height:14,borderRadius:"50%",border:"2px solid #0ea5e9",borderTopColor:"transparent",animation:"gaSpin 0.8s linear infinite"}})]}),e.jsxs(x,{sx:{fontSize:"0.72rem",color:a.textMuted},children:["Submission activity Â· Updated ",ie.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"})]})]}),e.jsx(f,{sx:{display:"flex",border:`1px solid ${i?"rgba(255,255,255,0.12)":"#dadce0"}`,borderRadius:"8px",overflow:"hidden"},children:[{key:"today",label:"Today"},{key:"7d",label:"7 days"},{key:"30d",label:"30 days"}].map((n,W)=>e.jsx(U,{size:"small",onClick:()=>M(n.key),sx:{px:{xs:1.5,sm:2},py:.5,fontSize:"0.72rem",fontWeight:600,textTransform:"none",minWidth:"auto",borderRadius:0,borderRight:W<2?`1px solid ${i?"rgba(255,255,255,0.12)":"#dadce0"}`:"none",...$===n.key?{bgcolor:i?"rgba(14,165,233,0.15)":"#e0f2fe",color:"#0284c7"}:{color:a.textMuted,"&:hover":{bgcolor:i?"rgba(255,255,255,0.04)":"#f8f9fa"}}},children:n.label},n.key))})]}),e.jsx(f,{sx:{display:"flex",px:{xs:1,sm:3},pt:2.5,pb:0,gap:0,overflowX:"auto"},children:[{key:"today",label:"Today",value:Y.today||0,color:"#0284c7"},{key:"7d",label:"Last 7 days",value:Y.last7days||0,color:"#d97706"},{key:"30d",label:"Last 30 days",value:Y.last30days||0,color:"#059669"},{key:"all",label:"Total",value:Y.total||0,color:"#dc2626"}].map(n=>e.jsxs(f,{onClick:()=>n.key!=="all"&&M(n.key),sx:{flex:1,minWidth:110,px:2,py:1.5,cursor:n.key!=="all"?"pointer":"default",borderBottom:`3px solid ${$===n.key?n.color:"transparent"}`,transition:"all 0.15s ease","&:hover":n.key!=="all"?{bgcolor:i?"rgba(255,255,255,0.03)":"#f8f9fa"}:{}},children:[e.jsx(x,{sx:{fontSize:"0.72rem",fontWeight:500,color:$===n.key?n.color:a.textMuted,mb:.5,whiteSpace:"nowrap"},children:n.label}),e.jsx(x,{sx:{fontSize:"1.75rem",fontWeight:700,color:$===n.key?n.color:a.textPrimary,lineHeight:1,letterSpacing:"-0.02em"},children:n.value.toLocaleString()})]},n.key))}),e.jsx(f,{sx:{borderBottom:`1px solid ${i?"rgba(255,255,255,0.06)":"#f3f4f6"}`,mx:{xs:1,sm:3}}}),e.jsx(f,{sx:{width:"100%",height:{xs:260,sm:340},px:{xs:.5,sm:1},pt:1,pb:1},children:X.length>0?e.jsx(Ve,{xAxis:[{data:X.map((n,W)=>W),scaleType:"point",valueFormatter:n=>X[n]?.label||"",tickLabelStyle:{fontSize:10,fontWeight:500,fill:i?"#9ca3af":"#80868b"}}],yAxis:[{tickMinStep:1,tickLabelStyle:{fontSize:10,fontWeight:500,fill:i?"#9ca3af":"#80868b"}}],series:[{data:X.map(n=>n.count),color:$==="7d"?"#d97706":$==="today"?"#0284c7":"#059669",area:!0,curve:"catmullRom",showMark:X.length<=15,valueFormatter:n=>`${n} submission${n!==1?"s":""}`}],grid:{horizontal:!0},margin:{top:20,bottom:35,left:45,right:20},slotProps:{legend:{hidden:!0}},sx:{"& .MuiChartsAxis-tickLabel":{fill:i?"#9ca3af":"#80868b",fontWeight:500},"& .MuiChartsAxis-line":{stroke:i?"rgba(255,255,255,0.06)":"#f3f4f6",strokeWidth:1},"& .MuiChartsAxis-tick":{stroke:"transparent"},"& .MuiChartsGrid-line":{stroke:i?"rgba(255,255,255,0.04)":"#f3f4f6",strokeWidth:1},"& .MuiAreaElement-root":{fill:$==="7d"?"url(#subGradientAmber)":$==="today"?"url(#subGradientTeal)":"url(#subGradientEmerald)",opacity:1},"& .MuiLineElement-root":{strokeWidth:2.5},"& .MuiMarkElement-root":{strokeWidth:2,r:3.5,fill:i?"#1e1e1e":"#fff"}},children:e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"subGradientTeal",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#0284c7",stopOpacity:.2}),e.jsx("stop",{offset:"100%",stopColor:"#0284c7",stopOpacity:.01})]}),e.jsxs("linearGradient",{id:"subGradientAmber",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#d97706",stopOpacity:.2}),e.jsx("stop",{offset:"100%",stopColor:"#d97706",stopOpacity:.01})]}),e.jsxs("linearGradient",{id:"subGradientEmerald",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#059669",stopOpacity:.2}),e.jsx("stop",{offset:"100%",stopColor:"#059669",stopOpacity:.01})]})]})}):e.jsxs(f,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",flexDirection:"column",gap:1.5},children:[e.jsx(je,{sx:{fontSize:48,color:a.textMuted,opacity:.3}}),e.jsx(x,{sx:{color:a.textMuted,fontSize:"0.85rem",fontWeight:500},children:"No submission data for this period"}),e.jsx(x,{sx:{color:a.textMuted,fontSize:"0.72rem",opacity:.7},children:"Submission data will appear here as papers are submitted"})]})})]}),l>0&&e.jsx(V,{elevation:0,sx:{mb:3.5,borderRadius:"16px",border:`2px solid ${i?"rgba(234, 88, 12, 0.3)":"#fed7aa"}`,bgcolor:i?"rgba(234, 88, 12, 0.08)":"#fffbeb"},children:e.jsx(ae,{sx:{p:{xs:2,sm:2.5},"&:last-child":{pb:{xs:2,sm:2.5}}},children:e.jsxs(f,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:2},children:[e.jsxs(f,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(J,{sx:{bgcolor:i?"rgba(234, 88, 12, 0.15)":"#fff7ed",width:48,height:48,borderRadius:"12px"},variant:"rounded",children:e.jsx(Rt,{sx:{color:"#ea580c",fontSize:24}})}),e.jsxs(f,{children:[e.jsx(x,{sx:{fontWeight:700,color:"#ea580c",fontSize:"0.95rem"},children:"Pending Payment Verifications"}),e.jsxs(x,{variant:"body2",sx:{color:a.textMuted,fontSize:"0.8rem"},children:[l," payment",l>1?"s":""," waiting for verification"]})]})]}),e.jsx(U,{component:ge,href:route("admin.payments"),variant:"contained",size:"small",endIcon:e.jsx(Ye,{sx:{fontSize:16}}),sx:{bgcolor:"#ea580c","&:hover":{bgcolor:"#c2410c",transform:"translateY(-1px)"},borderRadius:"10px",px:2.5,py:1,fontWeight:600,textTransform:"none",fontSize:"0.8rem",transition:"all 0.25s ease"},children:"Review Now"})]})})}),e.jsx(V,{elevation:0,sx:{borderRadius:"16px",border:`1px solid ${a.cardBorder}`,bgcolor:a.cardBg,mb:3.5},children:e.jsxs(ae,{sx:{p:{xs:2.5,sm:3}},children:[e.jsx(x,{variant:"h6",sx:{fontWeight:700,fontSize:"1rem",color:a.textPrimary,mb:2.5},children:"Quick Actions"}),e.jsx(K,{container:!0,spacing:2,children:bt.map((n,W)=>e.jsx(K,{size:{xs:6,sm:4,md:4},children:e.jsxs(U,{component:ge,href:n.href,fullWidth:!0,sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:1,py:{xs:2,sm:2.5},px:1.5,borderRadius:"14px",textTransform:"none",border:`1px solid ${a.cardBorder}`,bgcolor:a.cardBg,color:a.textPrimary,transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{borderColor:n.color,bgcolor:n.bgColor,transform:"translateY(-3px)",boxShadow:`0 8px 20px ${n.color}18`}},children:[e.jsx(J,{sx:{width:44,height:44,borderRadius:"12px",bgcolor:n.bgColor},variant:"rounded",children:Ee.cloneElement(n.icon,{sx:{color:n.color,fontSize:22}})}),e.jsx(x,{sx:{fontWeight:600,fontSize:{xs:"0.75rem",sm:"0.825rem"},color:a.textPrimary,textAlign:"center",lineHeight:1.3},children:n.label})]})},W))})]})}),e.jsxs(K,{container:!0,spacing:2.5,sx:{mb:3.5},children:[e.jsx(K,{size:{xs:12},children:o.length>0&&e.jsx(V,{elevation:0,sx:{borderRadius:"16px",border:`1px solid ${a.cardBorder}`,bgcolor:a.cardBg},children:e.jsxs(ae,{sx:{p:{xs:2.5,sm:3}},children:[e.jsx(f,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2.5,flexWrap:"wrap",gap:2},children:e.jsxs(f,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[e.jsx(J,{sx:{bgcolor:i?"rgba(26, 188, 156, 0.12)":"#ecfdf5",width:44,height:44,borderRadius:"12px"},variant:"rounded",children:e.jsx(Xe,{sx:{color:"#1abc9c",fontSize:24}})}),e.jsxs(f,{children:[e.jsx(x,{variant:"h6",sx:{fontWeight:700,fontSize:"1rem",color:a.textPrimary,mb:.25},children:"Submissions per Topic"}),e.jsx(x,{variant:"body2",sx:{color:a.textMuted,fontSize:"0.8rem"},children:"Distribution by research sub-theme"})]})]})}),e.jsxs(f,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:1.5,mb:2.5},children:[e.jsxs(Ge,{value:p,exclusive:!0,onChange:(n,W)=>W!==null&&w(W),size:"small",sx:{bgcolor:i?a.cardBg:"#f9fafb",borderRadius:2,border:`1px solid ${a.cardBorder}`,"& .MuiToggleButton-root":{border:"none"}},children:[e.jsxs(ce,{value:"all",sx:de("#1abc9c"),children:[e.jsx(Mt,{sx:{mr:.5,fontSize:16}})," All"]}),e.jsx(ce,{value:"oral_presentation",sx:de("#2563eb"),children:"ðŸŽ¤ Oral"}),e.jsx(ce,{value:"poster_presentation",sx:de("#9333ea"),children:"ðŸ“‹ Poster"})]}),e.jsxs(Ge,{value:z,exclusive:!0,onChange:(n,W)=>W!==null&&c(W),size:"small",sx:{bgcolor:i?a.cardBg:"#f9fafb",borderRadius:2,border:`1px solid ${a.cardBorder}`,"& .MuiToggleButton-root":{border:"none"}},children:[e.jsx(ce,{value:"all",sx:de("#1abc9c"),children:"ðŸ‘¥ All"}),e.jsx(ce,{value:"student_count",sx:de("#0891b2"),children:"ðŸŽ“ Student"}),e.jsx(ce,{value:"professional_count",sx:de("#ea580c"),children:"ðŸ’¼ Pro"}),e.jsx(ce,{value:"international_count",sx:de("#7c3aed"),children:"ðŸŒ Int'l"})]})]}),e.jsx(f,{sx:{width:"100%",height:Math.max(400,Le.length*70),bgcolor:i?"rgba(0,0,0,0.15)":"#ffffff",borderRadius:"12px",p:{xs:1,sm:2},border:`1px solid ${a.cardBorder}`},children:e.jsx(Gt,{dataset:Le,layout:"horizontal",yAxis:[{scaleType:"band",dataKey:"topic",tickLabelStyle:{fontSize:13,fontWeight:600,fill:i?"#d1d5db":"#1f2937",textAnchor:"end"}}],xAxis:[{tickLabelStyle:{fontSize:12,fontWeight:500,fill:i?"#9ca3af":"#6b7280"}}],series:[{dataKey:"count",label:p==="all"?"Total":p==="oral_presentation"?"Oral":"Poster",color:p==="all"?"#059669":p==="oral_presentation"?"#2563eb":"#9333ea",valueFormatter:n=>`${n} paper${n>1?"s":""}`}],margin:{top:30,bottom:50,left:150,right:60},grid:{horizontal:!0},slotProps:{legend:{direction:"row",position:{vertical:"top",horizontal:"right"},padding:0,itemMarkWidth:10,itemMarkHeight:10,markGap:6,itemGap:10,labelStyle:{fontSize:13,fontWeight:600,fill:i?"#d1d5db":"#1f2937"}},bar:{rx:6,ry:6}},sx:{"& .MuiChartsAxis-tickLabel":{fill:i?"#d1d5db":"#1f2937",fontWeight:600},"& .MuiChartsAxis-line":{stroke:i?"#374151":"#d1d5db",strokeWidth:1.5},"& .MuiChartsAxis-tick":{stroke:i?"#374151":"#d1d5db",strokeWidth:1.5},"& .MuiChartsGrid-line":{stroke:i?"#1f2937":"#f3f4f6",strokeDasharray:"5 5"},"& .MuiBarElement-root":{cursor:"pointer",transition:"all 0.3s ease","&:hover":{opacity:.85}}}})}),e.jsxs(K,{container:!0,spacing:2,sx:{mt:2},children:[e.jsx(K,{size:{xs:6,sm:4},children:e.jsxs(f,{sx:{p:2,bgcolor:i?"rgba(22, 163, 74, 0.08)":"#ecfdf5",borderRadius:"12px",border:`1px solid ${i?"rgba(22, 163, 74, 0.2)":"#a7f3d0"}`,textAlign:"center"},children:[e.jsx(x,{sx:{fontWeight:800,fontSize:"1.5rem",color:"#16a34a"},children:o.length}),e.jsx(x,{sx:{fontSize:"0.75rem",color:a.textMuted,fontWeight:500},children:"Topics"})]})}),e.jsx(K,{size:{xs:6,sm:4},children:e.jsxs(f,{sx:{p:2,bgcolor:i?"rgba(37, 99, 235, 0.08)":"#eff6ff",borderRadius:"12px",border:`1px solid ${i?"rgba(37, 99, 235, 0.2)":"#93c5fd"}`,textAlign:"center"},children:[e.jsx(x,{sx:{fontWeight:800,fontSize:"1.5rem",color:"#2563eb"},children:o.reduce((n,W)=>n+W.count,0)}),e.jsx(x,{sx:{fontSize:"0.75rem",color:a.textMuted,fontWeight:500},children:"Total Papers"})]})}),e.jsx(K,{size:{xs:12,sm:4},children:o.length>0&&e.jsxs(f,{sx:{p:2,background:i?"linear-gradient(135deg, rgba(13, 122, 106, 0.2), rgba(26, 188, 156, 0.15))":"linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%)",borderRadius:"12px",border:`1px solid ${i?"rgba(26, 188, 156, 0.2)":"#a7f3d0"}`,textAlign:"center"},children:[e.jsxs(f,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:.5,mb:.5},children:[e.jsx(Wt,{sx:{color:"#f59e0b",fontSize:18}}),e.jsx(x,{sx:{fontSize:"0.7rem",color:"#1abc9c",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Top Topic"})]}),e.jsx(x,{sx:{fontWeight:700,fontSize:"0.8rem",color:a.textPrimary,lineHeight:1.3},children:o[0].topic}),e.jsxs(x,{sx:{fontSize:"0.7rem",color:a.textMuted},children:[o[0].count," papers"]})]})})]})]})})}),e.jsx(K,{size:{xs:12},children:e.jsx(V,{elevation:0,sx:{borderRadius:"16px",border:`1px solid ${a.cardBorder}`,bgcolor:a.cardBg},children:e.jsxs(ae,{sx:{p:{xs:2.5,sm:3}},children:[e.jsxs(f,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsxs(f,{children:[e.jsx(x,{variant:"h6",sx:{fontWeight:700,fontSize:"1rem",color:a.textPrimary,mb:.5},children:"Recent Submissions"}),e.jsx(x,{variant:"body2",sx:{color:a.textMuted,fontSize:"0.8rem"},children:"Latest paper submissions across all users"})]}),e.jsx(U,{component:ge,href:route("admin.submissions"),size:"small",endIcon:e.jsx(Ye,{sx:{fontSize:16}}),sx:{textTransform:"none",fontWeight:600,fontSize:"0.8rem",color:"#1abc9c",borderRadius:"8px","&:hover":{bgcolor:i?"rgba(26, 188, 156, 0.1)":"#ecfdf5"}},children:"View All"})]}),k.length>0?e.jsx(ve,{spacing:0,divider:e.jsx(jt,{sx:{borderColor:a.cardBorder}}),children:k.map((n,W)=>{const Z=yt(n.status);return e.jsxs(f,{component:ge,href:route("admin.submissions"),sx:{display:"flex",alignItems:"center",gap:2,py:1.5,px:1,borderRadius:"10px",textDecoration:"none",color:"inherit",transition:"all 0.2s ease","&:hover":{bgcolor:i?"rgba(255,255,255,0.03)":"#f9fafb"}},children:[e.jsx(J,{variant:"rounded",sx:{bgcolor:i?"#1f2937":"#f3f4f6",width:40,height:40,borderRadius:"10px",flexShrink:0},children:e.jsx(je,{sx:{color:"#6b7280",fontSize:20}})}),e.jsxs(f,{sx:{flex:1,minWidth:0},children:[e.jsx(x,{variant:"body2",sx:{fontWeight:600,color:a.textPrimary,fontSize:"0.85rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:n.title||"Untitled Paper"}),e.jsxs(x,{variant:"caption",sx:{color:a.textMuted,fontSize:"0.75rem"},children:["by ",n.user?.name||"Unknown"," â€¢ ",n.created_at?new Date(n.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric"}):""]})]}),e.jsx(re,{label:Z.label,size:"small",sx:{bgcolor:Z.bg,color:Z.color,fontWeight:600,fontSize:"0.7rem",height:24,borderRadius:"6px",flexShrink:0}})]},n.id||W)})}):e.jsxs(f,{sx:{textAlign:"center",py:4},children:[e.jsx(je,{sx:{fontSize:48,color:i?"#374151":"#d1d5db",mb:1}}),e.jsx(x,{variant:"body2",sx:{color:a.textMuted},children:"No submissions yet"})]})]})})})]})]})]})}const lr=Object.freeze(Object.defineProperty({__proto__:null,default:Ft},Symbol.toStringTag,{value:"Module"}));function qt({payments:d=[]}){const k=Oe(),l=k.palette.custom,o=k.palette.mode==="dark",[u,h]=I.useState({open:!1,payment:null}),D=c=>{confirm("Are you sure you want to verify this payment?")&&te.patch(route("admin.payments.verify",c),{},{preserveScroll:!0})},A=c=>{confirm("Are you sure you want to reject this payment?")&&te.patch(route("admin.payments.reject",c),{},{preserveScroll:!0})},E=d.filter(c=>c.verified).length,a=d.filter(c=>!c.verified).length,i=d.reduce((c,g)=>c+parseFloat(g.amount||0),0),p={borderBottom:`1px solid ${l.cardBorder}`,py:1.5,fontSize:"0.825rem",color:l.textPrimary},w={...p,fontWeight:700,fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"0.05em",color:l.textMuted,bgcolor:o?"rgba(0,0,0,0.15)":"#f9fafb"},z=[{label:"Total Revenue",value:`Rp ${i.toLocaleString("id-ID")}`,icon:e.jsx(_t,{}),color:"#1abc9c",bg:o?"rgba(26,188,156,0.12)":"#ecfdf5"},{label:"Verified",value:E,icon:e.jsx(Ae,{}),color:"#16a34a",bg:o?"rgba(22,163,74,0.12)":"#dcfce7"},{label:"Pending",value:a,icon:e.jsx(It,{}),color:"#d97706",bg:o?"rgba(245,158,11,0.12)":"#fef3c7"}];return e.jsxs(Be,{children:[e.jsx($e,{title:"Manage Payments"}),e.jsxs(f,{sx:{p:{xs:2,sm:3,md:3.5},minHeight:"100vh",bgcolor:l.surfaceBg},children:[e.jsxs(f,{sx:{mb:3},children:[e.jsx(x,{variant:"h4",sx:{fontWeight:800,color:l.textPrimary,fontSize:{xs:"1.5rem",sm:"1.85rem"},letterSpacing:"-0.02em"},children:"Manage Payments ðŸ’³"}),e.jsxs(x,{variant:"body2",sx:{color:l.textMuted,mt:.5},children:[d.length," total payments"]})]}),e.jsx(f,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"1fr 1fr 1fr"},gap:2,mb:3},children:z.map(c=>e.jsx(V,{elevation:0,sx:{borderRadius:"14px",border:`1px solid ${l.cardBorder}`,bgcolor:l.cardBg,transition:"all 0.25s","&:hover":{transform:"translateY(-2px)",boxShadow:`0 8px 25px ${o?"rgba(0,0,0,0.3)":"rgba(0,0,0,0.08)"}`}},children:e.jsx(ae,{sx:{p:2.5,"&:last-child":{pb:2.5}},children:e.jsxs(f,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(J,{variant:"rounded",sx:{bgcolor:c.bg,width:44,height:44,borderRadius:"12px"},children:Ee.cloneElement(c.icon,{sx:{color:c.color,fontSize:22}})}),e.jsxs(f,{children:[e.jsx(x,{variant:"caption",sx:{color:l.textMuted,fontWeight:600,textTransform:"uppercase",letterSpacing:"0.05em",fontSize:"0.7rem"},children:c.label}),e.jsx(x,{sx:{fontWeight:700,fontSize:"1.25rem",color:l.textPrimary,lineHeight:1.2},children:c.value})]})]})})},c.label))}),e.jsx(V,{elevation:0,sx:{borderRadius:"16px",border:`1px solid ${l.cardBorder}`,bgcolor:l.cardBg,overflow:"hidden"},children:e.jsx(st,{children:e.jsxs(at,{size:"small",children:[e.jsx(it,{children:e.jsx(ue,{children:["ID","User","Submission","Amount","Status","Uploaded","Actions"].map(c=>e.jsx(R,{sx:w,children:c},c))})}),e.jsx(lt,{children:d.length===0?e.jsx(ue,{children:e.jsx(R,{colSpan:7,align:"center",sx:p,children:e.jsxs(f,{sx:{py:5},children:[e.jsx(He,{sx:{fontSize:48,color:o?"#374151":"#d1d5db",mb:1}}),e.jsx(x,{variant:"body2",sx:{color:l.textMuted},children:"No payments found"})]})})}):d.map(c=>e.jsxs(ue,{hover:!0,sx:{"&:hover":{bgcolor:o?"rgba(255,255,255,0.02)":"#f9fafb"}},children:[e.jsxs(R,{sx:{...p,fontWeight:600,color:l.textMuted},children:["#",c.id]}),e.jsx(R,{sx:p,children:e.jsxs(f,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[e.jsx(J,{sx:{width:34,height:34,bgcolor:"#1abc9c",fontSize:"0.8rem",fontWeight:700},children:(c.user?.name||"U").charAt(0)}),e.jsxs(f,{children:[e.jsx(x,{variant:"body2",sx:{fontWeight:600,color:l.textPrimary,fontSize:"0.85rem"},children:c.user?.name||"N/A"}),e.jsx(x,{variant:"caption",sx:{color:l.textMuted,fontSize:"0.75rem"},children:c.user?.email||""})]})]})}),e.jsx(R,{sx:{...p,maxWidth:200},children:e.jsx(x,{variant:"body2",noWrap:!0,sx:{fontWeight:600,fontSize:"0.825rem",maxWidth:200},children:c.submission?.title||"N/A"})}),e.jsx(R,{sx:p,children:e.jsx(x,{sx:{fontWeight:700,color:"#1abc9c",fontSize:"0.9rem"},children:c.amount?`Rp ${parseFloat(c.amount).toLocaleString("id-ID")}`:"N/A"})}),e.jsx(R,{sx:p,children:e.jsx(re,{label:c.verified?"Verified":"Pending",size:"small",sx:{bgcolor:c.verified?o?"rgba(22,163,74,0.15)":"#dcfce7":o?"rgba(245,158,11,0.15)":"#fef3c7",color:c.verified?"#16a34a":"#d97706",fontWeight:600,fontSize:"0.7rem",borderRadius:"6px",height:24}})}),e.jsx(R,{sx:p,children:e.jsx(x,{variant:"body2",sx:{fontSize:"0.8rem",color:l.textMuted},children:c.created_at?new Date(c.created_at).toLocaleDateString("id-ID"):"N/A"})}),e.jsx(R,{sx:p,children:e.jsxs(f,{sx:{display:"flex",gap:1},children:[c.payment_proof_url&&e.jsx(U,{size:"small",startIcon:e.jsx(Et,{sx:{fontSize:16}}),onClick:()=>h({open:!0,payment:c}),sx:{borderRadius:"8px",textTransform:"none",fontWeight:600,fontSize:"0.75rem",color:"#2563eb",bgcolor:o?"rgba(37,99,235,0.1)":"#dbeafe","&:hover":{bgcolor:o?"rgba(37,99,235,0.2)":"#bfdbfe"},px:1.5},children:"View"}),c.verified?e.jsx(U,{size:"small",startIcon:e.jsx(Ot,{sx:{fontSize:16}}),onClick:()=>A(c.id),sx:{borderRadius:"8px",textTransform:"none",fontWeight:600,fontSize:"0.75rem",color:o?"#f87171":"#dc2626",bgcolor:o?"rgba(239,68,68,0.1)":"#fee2e2","&:hover":{bgcolor:o?"rgba(239,68,68,0.2)":"#fecaca"},px:1.5},children:"Reject"}):e.jsx(U,{size:"small",startIcon:e.jsx(Ae,{sx:{fontSize:16}}),onClick:()=>D(c.id),sx:{borderRadius:"8px",textTransform:"none",fontWeight:600,fontSize:"0.75rem",color:"white",background:"linear-gradient(135deg, #0d7a6a 0%, #1abc9c 100%)","&:hover":{background:"linear-gradient(135deg, #16a085 0%, #0d7a6a 100%)"},px:1.5},children:"Verify"})]})})]},c.id))})]})})})]}),e.jsxs(dt,{open:u.open,onClose:()=>h({open:!1,payment:null}),maxWidth:"md",fullWidth:!0,PaperProps:{sx:{borderRadius:"16px",bgcolor:l.cardBg,border:`1px solid ${l.cardBorder}`}},children:[e.jsxs(ct,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:`1px solid ${l.cardBorder}`,pb:2},children:[e.jsxs(f,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[e.jsx(J,{variant:"rounded",sx:{bgcolor:o?"rgba(26,188,156,0.12)":"#ecfdf5",width:40,height:40,borderRadius:"10px"},children:e.jsx(He,{sx:{color:"#1abc9c",fontSize:22}})}),e.jsx(x,{sx:{fontWeight:700,fontSize:"1rem",color:l.textPrimary},children:"Payment Proof"})]}),e.jsx(ye,{onClick:()=>h({open:!1,payment:null}),sx:{color:l.textMuted},children:e.jsx($t,{})})]}),e.jsx(ft,{sx:{p:3},children:u.payment&&e.jsxs(f,{children:[e.jsx(f,{sx:{mb:2.5,p:2,bgcolor:o?"rgba(0,0,0,0.15)":"#f9fafb",borderRadius:"12px",border:`1px solid ${l.cardBorder}`},children:e.jsx(ve,{spacing:1.5,children:[{l:"User",v:u.payment.user?.name},{l:"Submission",v:u.payment.submission?.title},{l:"Amount",v:`Rp ${parseFloat(u.payment.amount||0).toLocaleString("id-ID")}`,hl:!0}].map(c=>e.jsxs(f,{children:[e.jsx(x,{variant:"caption",sx:{color:l.textMuted,fontWeight:600,textTransform:"uppercase",letterSpacing:"0.05em",fontSize:"0.65rem"},children:c.l}),e.jsx(x,{variant:"body2",sx:{fontWeight:600,color:c.hl?"#1abc9c":l.textPrimary,fontSize:c.hl?"1rem":"0.85rem"},children:c.v})]},c.l))})}),u.payment.payment_proof_url&&e.jsx(f,{sx:{textAlign:"center"},children:e.jsx("img",{src:`/storage/${u.payment.payment_proof_url}`,alt:"Payment Proof",style:{maxWidth:"100%",maxHeight:"500px",objectFit:"contain",borderRadius:"12px",border:`1px solid ${o?"#374151":"#e5e7eb"}`},onError:c=>{c.target.style.display="none",c.target.parentElement.innerHTML='<p style="padding:40px;text-align:center;color:#666">Unable to load. <a href="/storage/'+u.payment.payment_proof_url+'" target="_blank">Download</a></p>'}})})]})}),e.jsxs(ut,{sx:{p:2.5,borderTop:`1px solid ${l.cardBorder}`},children:[u.payment&&!u.payment.verified&&e.jsx(U,{variant:"contained",startIcon:e.jsx(Ae,{}),onClick:()=>{D(u.payment.id),h({open:!1,payment:null})},sx:{background:"linear-gradient(135deg, #0d7a6a 0%, #1abc9c 100%)","&:hover":{background:"linear-gradient(135deg, #16a085 0%, #0d7a6a 100%)"},borderRadius:"10px",textTransform:"none",fontWeight:600,px:3},children:"Verify Payment"}),e.jsx(U,{onClick:()=>h({open:!1,payment:null}),sx:{borderRadius:"10px",textTransform:"none",fontWeight:600,color:l.textMuted},children:"Close"})]})]})]})}const dr=Object.freeze(Object.defineProperty({__proto__:null,default:qt},Symbol.toStringTag,{value:"Module"}));var me={exports:{}},Ie={},ke={exports:{}},Ke;function Xt(){if(Ke)return ke.exports;Ke=1;function d(l){var o,u,h="";if(typeof l=="string"||typeof l=="number")h+=l;else if(typeof l=="object")if(Array.isArray(l)){var D=l.length;for(o=0;o<D;o++)l[o]&&(u=d(l[o]))&&(h&&(h+=" "),h+=u)}else for(u in l)l[u]&&(h&&(h+=" "),h+=u);return h}function k(){for(var l,o,u=0,h="",D=arguments.length;u<D;u++)(l=arguments[u])&&(o=d(l))&&(h&&(h+=" "),h+=o);return h}return ke.exports=k,ke.exports.clsx=k,ke.exports}var L={},ne={},Je;function De(){if(Je)return ne;Je=1,Object.defineProperty(ne,"__esModule",{value:!0}),ne.dontSetMe=u,ne.findInArray=d,ne.int=o,ne.isFunction=k,ne.isNum=l;function d(h,D){for(let A=0,E=h.length;A<E;A++)if(D.apply(D,[h[A],A,h]))return h[A]}function k(h){return typeof h=="function"||Object.prototype.toString.call(h)==="[object Function]"}function l(h){return typeof h=="number"&&!isNaN(h)}function o(h){return parseInt(h,10)}function u(h,D,A){if(h[D])return new Error(`Invalid prop ${D} passed to ${A} - do not set this, set it on the child.`)}return ne}var se={},Qe;function Yt(){if(Qe)return se;Qe=1,Object.defineProperty(se,"__esModule",{value:!0}),se.browserPrefixToKey=l,se.browserPrefixToStyle=o,se.default=void 0,se.getPrefix=k;const d=["Moz","Webkit","O","ms"];function k(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const D=window.document?.documentElement?.style;if(!D||h in D)return"";for(let A=0;A<d.length;A++)if(l(h,d[A])in D)return d[A];return""}function l(h,D){return D?`${D}${u(h)}`:h}function o(h,D){return D?`-${D.toLowerCase()}-${h}`:h}function u(h){let D="",A=!0;for(let E=0;E<h.length;E++)A?(D+=h[E].toUpperCase(),A=!1):h[E]==="-"?A=!0:D+=h[E];return D}return se.default=k(),se}var Ze;function Ne(){if(Ze)return L;Ze=1,Object.defineProperty(L,"__esModule",{value:!0}),L.addClassName=v,L.addEvent=D,L.addUserSelectStyles=j,L.createCSSTransform=z,L.createSVGTransform=c,L.getTouch=y,L.getTouchIdentifier=m,L.getTranslation=g,L.innerHeight=i,L.innerWidth=p,L.matchesSelector=u,L.matchesSelectorAndParentsTo=h,L.offsetXYFromParent=w,L.outerHeight=E,L.outerWidth=a,L.removeClassName=P,L.removeEvent=A,L.scheduleRemoveUserSelectStyles=b;var d=De(),k=l(Yt());function l(r,s){if(typeof WeakMap=="function")var S=new WeakMap,T=new WeakMap;return(l=function(_,$){if(!$&&_&&_.__esModule)return _;var q,Y,Q={__proto__:null,default:_};if(_===null||typeof _!="object"&&typeof _!="function")return Q;if(q=$?T:S){if(q.has(_))return q.get(_);q.set(_,Q)}for(const X in _)X!=="default"&&{}.hasOwnProperty.call(_,X)&&((Y=(q=Object.defineProperty)&&Object.getOwnPropertyDescriptor(_,X))&&(Y.get||Y.set)?q(Q,X,Y):Q[X]=_[X]);return Q})(r,s)}let o="";function u(r,s){return o||(o=(0,d.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(S){return(0,d.isFunction)(r[S])})),(0,d.isFunction)(r[o])?r[o](s):!1}function h(r,s,S){let T=r;do{if(u(T,s))return!0;if(T===S)return!1;T=T.parentNode}while(T);return!1}function D(r,s,S,T){if(!r)return;const _={capture:!0,...T};r.addEventListener?r.addEventListener(s,S,_):r.attachEvent?r.attachEvent("on"+s,S):r["on"+s]=S}function A(r,s,S,T){if(!r)return;const _={capture:!0,...T};r.removeEventListener?r.removeEventListener(s,S,_):r.detachEvent?r.detachEvent("on"+s,S):r["on"+s]=null}function E(r){let s=r.clientHeight;const S=r.ownerDocument.defaultView.getComputedStyle(r);return s+=(0,d.int)(S.borderTopWidth),s+=(0,d.int)(S.borderBottomWidth),s}function a(r){let s=r.clientWidth;const S=r.ownerDocument.defaultView.getComputedStyle(r);return s+=(0,d.int)(S.borderLeftWidth),s+=(0,d.int)(S.borderRightWidth),s}function i(r){let s=r.clientHeight;const S=r.ownerDocument.defaultView.getComputedStyle(r);return s-=(0,d.int)(S.paddingTop),s-=(0,d.int)(S.paddingBottom),s}function p(r){let s=r.clientWidth;const S=r.ownerDocument.defaultView.getComputedStyle(r);return s-=(0,d.int)(S.paddingLeft),s-=(0,d.int)(S.paddingRight),s}function w(r,s,S){const _=s===s.ownerDocument.body?{left:0,top:0}:s.getBoundingClientRect(),$=(r.clientX+s.scrollLeft-_.left)/S,q=(r.clientY+s.scrollTop-_.top)/S;return{x:$,y:q}}function z(r,s){const S=g(r,s,"px");return{[(0,k.browserPrefixToKey)("transform",k.default)]:S}}function c(r,s){return g(r,s,"")}function g(r,s,S){let{x:T,y:_}=r,$=`translate(${T}${S},${_}${S})`;if(s){const q=`${typeof s.x=="string"?s.x:s.x+S}`,Y=`${typeof s.y=="string"?s.y:s.y+S}`;$=`translate(${q}, ${Y})`+$}return $}function y(r,s){return r.targetTouches&&(0,d.findInArray)(r.targetTouches,S=>s===S.identifier)||r.changedTouches&&(0,d.findInArray)(r.changedTouches,S=>s===S.identifier)}function m(r){if(r.targetTouches&&r.targetTouches[0])return r.targetTouches[0].identifier;if(r.changedTouches&&r.changedTouches[0])return r.changedTouches[0].identifier}function j(r){if(!r)return;let s=r.getElementById("react-draggable-style-el");s||(s=r.createElement("style"),s.type="text/css",s.id="react-draggable-style-el",s.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,s.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,r.getElementsByTagName("head")[0].appendChild(s)),r.body&&v(r.body,"react-draggable-transparent-selection")}function b(r){window.requestAnimationFrame?window.requestAnimationFrame(()=>{C(r)}):C(r)}function C(r){if(r)try{if(r.body&&P(r.body,"react-draggable-transparent-selection"),r.selection)r.selection.empty();else{const s=(r.defaultView||window).getSelection();s&&s.type!=="Caret"&&s.removeAllRanges()}}catch{}}function v(r,s){r.classList?r.classList.add(s):r.className.match(new RegExp(`(?:^|\\s)${s}(?!\\S)`))||(r.className+=` ${s}`)}function P(r,s){r.classList?r.classList.remove(s):r.className=r.className.replace(new RegExp(`(?:^|\\s)${s}(?!\\S)`,"g"),"")}return L}var ee={},et;function gt(){if(et)return ee;et=1,Object.defineProperty(ee,"__esModule",{value:!0}),ee.canDragX=u,ee.canDragY=h,ee.createCoreData=A,ee.createDraggableData=E,ee.getBoundPosition=l,ee.getControlPosition=D,ee.snapToGrid=o;var d=De(),k=Ne();function l(p,w,z){if(!p.props.bounds)return[w,z];let{bounds:c}=p.props;c=typeof c=="string"?c:a(c);const g=i(p);if(typeof c=="string"){const{ownerDocument:y}=g,m=y.defaultView;let j;if(c==="parent"?j=g.parentNode:j=g.getRootNode().querySelector(c),!(j instanceof m.HTMLElement))throw new Error('Bounds selector "'+c+'" could not find an element.');const b=j,C=m.getComputedStyle(g),v=m.getComputedStyle(b);c={left:-g.offsetLeft+(0,d.int)(v.paddingLeft)+(0,d.int)(C.marginLeft),top:-g.offsetTop+(0,d.int)(v.paddingTop)+(0,d.int)(C.marginTop),right:(0,k.innerWidth)(b)-(0,k.outerWidth)(g)-g.offsetLeft+(0,d.int)(v.paddingRight)-(0,d.int)(C.marginRight),bottom:(0,k.innerHeight)(b)-(0,k.outerHeight)(g)-g.offsetTop+(0,d.int)(v.paddingBottom)-(0,d.int)(C.marginBottom)}}return(0,d.isNum)(c.right)&&(w=Math.min(w,c.right)),(0,d.isNum)(c.bottom)&&(z=Math.min(z,c.bottom)),(0,d.isNum)(c.left)&&(w=Math.max(w,c.left)),(0,d.isNum)(c.top)&&(z=Math.max(z,c.top)),[w,z]}function o(p,w,z){const c=Math.round(w/p[0])*p[0],g=Math.round(z/p[1])*p[1];return[c,g]}function u(p){return p.props.axis==="both"||p.props.axis==="x"}function h(p){return p.props.axis==="both"||p.props.axis==="y"}function D(p,w,z){const c=typeof w=="number"?(0,k.getTouch)(p,w):null;if(typeof w=="number"&&!c)return null;const g=i(z),y=z.props.offsetParent||g.offsetParent||g.ownerDocument.body;return(0,k.offsetXYFromParent)(c||p,y,z.props.scale)}function A(p,w,z){const c=!(0,d.isNum)(p.lastX),g=i(p);return c?{node:g,deltaX:0,deltaY:0,lastX:w,lastY:z,x:w,y:z}:{node:g,deltaX:w-p.lastX,deltaY:z-p.lastY,lastX:p.lastX,lastY:p.lastY,x:w,y:z}}function E(p,w){const z=p.props.scale;return{node:w.node,x:p.state.x+w.deltaX/z,y:p.state.y+w.deltaY/z,deltaX:w.deltaX/z,deltaY:w.deltaY/z,lastX:p.state.x,lastY:p.state.y}}function a(p){return{left:p.left,top:p.top,right:p.right,bottom:p.bottom}}function i(p){const w=p.findDOMNode();if(!w)throw new Error("<DraggableCore>: Unmounted during event!");return w}return ee}var be={},Pe={},tt;function mt(){if(tt)return Pe;tt=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.default=d;function d(){}return Pe}var rt;function Ht(){if(rt)return be;rt=1,Object.defineProperty(be,"__esModule",{value:!0}),be.default=void 0;var d=E(ht()),k=A(xt()),l=A(pt()),o=Ne(),u=gt(),h=De(),D=A(mt());function A(g){return g&&g.__esModule?g:{default:g}}function E(g,y){if(typeof WeakMap=="function")var m=new WeakMap,j=new WeakMap;return(E=function(b,C){if(!C&&b&&b.__esModule)return b;var v,P,r={__proto__:null,default:b};if(b===null||typeof b!="object"&&typeof b!="function")return r;if(v=C?j:m){if(v.has(b))return v.get(b);v.set(b,r)}for(const s in b)s!=="default"&&{}.hasOwnProperty.call(b,s)&&((P=(v=Object.defineProperty)&&Object.getOwnPropertyDescriptor(b,s))&&(P.get||P.set)?v(r,s,P):r[s]=b[s]);return r})(g,y)}function a(g,y,m){return(y=i(y))in g?Object.defineProperty(g,y,{value:m,enumerable:!0,configurable:!0,writable:!0}):g[y]=m,g}function i(g){var y=p(g,"string");return typeof y=="symbol"?y:y+""}function p(g,y){if(typeof g!="object"||!g)return g;var m=g[Symbol.toPrimitive];if(m!==void 0){var j=m.call(g,y);if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(g)}const w={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let z=w.mouse,c=class extends d.Component{constructor(){super(...arguments),a(this,"dragging",!1),a(this,"lastX",NaN),a(this,"lastY",NaN),a(this,"touchIdentifier",null),a(this,"mounted",!1),a(this,"handleDragStart",y=>{if(this.props.onMouseDown(y),!this.props.allowAnyClick&&typeof y.button=="number"&&y.button!==0)return!1;const m=this.findDOMNode();if(!m||!m.ownerDocument||!m.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:j}=m;if(this.props.disabled||!(y.target instanceof j.defaultView.Node)||this.props.handle&&!(0,o.matchesSelectorAndParentsTo)(y.target,this.props.handle,m)||this.props.cancel&&(0,o.matchesSelectorAndParentsTo)(y.target,this.props.cancel,m))return;y.type==="touchstart"&&!this.props.allowMobileScroll&&y.preventDefault();const b=(0,o.getTouchIdentifier)(y);this.touchIdentifier=b;const C=(0,u.getControlPosition)(y,b,this);if(C==null)return;const{x:v,y:P}=C,r=(0,u.createCoreData)(this,v,P);(0,D.default)("DraggableCore: handleDragStart: %j",r),(0,D.default)("calling",this.props.onStart),!(this.props.onStart(y,r)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,o.addUserSelectStyles)(j),this.dragging=!0,this.lastX=v,this.lastY=P,(0,o.addEvent)(j,z.move,this.handleDrag),(0,o.addEvent)(j,z.stop,this.handleDragStop))}),a(this,"handleDrag",y=>{const m=(0,u.getControlPosition)(y,this.touchIdentifier,this);if(m==null)return;let{x:j,y:b}=m;if(Array.isArray(this.props.grid)){let P=j-this.lastX,r=b-this.lastY;if([P,r]=(0,u.snapToGrid)(this.props.grid,P,r),!P&&!r)return;j=this.lastX+P,b=this.lastY+r}const C=(0,u.createCoreData)(this,j,b);if((0,D.default)("DraggableCore: handleDrag: %j",C),this.props.onDrag(y,C)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const r=document.createEvent("MouseEvents");r.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(r)}return}this.lastX=j,this.lastY=b}),a(this,"handleDragStop",y=>{if(!this.dragging)return;const m=(0,u.getControlPosition)(y,this.touchIdentifier,this);if(m==null)return;let{x:j,y:b}=m;if(Array.isArray(this.props.grid)){let r=j-this.lastX||0,s=b-this.lastY||0;[r,s]=(0,u.snapToGrid)(this.props.grid,r,s),j=this.lastX+r,b=this.lastY+s}const C=(0,u.createCoreData)(this,j,b);if(this.props.onStop(y,C)===!1||this.mounted===!1)return!1;const P=this.findDOMNode();P&&this.props.enableUserSelectHack&&(0,o.scheduleRemoveUserSelectStyles)(P.ownerDocument),(0,D.default)("DraggableCore: handleDragStop: %j",C),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,P&&((0,D.default)("DraggableCore: Removing handlers"),(0,o.removeEvent)(P.ownerDocument,z.move,this.handleDrag),(0,o.removeEvent)(P.ownerDocument,z.stop,this.handleDragStop))}),a(this,"onMouseDown",y=>(z=w.mouse,this.handleDragStart(y))),a(this,"onMouseUp",y=>(z=w.mouse,this.handleDragStop(y))),a(this,"onTouchStart",y=>(z=w.touch,this.handleDragStart(y))),a(this,"onTouchEnd",y=>(z=w.touch,this.handleDragStop(y)))}componentDidMount(){this.mounted=!0;const y=this.findDOMNode();y&&(0,o.addEvent)(y,w.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const y=this.findDOMNode();if(y){const{ownerDocument:m}=y;(0,o.removeEvent)(m,w.mouse.move,this.handleDrag),(0,o.removeEvent)(m,w.touch.move,this.handleDrag),(0,o.removeEvent)(m,w.mouse.stop,this.handleDragStop),(0,o.removeEvent)(m,w.touch.stop,this.handleDragStop),(0,o.removeEvent)(y,w.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,o.scheduleRemoveUserSelectStyles)(m)}}findDOMNode(){return this.props?.nodeRef?this.props?.nodeRef?.current:l.default.findDOMNode(this)}render(){return d.cloneElement(d.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return be.default=c,a(c,"displayName","DraggableCore"),a(c,"propTypes",{allowAnyClick:k.default.bool,allowMobileScroll:k.default.bool,children:k.default.node.isRequired,disabled:k.default.bool,enableUserSelectHack:k.default.bool,offsetParent:function(g,y){if(g[y]&&g[y].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:k.default.arrayOf(k.default.number),handle:k.default.string,cancel:k.default.string,nodeRef:k.default.object,onStart:k.default.func,onDrag:k.default.func,onStop:k.default.func,onMouseDown:k.default.func,scale:k.default.number,className:h.dontSetMe,style:h.dontSetMe,transform:h.dontSetMe}),a(c,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),be}var ot;function Vt(){return ot||(ot=1,(function(d){Object.defineProperty(d,"__esModule",{value:!0}),Object.defineProperty(d,"DraggableCore",{enumerable:!0,get:function(){return E.default}}),d.default=void 0;var k=p(ht()),l=i(xt()),o=i(pt()),u=Xt(),h=Ne(),D=gt(),A=De(),E=i(Ht()),a=i(mt());function i(m){return m&&m.__esModule?m:{default:m}}function p(m,j){if(typeof WeakMap=="function")var b=new WeakMap,C=new WeakMap;return(p=function(v,P){if(!P&&v&&v.__esModule)return v;var r,s,S={__proto__:null,default:v};if(v===null||typeof v!="object"&&typeof v!="function")return S;if(r=P?C:b){if(r.has(v))return r.get(v);r.set(v,S)}for(const T in v)T!=="default"&&{}.hasOwnProperty.call(v,T)&&((s=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(v,T))&&(s.get||s.set)?r(S,T,s):S[T]=v[T]);return S})(m,j)}function w(){return w=Object.assign?Object.assign.bind():function(m){for(var j=1;j<arguments.length;j++){var b=arguments[j];for(var C in b)({}).hasOwnProperty.call(b,C)&&(m[C]=b[C])}return m},w.apply(null,arguments)}function z(m,j,b){return(j=c(j))in m?Object.defineProperty(m,j,{value:b,enumerable:!0,configurable:!0,writable:!0}):m[j]=b,m}function c(m){var j=g(m,"string");return typeof j=="symbol"?j:j+""}function g(m,j){if(typeof m!="object"||!m)return m;var b=m[Symbol.toPrimitive];if(b!==void 0){var C=b.call(m,j);if(typeof C!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return(j==="string"?String:Number)(m)}class y extends k.Component{static getDerivedStateFromProps(j,b){let{position:C}=j,{prevPropsPosition:v}=b;return C&&(!v||C.x!==v.x||C.y!==v.y)?((0,a.default)("Draggable: getDerivedStateFromProps %j",{position:C,prevPropsPosition:v}),{x:C.x,y:C.y,prevPropsPosition:{...C}}):null}constructor(j){super(j),z(this,"onDragStart",(b,C)=>{if((0,a.default)("Draggable: onDragStart: %j",C),this.props.onStart(b,(0,D.createDraggableData)(this,C))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),z(this,"onDrag",(b,C)=>{if(!this.state.dragging)return!1;(0,a.default)("Draggable: onDrag: %j",C);const v=(0,D.createDraggableData)(this,C),P={x:v.x,y:v.y,slackX:0,slackY:0};if(this.props.bounds){const{x:s,y:S}=P;P.x+=this.state.slackX,P.y+=this.state.slackY;const[T,_]=(0,D.getBoundPosition)(this,P.x,P.y);P.x=T,P.y=_,P.slackX=this.state.slackX+(s-P.x),P.slackY=this.state.slackY+(S-P.y),v.x=P.x,v.y=P.y,v.deltaX=P.x-this.state.x,v.deltaY=P.y-this.state.y}if(this.props.onDrag(b,v)===!1)return!1;this.setState(P)}),z(this,"onDragStop",(b,C)=>{if(!this.state.dragging||this.props.onStop(b,(0,D.createDraggableData)(this,C))===!1)return!1;(0,a.default)("Draggable: onDragStop: %j",C);const P={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:s,y:S}=this.props.position;P.x=s,P.y=S}this.setState(P)}),this.state={dragging:!1,dragged:!1,x:j.position?j.position.x:j.defaultPosition.x,y:j.position?j.position.y:j.defaultPosition.y,prevPropsPosition:{...j.position},slackX:0,slackY:0,isElementSVG:!1},j.position&&!(j.onDrag||j.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){return this.props?.nodeRef?.current??o.default.findDOMNode(this)}render(){const{axis:j,bounds:b,children:C,defaultPosition:v,defaultClassName:P,defaultClassNameDragging:r,defaultClassNameDragged:s,position:S,positionOffset:T,scale:_,...$}=this.props;let q={},Y=null;const X=!!!S||this.state.dragging,fe=S||v,ie={x:(0,D.canDragX)(this)&&X?this.state.x:fe.x,y:(0,D.canDragY)(this)&&X?this.state.y:fe.y};this.state.isElementSVG?Y=(0,h.createSVGTransform)(ie,T):q=(0,h.createCSSTransform)(ie,T);const xe=(0,u.clsx)(C.props.className||"",P,{[r]:this.state.dragging,[s]:this.state.dragged});return k.createElement(E.default,w({},$,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),k.cloneElement(k.Children.only(C),{className:xe,style:{...C.props.style,...q},transform:Y}))}}d.default=y,z(y,"displayName","Draggable"),z(y,"propTypes",{...E.default.propTypes,axis:l.default.oneOf(["both","x","y","none"]),bounds:l.default.oneOfType([l.default.shape({left:l.default.number,right:l.default.number,top:l.default.number,bottom:l.default.number}),l.default.string,l.default.oneOf([!1])]),defaultClassName:l.default.string,defaultClassNameDragging:l.default.string,defaultClassNameDragged:l.default.string,defaultPosition:l.default.shape({x:l.default.number,y:l.default.number}),positionOffset:l.default.shape({x:l.default.oneOfType([l.default.number,l.default.string]),y:l.default.oneOfType([l.default.number,l.default.string])}),position:l.default.shape({x:l.default.number,y:l.default.number}),className:A.dontSetMe,style:A.dontSetMe,transform:A.dontSetMe}),z(y,"defaultProps",{...E.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(Ie)),Ie}var nt;function Kt(){if(nt)return me.exports;nt=1;const{default:d,DraggableCore:k}=Vt();return me.exports=d,me.exports.default=d,me.exports.DraggableCore=k,me.exports}var Jt=Kt();const Qt=Ut(Jt),Zt={"Fundamental & Digital Geoscience":["Geodynamics, Seismology, Petrology and Volcanology","Sedimentology and Paleontology","Pore Pressure and Geomechanics","Remote Sensing","Technology and Application of Big Data, Machine Learning and Artificial Intelligence in Geoscience","Others"],"Advanced Mining & Mineral Technology":["Economic Minerals and Coal Exploration","Economic Minerals and Coal Resources Conservation","Economic Minerals Processing and Refining","Mine Geology, Grade Control and Reconciliation","Mine Geotechnical and Hydrogeology","Geometallurgy","Gemology","Others"],"Petroleum Geoscience, Engineering and Management":["Petroleum Geoscience","Petroleum Engineering and Production Technology","Enhanced Oil/Gas Recovery","Reservoir and Production Management","Others"],"Engineering Geology, Environment and Geohazard":["Engineering Geology for Infrastructure Development","Monitoring and Instrumentation in Geotechnical Projects","Environmental Geology and Land Use Planning","Geohazards and It's Risk Assessment, Mitigation and Prevention","Others"],"Energy Transition & Sustainable Future":["Unconventional and Renewable Energy","Geothermal","CCS/CCUS","Natural Hydrogen","Others"],"Governance, Culture and Social Impact":["Energy and Economic Mineral Policies","CSR and Social Impact","Health, Safety and Environment (HSE)","Geotourism and Geoheritage","Geomithology","Others"]},er=d=>{if(!d)return"N/A";for(const[k,l]of Object.entries(Zt))if(l.includes(d)||k===d)return k;return d};function tr({submissions:d=[],reviewers:k=[]}){const l=Oe(),o=l.palette.custom,u=l.palette.mode==="dark",[h,D]=I.useState([]),[A,E]=I.useState(""),[a,i]=I.useState({open:!1,submission:null}),[p,w]=I.useState([]),[z,c]=I.useState("all"),[g,y]=I.useState("all"),[m,j]=I.useState(""),[b,C]=I.useState(null),v=d.filter(t=>{const M=z==="all"||t.status===z,N=g==="all"||t.presentation_preference===g,F=m===""||t.title?.toLowerCase().includes(m.toLowerCase())||t.user?.name?.toLowerCase().includes(m.toLowerCase());return M&&N&&F}),P=t=>{t.target.checked?D(v.map(M=>M.id)):D([])},r=t=>{const M=h.indexOf(t);let N=[];M===-1?N=N.concat(h,t):M===0?N=N.concat(h.slice(1)):M===h.length-1?N=N.concat(h.slice(0,-1)):M>0&&(N=N.concat(h.slice(0,M),h.slice(M+1))),D(N)},s=(t,M)=>{te.patch(route("admin.submissions.updateStatus",t),{status:M},{preserveScroll:!0})},S=()=>{h.length>0&&A&&te.post(route("admin.submissions.bulkUpdate"),{submission_ids:h,status:A},{preserveScroll:!0,onSuccess:()=>{D([]),E("")}})},T=t=>{i({open:!0,submission:t}),w([])},_=t=>{p.includes(t)||(a.submission?.reviews?.length||0)+p.length<5&&w([...p,t])},$=t=>{w(p.filter(M=>M!==t))},q=()=>{p.length>0&&a.submission&&te.post(route("admin.submissions.assignReviewer",a.submission.id),{reviewer_ids:p},{preserveScroll:!0,onSuccess:()=>{i({open:!1,submission:null}),w([])}})},Y=(t,M)=>{confirm("Are you sure you want to remove this reviewer?")&&te.delete(route("admin.submissions.removeReviewer",{submissionId:t,reviewerId:M}),{preserveScroll:!0})},Q=()=>{window.location.href=route("admin.submissions.export")},X=t=>({pending:{bg:u?"rgba(245, 158, 11, 0.15)":"#fef3c7",color:"#d97706",label:"Pending"},under_review:{bg:u?"rgba(59, 130, 246, 0.15)":"#dbeafe",color:"#2563eb",label:"In Review"},revision_required_phase1:{bg:u?"rgba(234, 88, 12, 0.15)":"#fff7ed",color:"#ea580c",label:"Revision P1"},revision_required_phase2:{bg:u?"rgba(234, 88, 12, 0.15)":"#fff7ed",color:"#ea580c",label:"Revision P2"},accepted:{bg:u?"rgba(22, 163, 74, 0.15)":"#dcfce7",color:"#16a34a",label:"Accepted"},rejected:{bg:u?"rgba(239, 68, 68, 0.15)":"#fee2e2",color:"#dc2626",label:"Rejected"},deletion_requested:{bg:u?"rgba(249, 115, 22, 0.15)":"#fff7ed",color:"#ea580c",label:"Delete Req."}})[t]||{bg:u?"rgba(107, 114, 128, 0.15)":"#f3f4f6",color:"#6b7280",label:t},fe=t=>h.indexOf(t)!==-1,ie=()=>{if(!a.submission)return k;const t=(a.submission.reviews||[]).map(M=>M.reviewer_id);return k.filter(M=>!t.includes(M.id)&&!p.includes(M.id))},xe=t=>{const N={pending:`Status submission Anda telah diubah menjadi *Pending*.

Submission akan segera ditinjau oleh tim kami.`,under_review:`Status submission Anda telah diubah menjadi *Under Review*.

Submission Anda sedang dalam proses peninjauan oleh reviewer.`,revision_required_phase1:`Status submission Anda telah diubah menjadi *Revision Phase 1*.

Silakan lakukan revisi sesuai dengan komentar reviewer.`,revision_required_phase2:`Status submission Anda telah diubah menjadi *Revision Phase 2*.

Silakan lakukan revisi tambahan sesuai dengan komentar reviewer.`,accepted:`ðŸŽ‰ *Selamat!* ðŸŽ‰

Submission Anda telah *DITERIMA* (Accepted).

Terima kasih atas kontribusi Anda dalam konferensi ini.`,rejected:`Status submission Anda telah diubah menjadi *Rejected*.

Mohon maaf submission Anda tidak dapat diterima kali ini. Terima kasih atas partisipasi Anda.`}[t.status]||"Status submission Anda telah diperbarui.";let F=`*IAGI-GEOSEA 2026 - Notification*

`;return F+=`Halo *${t.user?.name}*,

`,F+=`Submission ID: *${t.id}*
`,F+=`Judul: *${t.title}*

`,F+=`${N}

`,F+=`Silakan login ke dashboard Anda untuk informasi lebih lanjut.

`,F+=`Terima kasih,
`,F+="Tim IAGI-GEOSEA 2026",F},Re=t=>{if(!t.user?.whatsapp){alert("User tidak memiliki nomor WhatsApp!");return}const M=xe(t),F=`https://wa.me/${t.user.whatsapp.replace(/^0/,"62").replace(/\D/g,"")}?text=${encodeURIComponent(M)}`;window.open(F,"_blank")},B={borderBottom:`1px solid ${o.cardBorder}`,py:1.5,fontSize:"0.825rem",color:o.textPrimary},G={...B,fontWeight:700,fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"0.05em",color:o.textMuted,bgcolor:u?"rgba(0,0,0,0.15)":"#f9fafb"};return e.jsxs(Be,{children:[e.jsx($e,{title:"Manage Submissions"}),e.jsxs(f,{sx:{p:{xs:2,sm:3,md:3.5},minHeight:"100vh",bgcolor:o.surfaceBg},children:[e.jsxs(f,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},mb:3,gap:2},children:[e.jsxs(f,{children:[e.jsx(x,{variant:"h4",sx:{fontWeight:800,color:o.textPrimary,fontSize:{xs:"1.5rem",sm:"1.85rem"},letterSpacing:"-0.02em"},children:"Manage Submissions ðŸ“„"}),e.jsxs(x,{variant:"body2",sx:{color:o.textMuted,mt:.5,fontSize:"0.85rem"},children:[d.length," total submissions"]})]}),e.jsx(U,{variant:"contained",startIcon:e.jsx(Bt,{}),onClick:Q,sx:{background:"linear-gradient(135deg, #0d7a6a 0%, #1abc9c 100%)",px:3,py:1.2,borderRadius:"12px",textTransform:"none",fontWeight:600,fontSize:"0.875rem",boxShadow:"0 4px 14px rgba(26, 188, 156, 0.35)","&:hover":{background:"linear-gradient(135deg, #16a085 0%, #0d7a6a 100%)",boxShadow:"0 6px 20px rgba(26, 188, 156, 0.45)",transform:"translateY(-1px)"},transition:"all 0.25s ease"},children:"Export CSV"})]}),e.jsx(V,{elevation:0,sx:{borderRadius:"14px",border:`1px solid ${o.cardBorder}`,bgcolor:o.cardBg,mb:2.5},children:e.jsx(ae,{sx:{p:{xs:2,sm:2.5},"&:last-child":{pb:{xs:2,sm:2.5}}},children:e.jsxs(f,{sx:{display:"flex",gap:2,flexWrap:"wrap",alignItems:"center"},children:[e.jsx(vt,{placeholder:"Search by title or author...",value:m,onChange:t=>j(t.target.value),size:"small",InputProps:{startAdornment:e.jsx(St,{position:"start",children:e.jsx(Nt,{sx:{color:o.textMuted,fontSize:20}})})},sx:{flex:1,minWidth:220,"& .MuiOutlinedInput-root":{borderRadius:"10px",bgcolor:u?"rgba(0,0,0,0.15)":"#f9fafb","& fieldset":{borderColor:o.cardBorder},"&:hover fieldset":{borderColor:"#1abc9c"},"&.Mui-focused fieldset":{borderColor:"#1abc9c"}},"& input":{color:o.textPrimary,fontSize:"0.85rem"}}}),e.jsxs(we,{size:"small",sx:{minWidth:160},children:[e.jsx(Ce,{sx:{fontSize:"0.85rem"},children:"Status"}),e.jsxs(pe,{value:z,label:"Status",onChange:t=>c(t.target.value),sx:{borderRadius:"10px",bgcolor:u?"rgba(0,0,0,0.15)":"#f9fafb",fontSize:"0.85rem","& fieldset":{borderColor:o.cardBorder}},children:[e.jsxs(O,{value:"all",children:["All (",d.length,")"]}),e.jsxs(O,{value:"pending",children:["Pending (",d.filter(t=>t.status==="pending").length,")"]}),e.jsxs(O,{value:"under_review",children:["In Review (",d.filter(t=>t.status==="under_review").length,")"]}),e.jsxs(O,{value:"revision_required_phase1",children:["Revision P1 (",d.filter(t=>t.status==="revision_required_phase1").length,")"]}),e.jsxs(O,{value:"revision_required_phase2",children:["Revision P2 (",d.filter(t=>t.status==="revision_required_phase2").length,")"]}),e.jsxs(O,{value:"accepted",children:["Accepted (",d.filter(t=>t.status==="accepted").length,")"]}),e.jsxs(O,{value:"rejected",children:["Rejected (",d.filter(t=>t.status==="rejected").length,")"]}),e.jsxs(O,{value:"deletion_requested",children:["Delete Requested (",d.filter(t=>t.status==="deletion_requested").length,")"]})]})]}),e.jsxs(we,{size:"small",sx:{minWidth:160},children:[e.jsx(Ce,{sx:{fontSize:"0.85rem"},children:"Type"}),e.jsxs(pe,{value:g,label:"Type",onChange:t=>y(t.target.value),sx:{borderRadius:"10px",bgcolor:u?"rgba(0,0,0,0.15)":"#f9fafb",fontSize:"0.85rem","& fieldset":{borderColor:o.cardBorder}},children:[e.jsxs(O,{value:"all",children:["All (",d.length,")"]}),e.jsxs(O,{value:"Oral Presentation",children:["Oral (",d.filter(t=>t.presentation_preference==="Oral Presentation").length,")"]}),e.jsxs(O,{value:"Poster Presentation",children:["Poster (",d.filter(t=>t.presentation_preference==="Poster Presentation").length,")"]})]})]}),e.jsx(re,{label:`${v.length} of ${d.length}`,size:"small",sx:{bgcolor:u?"rgba(26, 188, 156, 0.12)":"#ecfdf5",color:"#1abc9c",fontWeight:700,fontSize:"0.75rem",borderRadius:"8px"}})]})})}),h.length>0&&e.jsx(V,{elevation:0,sx:{borderRadius:"14px",border:`2px solid ${u?"rgba(26, 188, 156, 0.3)":"#a7f3d0"}`,bgcolor:u?"rgba(26, 188, 156, 0.06)":"#ecfdf5",mb:2.5},children:e.jsx(ae,{sx:{p:2,"&:last-child":{pb:2}},children:e.jsxs(f,{sx:{display:"flex",alignItems:"center",gap:2,flexWrap:"wrap"},children:[e.jsx(re,{label:`${h.length} selected`,sx:{bgcolor:"#1abc9c",color:"white",fontWeight:700,fontSize:"0.8rem"}}),e.jsxs(we,{size:"small",sx:{minWidth:180},children:[e.jsx(Ce,{sx:{fontSize:"0.85rem"},children:"Bulk Update"}),e.jsxs(pe,{value:A,onChange:t=>E(t.target.value),label:"Bulk Update",sx:{borderRadius:"10px",fontSize:"0.85rem"},children:[e.jsx(O,{value:"pending",children:"Pending"}),e.jsx(O,{value:"under_review",children:"Under Review"}),e.jsx(O,{value:"revision_required_phase1",children:"Revision Phase 1"}),e.jsx(O,{value:"revision_required_phase2",children:"Revision Phase 2"}),e.jsx(O,{value:"accepted",children:"Accepted"}),e.jsx(O,{value:"rejected",children:"Rejected"})]})]}),e.jsx(U,{variant:"contained",onClick:S,disabled:!A,size:"small",sx:{bgcolor:"#1abc9c","&:hover":{bgcolor:"#16a085"},borderRadius:"10px",textTransform:"none",fontWeight:600,px:2.5},children:"Apply"})]})})}),e.jsx(V,{elevation:0,sx:{borderRadius:"16px",border:`1px solid ${o.cardBorder}`,bgcolor:o.cardBg,overflow:"hidden"},children:e.jsx(st,{sx:{maxHeight:"75vh"},children:e.jsxs(at,{stickyHeader:!0,size:"small",children:[e.jsx(it,{children:e.jsxs(ue,{children:[e.jsx(R,{padding:"checkbox",sx:G,children:e.jsx(Ue,{indeterminate:h.length>0&&h.length<v.length,checked:v.length>0&&h.length===v.length,onChange:P,sx:{"&.Mui-checked":{color:"#1abc9c"},"&.MuiCheckbox-indeterminate":{color:"#1abc9c"}}})}),e.jsx(R,{sx:G,children:"ID"}),e.jsx(R,{sx:G,children:"Title"}),e.jsx(R,{sx:G,children:"Name"}),e.jsx(R,{sx:G,children:"Author"}),e.jsx(R,{sx:G,children:"Co-Authors"}),e.jsx(R,{sx:G,children:"Phone"}),e.jsx(R,{sx:G,children:"Email"}),e.jsx(R,{sx:G,children:"Paper Theme"}),e.jsx(R,{sx:G,children:"Paper Sub Theme"}),e.jsx(R,{sx:G,children:"Type"}),e.jsx(R,{sx:G,children:"Submitted"}),e.jsx(R,{sx:G,children:"Status"}),e.jsx(R,{sx:G,children:"Payment"}),e.jsx(R,{sx:G,children:"Reviewers"}),e.jsx(R,{sx:G,children:"Actions"})]})}),e.jsx(lt,{children:v.length===0?e.jsx(ue,{children:e.jsx(R,{colSpan:15,align:"center",sx:B,children:e.jsxs(f,{sx:{py:5},children:[e.jsx(je,{sx:{fontSize:48,color:u?"#374151":"#d1d5db",mb:1}}),e.jsx(x,{variant:"body2",sx:{color:o.textMuted},children:"No submissions found"})]})})}):v.map(t=>{const M=fe(t.id),N=t.reviews||[],F=N.length,he=X(t.status);return e.jsxs(ue,{hover:!0,selected:M,sx:{"&:hover":{bgcolor:u?"rgba(255,255,255,0.02)":"#f9fafb"},"&.Mui-selected":{bgcolor:u?"rgba(26, 188, 156, 0.06)":"#ecfdf5","&:hover":{bgcolor:u?"rgba(26, 188, 156, 0.1)":"#d1fae5"}}},children:[e.jsx(R,{padding:"checkbox",sx:B,children:e.jsx(Ue,{checked:M,onChange:()=>r(t.id),sx:{"&.Mui-checked":{color:"#1abc9c"}}})}),e.jsxs(R,{sx:{...B,fontWeight:600,color:o.textMuted,fontSize:"0.8rem"},children:["#",t.id]}),e.jsx(R,{sx:{...B,fontWeight:600,maxWidth:200},children:e.jsx(x,{variant:"body2",sx:{fontWeight:600,color:o.textPrimary,fontSize:"0.825rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:200},children:t.title||"N/A"})}),e.jsx(R,{sx:B,children:e.jsx(x,{variant:"body2",sx:{fontSize:"0.825rem",color:o.textPrimary},children:t.author_full_name||"N/A"})}),e.jsx(R,{sx:B,children:e.jsx(x,{variant:"body2",sx:{fontSize:"0.825rem",color:o.textPrimary},children:t.user?.name||"N/A"})}),e.jsx(R,{sx:B,children:(()=>{const H=[];for(let le=1;le<=5;le++){const oe=t[`co_author_${le}`],Me=t[`co_author_${le}_institute`];oe&&oe.trim()&&H.push({name:oe,institute:Me||"-"})}return H.length===0?e.jsx(x,{variant:"body2",sx:{fontSize:"0.75rem",color:o.textMuted,fontStyle:"italic"},children:"â€”"}):e.jsx(re,{id:`co-authors-${t.id}`,icon:e.jsx(ze,{sx:{fontSize:13}}),label:`${H.length}`,size:"small",onClick:le=>{const oe=`co-authors-${t.id}`;b?.id===oe?C(null):C({id:oe,anchorEl:le.currentTarget,coAuthors:H})},sx:{bgcolor:u?"rgba(59, 130, 246, 0.12)":"#dbeafe",color:"#3b82f6",fontWeight:700,fontSize:"0.7rem",borderRadius:"6px",height:24,cursor:"pointer","& .MuiChip-icon":{color:"#3b82f6"}}})})()}),e.jsx(R,{sx:B,children:e.jsxs(f,{sx:{display:"flex",alignItems:"center",gap:.5},children:[e.jsx(x,{variant:"body2",sx:{fontSize:"0.8rem",color:o.textMuted},children:t.user?.whatsapp||"N/A"}),t.user?.whatsapp&&e.jsx(We,{title:"Send WhatsApp Notification",children:e.jsx(ye,{size:"small",onClick:()=>Re(t),sx:{color:"#25D366",p:.5,"&:hover":{bgcolor:"rgba(37, 211, 102, 0.1)"}},children:e.jsx(Lt,{sx:{fontSize:18}})})})]})}),e.jsx(R,{sx:B,children:e.jsx(x,{variant:"body2",sx:{fontSize:"0.8rem",color:o.textMuted},children:t.user?.email||"N/A"})}),e.jsx(R,{sx:{...B,maxWidth:130},children:e.jsx(x,{variant:"body2",sx:{fontSize:"0.75rem",color:"#1abc9c",fontWeight:600,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:er(t.paper_sub_theme||t.topic)})}),e.jsx(R,{sx:{...B,maxWidth:150},children:e.jsx(x,{variant:"body2",sx:{fontSize:"0.8rem",color:o.textPrimary,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:t.paper_sub_theme||t.topic||"N/A"})}),e.jsx(R,{sx:B,children:e.jsx(re,{label:t.presentation_preference==="Oral Presentation"?"Oral":t.presentation_preference==="Poster Presentation"?"Poster":"N/A",size:"small",sx:{bgcolor:t.presentation_preference==="Oral Presentation"?u?"rgba(37, 99, 235, 0.15)":"#dbeafe":t.presentation_preference==="Poster Presentation"?u?"rgba(147, 51, 234, 0.15)":"#f3e8ff":u?"rgba(107, 114, 128, 0.15)":"#f3f4f6",color:t.presentation_preference==="Oral Presentation"?"#2563eb":t.presentation_preference==="Poster Presentation"?"#9333ea":"#6b7280",fontWeight:600,fontSize:"0.7rem",borderRadius:"6px",height:24}})}),e.jsx(R,{sx:B,children:e.jsx(x,{variant:"body2",sx:{fontSize:"0.75rem",color:o.textMuted},children:new Date(t.created_at).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"Asia/Jakarta"}).replace(",","")})}),e.jsx(R,{sx:B,children:e.jsxs(pe,{value:t.status||"pending",onChange:H=>s(t.id,H.target.value),size:"small",sx:{minWidth:130,borderRadius:"8px",fontSize:"0.8rem",fontWeight:600,bgcolor:he.bg,color:he.color,"& .MuiSelect-select":{py:.75},"& fieldset":{borderColor:"transparent"},"&:hover fieldset":{borderColor:he.color}},children:[e.jsx(O,{value:"pending",sx:{fontSize:"0.85rem"},children:"Pending"}),e.jsx(O,{value:"under_review",sx:{fontSize:"0.85rem"},children:"Under Review"}),e.jsx(O,{value:"revision_required_phase1",sx:{fontSize:"0.85rem"},children:"Revision P1"}),e.jsx(O,{value:"revision_required_phase2",sx:{fontSize:"0.85rem"},children:"Revision P2"}),e.jsx(O,{value:"accepted",sx:{fontSize:"0.85rem"},children:"Accepted"}),e.jsx(O,{value:"rejected",sx:{fontSize:"0.85rem"},children:"Rejected"})]})}),e.jsx(R,{sx:B,children:e.jsx(re,{label:t.payment?.verified?"Paid":"Unpaid",size:"small",sx:{bgcolor:t.payment?.verified?u?"rgba(22, 163, 74, 0.15)":"#dcfce7":u?"rgba(107, 114, 128, 0.15)":"#f3f4f6",color:t.payment?.verified?"#16a34a":"#6b7280",fontWeight:600,fontSize:"0.7rem",borderRadius:"6px",height:24}})}),e.jsx(R,{sx:B,children:F>0?e.jsxs(f,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[e.jsx(re,{icon:e.jsx(ze,{sx:{fontSize:14}}),label:`${F}/5`,size:"small",sx:{bgcolor:u?"rgba(26, 188, 156, 0.12)":"#ecfdf5",color:"#1abc9c",fontWeight:700,fontSize:"0.7rem",borderRadius:"6px",height:24,"& .MuiChip-icon":{color:"#1abc9c"}}}),N.map(H=>e.jsxs(f,{sx:{display:"flex",alignItems:"center",gap:.5,bgcolor:u?"rgba(0,0,0,0.15)":"#f9fafb",px:1,py:.25,borderRadius:"6px"},children:[e.jsx(x,{variant:"caption",sx:{flex:1,fontSize:"0.7rem",color:o.textPrimary,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:H.reviewer?.name||"Unknown"}),e.jsx(ye,{size:"small",onClick:()=>Y(t.id,H.reviewer_id),sx:{p:"2px","&:hover":{color:"#dc2626"}},children:e.jsx(Te,{sx:{fontSize:12}})})]},H.id)),F<5&&e.jsx(U,{size:"small",startIcon:e.jsx(_e,{sx:{fontSize:14}}),onClick:()=>T(t),sx:{color:"#1abc9c",fontSize:"0.65rem",textTransform:"none",fontWeight:600,px:1,py:.25,minWidth:0,borderRadius:"6px","&:hover":{bgcolor:u?"rgba(26, 188, 156, 0.1)":"#ecfdf5"}},children:"Add"})]}):e.jsx(U,{size:"small",startIcon:e.jsx(_e,{sx:{fontSize:16}}),onClick:()=>T(t),sx:{color:"#1abc9c",fontSize:"0.75rem",textTransform:"none",fontWeight:600,borderRadius:"8px",px:1.5,"&:hover":{bgcolor:u?"rgba(26, 188, 156, 0.1)":"#ecfdf5"}},children:"Assign"})}),e.jsx(R,{sx:B,children:e.jsx(f,{sx:{display:"flex",gap:.5,alignItems:"center"},children:t.status==="deletion_requested"?e.jsxs(e.Fragment,{children:[e.jsx(We,{title:`Reason: ${t.deletion_reason||"No reason provided"}`,children:e.jsx(U,{size:"small",variant:"contained",onClick:()=>{confirm(`Approve deletion of "${t.title}"?

Reason: ${t.deletion_reason||"No reason provided"}

This will permanently delete the submission and all related data.`)&&te.post(route("admin.submissions.approveDeletion",t.id),{},{preserveScroll:!0})},sx:{bgcolor:"#16a34a",color:"white",fontSize:"0.65rem",textTransform:"none",fontWeight:600,borderRadius:"6px",px:1,py:.3,minWidth:0,"&:hover":{bgcolor:"#15803d"}},children:"âœ“ Approve"})}),e.jsx(U,{size:"small",variant:"outlined",onClick:()=>{confirm("Reject this deletion request? The submission status will be reset to Pending.")&&te.post(route("admin.submissions.rejectDeletion",t.id),{},{preserveScroll:!0})},sx:{color:"#dc2626",borderColor:"#fca5a5",fontSize:"0.65rem",textTransform:"none",fontWeight:600,borderRadius:"6px",px:1,py:.3,minWidth:0,"&:hover":{borderColor:"#dc2626",bgcolor:"#fef2f2"}},children:"âœ— Reject"})]}):e.jsx(We,{title:"Delete submission",children:e.jsx(ye,{size:"small",onClick:()=>{confirm("Are you sure you want to delete this submission? This action cannot be undone and will delete all related reviews and payments.")&&te.delete(route("admin.submissions.delete",t.id),{preserveScroll:!0})},sx:{color:u?"#f87171":"#ef4444","&:hover":{bgcolor:u?"rgba(239, 68, 68, 0.1)":"#fee2e2"}},children:e.jsx(Te,{sx:{fontSize:20}})})})})})]},t.id)})})]})})})]}),e.jsxs(dt,{open:a.open,onClose:()=>i({open:!1,submission:null}),maxWidth:"sm",fullWidth:!0,PaperComponent:t=>e.jsx(Qt,{handle:"#assign-dialog-title",cancel:'[class*="MuiDialogContent-root"]',children:e.jsx(Ct,{...t})}),PaperProps:{sx:{borderRadius:{xs:0,sm:"16px"},bgcolor:o.cardBg,border:{xs:"none",sm:`1px solid ${o.cardBorder}`},m:{xs:0,sm:3},maxHeight:{xs:"100vh",sm:"85vh"},height:{xs:"100vh",sm:"auto"},width:{xs:"100vw",sm:void 0}}},children:[e.jsx(ct,{id:"assign-dialog-title",sx:{pb:1,fontWeight:700,color:o.textPrimary,borderBottom:`1px solid ${o.cardBorder}`,position:"sticky",top:0,bgcolor:o.cardBg,zIndex:1,cursor:"move"},children:e.jsxs(f,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[e.jsx(J,{variant:"rounded",sx:{bgcolor:u?"rgba(26, 188, 156, 0.12)":"#ecfdf5",width:40,height:40,borderRadius:"10px"},children:e.jsx(_e,{sx:{color:"#1abc9c",fontSize:22}})}),e.jsxs(f,{children:[e.jsx(x,{sx:{fontWeight:700,fontSize:"1rem",color:o.textPrimary},children:"Assign Reviewers"}),a.submission&&e.jsxs(x,{variant:"caption",sx:{color:o.textMuted},children:[a.submission.reviews?.length||0,"/5 assigned â€¢ Adding ",p.length]})]})]})}),e.jsx(ft,{sx:{pt:2.5,overflowY:"auto",WebkitOverflowScrolling:"touch"},children:a.submission&&e.jsxs(e.Fragment,{children:[e.jsxs(f,{sx:{mb:2.5,mt:1,p:2,bgcolor:u?"rgba(0,0,0,0.15)":"#f9fafb",borderRadius:"10px",border:`1px solid ${o.cardBorder}`},children:[e.jsx(x,{variant:"caption",sx:{color:o.textMuted,fontWeight:600,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Submission"}),e.jsx(x,{variant:"body2",sx:{fontWeight:600,color:o.textPrimary,mt:.5},children:a.submission.title})]}),a.submission.reviews&&a.submission.reviews.length>0&&e.jsxs(f,{sx:{mb:2.5},children:[e.jsx(x,{variant:"caption",sx:{fontWeight:700,color:o.textMuted,textTransform:"uppercase",letterSpacing:"0.05em",mb:1,display:"block"},children:"Currently Assigned"}),e.jsx(ve,{spacing:.75,children:a.submission.reviews.map(t=>e.jsxs(f,{sx:{display:"flex",alignItems:"center",gap:1.5,p:1.5,bgcolor:u?"rgba(0,0,0,0.1)":"#f9fafb",borderRadius:"10px",border:`1px solid ${o.cardBorder}`},children:[e.jsx(J,{sx:{width:32,height:32,bgcolor:"#1abc9c",fontSize:"0.8rem",fontWeight:700},children:(t.reviewer?.name||"U").charAt(0)}),e.jsxs(f,{sx:{flex:1},children:[e.jsx(x,{variant:"body2",sx:{fontWeight:600,color:o.textPrimary,fontSize:"0.85rem"},children:t.reviewer?.name||"Unknown"}),e.jsx(x,{variant:"caption",sx:{color:o.textMuted,fontSize:"0.75rem"},children:t.reviewer?.email}),t.reviewer?.affiliation&&e.jsx(x,{variant:"caption",sx:{color:"#1abc9c",fontSize:"0.7rem",display:"block"},children:t.reviewer.affiliation})]})]},t.id))})]}),p.length>0&&e.jsxs(f,{sx:{mb:2.5},children:[e.jsx(x,{variant:"caption",sx:{fontWeight:700,color:"#1abc9c",textTransform:"uppercase",letterSpacing:"0.05em",mb:1,display:"block"},children:"Selected to Add"}),e.jsx(ve,{spacing:.75,children:p.map(t=>{const M=k.find(N=>N.id===t);return e.jsxs(f,{sx:{display:"flex",alignItems:"center",gap:1.5,p:1.5,bgcolor:u?"rgba(26, 188, 156, 0.08)":"#ecfdf5",borderRadius:"10px",border:`1px solid ${u?"rgba(26, 188, 156, 0.2)":"#a7f3d0"}`},children:[e.jsx(J,{sx:{width:32,height:32,bgcolor:"#16a34a",fontSize:"0.8rem",fontWeight:700},children:(M?.name||"U").charAt(0)}),e.jsxs(f,{sx:{flex:1},children:[e.jsx(x,{variant:"body2",sx:{fontWeight:600,color:o.textPrimary,fontSize:"0.85rem"},children:M?.name||"Unknown"}),e.jsx(x,{variant:"caption",sx:{color:o.textMuted,fontSize:"0.75rem"},children:M?.email}),M?.affiliation&&e.jsx(x,{variant:"caption",sx:{color:"#1abc9c",fontSize:"0.7rem",display:"block"},children:M.affiliation})]}),e.jsx(ye,{size:"small",onClick:()=>$(t),sx:{"&:hover":{color:"#dc2626"}},children:e.jsx(Te,{sx:{fontSize:18}})})]},t)})})]}),(a.submission.reviews?.length||0)+p.length<5?e.jsxs(we,{fullWidth:!0,children:[e.jsx(Ce,{children:"Select Reviewer to Add"}),e.jsx(pe,{value:"",onChange:t=>_(t.target.value),label:"Select Reviewer to Add",sx:{borderRadius:"10px"},children:ie().length===0?e.jsx(O,{disabled:!0,children:"No more reviewers available"}):ie().map(t=>e.jsxs(O,{value:t.id,sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",py:1},children:[e.jsxs(x,{sx:{fontSize:"0.875rem",fontWeight:500},children:[t.name," (",t.email,")"]}),t.affiliation&&e.jsx(x,{sx:{fontSize:"0.75rem",color:"#1abc9c",mt:.25},children:t.affiliation})]},t.id))})]}):e.jsx(wt,{severity:"info",sx:{borderRadius:"10px"},children:"Maximum of 5 reviewers reached"})]})}),e.jsxs(ut,{sx:{p:2.5,pt:1.5,borderTop:`1px solid ${o.cardBorder}`},children:[e.jsx(U,{onClick:()=>{i({open:!1,submission:null}),w([])},sx:{borderRadius:"10px",textTransform:"none",fontWeight:600,color:o.textMuted},children:"Cancel"}),e.jsxs(U,{onClick:q,variant:"contained",disabled:p.length===0,sx:{background:"linear-gradient(135deg, #0d7a6a 0%, #1abc9c 100%)","&:hover":{background:"linear-gradient(135deg, #16a085 0%, #0d7a6a 100%)"},borderRadius:"10px",textTransform:"none",fontWeight:600,px:3},children:["Assign ",p.length," Reviewer",p.length!==1?"s":""]})]})]}),e.jsx(kt,{open:!!b,anchorEl:b?.anchorEl,onClose:()=>{},disableAutoFocus:!0,disableEnforceFocus:!0,disableRestoreFocus:!0,style:{pointerEvents:"none"},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},PaperProps:{style:{pointerEvents:"auto"},sx:{bgcolor:"#1e293b",borderRadius:"10px",boxShadow:"0 8px 24px rgba(0,0,0,0.25)",p:2,minWidth:220,maxWidth:350}},children:b?.coAuthors&&e.jsxs(f,{children:[e.jsxs(x,{sx:{fontWeight:700,fontSize:"0.75rem",mb:1,color:"#a7f3d0",textTransform:"uppercase",letterSpacing:"0.05em"},children:["Co-Authors (",b.coAuthors.length,")"]}),e.jsx(ve,{spacing:1,children:b.coAuthors.map((t,M)=>e.jsxs(f,{children:[e.jsxs(x,{sx:{fontWeight:600,fontSize:"0.8rem",color:"#fff"},children:[M+1,". ",t.name]}),e.jsx(x,{sx:{fontSize:"0.7rem",color:"rgba(255,255,255,0.65)",pl:1.5},children:t.institute})]},M))})]})})]})}const fr=Object.freeze(Object.defineProperty({__proto__:null,default:tr},Symbol.toStringTag,{value:"Module"}));export{lr as D,dr as P,fr as S};
