import{n as Me,r as G,j as e,y,T as x,B as U,J as Y,K,L as te,O as H,R as Re,Q as J,S as Ae,U as re,V as he,H as ct,W as Ve,X as Ke,Y as Je,Z as ie,$ as M,a0 as Qe,a1 as Ze,a2 as et,I as fe,a3 as tt,a4 as rt,a5 as nt,C as ut,D as ft,a6 as ge,a7 as pe,a8 as le,M as A,G as Te,a9 as Ie,A as ht,aa as xt,ab as gt}from"./vendor-mui-core-BkCyxMSn.js";import{H as _e,L as de,r as ne}from"./vendor-inertia-ewhD8odP.js";import{S as ke}from"./layouts-C4poQfBz.js";import{A as Ee,D as ve,G as pt,e as Ne,f as je,g as mt,h as bt,i as vt,j as Be,k as jt,F as yt,l as St,m as wt,n as Pt,o as Ct,p as Pe,q as Dt,R as Oe,b as zt,r as Rt,s as Mt,t as _t,u as kt,W as Wt,v as Ce,w as De}from"./vendor-mui-icons-DvNeeMSU.js";import{B as At}from"./vendor-mui-charts-D06kS48C.js";import{r as ot,a as st,g as Tt}from"./vendor-react-zq6P3Ky3.js";function It({analytics:a,recentSubmissions:P=[],pendingPayments:s=0,submissionsPerTopic:o=[],participantStats:l={},submissionsPerTopicByParticipant:d=[]}){const D=Me(),f=D.palette.custom,h=D.palette.mode==="dark",[z,T]=G.useState("all"),[c,S]=G.useState("all"),R=a?.totalSubmissions||0,i=a?.pendingReviews||0,j=a?.verifiedPayments||0;a?.acceptedSubmissions,a?.rejectedSubmissions;const g=a?.totalUsers||0,m=new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),b=[{title:"Total Submissions",value:R,icon:e.jsx(wt,{}),color:"#1abc9c",bgColor:h?"rgba(26, 188, 156, 0.12)":"#ecfdf5",trend:"Total"},{title:"Pending Reviews",value:i,icon:e.jsx(Pt,{}),color:"#ea580c",bgColor:h?"rgba(234, 88, 12, 0.12)":"#fff7ed",trend:"Pending"},{title:"Verified Payments",value:j,icon:e.jsx(Ne,{}),color:"#2563eb",bgColor:h?"rgba(37, 99, 235, 0.12)":"#eff6ff",trend:"Verified"},{title:"Total Users",value:g,icon:e.jsx(je,{}),color:"#9333ea",bgColor:h?"rgba(147, 51, 234, 0.12)":"#faf5ff",trend:"Users"}],w=[{label:"Workflow Control",href:route("admin.submissions"),icon:e.jsx(Ee,{}),color:"#1abc9c",bgColor:h?"rgba(26, 188, 156, 0.12)":"#ecfdf5",primary:!0},{label:"Reviewer Assignment",href:route("admin.submissions"),icon:e.jsx(ve,{}),color:"#0891b2",bgColor:h?"rgba(8, 145, 178, 0.12)":"#ecfeff"},{label:"Database Export",href:route("admin.export"),icon:e.jsx(pt,{}),color:"#2563eb",bgColor:h?"rgba(37, 99, 235, 0.12)":"#eff6ff"},{label:"Payment Validation",href:route("admin.payments"),icon:e.jsx(Ne,{}),color:"#ea580c",bgColor:h?"rgba(234, 88, 12, 0.12)":"#fff7ed"},{label:"Manage Users",href:route("admin.users"),icon:e.jsx(je,{}),color:"#9333ea",bgColor:h?"rgba(147, 51, 234, 0.12)":"#faf5ff"},{label:"Landing Settings",href:route("admin.settings"),icon:e.jsx(mt,{}),color:"#6b7280",bgColor:h?"rgba(107, 114, 128, 0.12)":"#f3f4f6"}],v=G.useMemo(()=>{const t=d;if(!t||t.length===0)return[];let u=t;if(c!=="all"&&(u=t.map(_=>({..._,count:_[c]||0})).filter(_=>_.count>0)),z!=="all"){const _=`${z}_count`;u=u.map(W=>({...W,count:W[_]||0})).filter(W=>W.count>0)}return u},[o,d,z,c]),C=t=>({pending:{bg:h?"rgba(245, 158, 11, 0.15)":"#fef3c7",color:"#d97706",label:"Pending"},under_review:{bg:h?"rgba(59, 130, 246, 0.15)":"#dbeafe",color:"#2563eb",label:"In Review"},accepted:{bg:h?"rgba(22, 163, 74, 0.15)":"#dcfce7",color:"#16a34a",label:"Accepted"},rejected:{bg:h?"rgba(239, 68, 68, 0.15)":"#fee2e2",color:"#dc2626",label:"Rejected"},declined:{bg:h?"rgba(239, 68, 68, 0.15)":"#fee2e2",color:"#dc2626",label:"Declined"}})[t]||{bg:h?"rgba(107, 114, 128, 0.15)":"#f3f4f6",color:"#6b7280",label:t},r=t=>({px:{xs:1.5,sm:2.5},py:.8,textTransform:"none",fontWeight:600,fontSize:{xs:"0.75rem",sm:"0.8rem"},borderRadius:"8px !important",border:"none !important",color:f.textSecondary,"&.Mui-selected":{backgroundColor:t,color:"white",boxShadow:`0 2px 8px ${t}40`,"&:hover":{backgroundColor:t,opacity:.9}}});return e.jsxs(ke,{children:[e.jsx(_e,{title:"Admin Dashboard"}),e.jsxs(y,{sx:{p:{xs:2,sm:3,md:3.5},minHeight:"100vh",bgcolor:f.surfaceBg},children:[e.jsxs(y,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",md:"center"},mb:3.5,gap:2},children:[e.jsxs(y,{children:[e.jsx(x,{variant:"h4",sx:{fontWeight:800,color:f.textPrimary,fontSize:{xs:"1.5rem",sm:"1.85rem"},letterSpacing:"-0.02em",lineHeight:1.2},children:"Admin Dashboard ðŸ›¡ï¸"}),e.jsxs(x,{variant:"body2",sx:{color:f.textSecondary,mt:.5,display:"flex",alignItems:"center",gap:.75,fontSize:"0.875rem"},children:[e.jsx(bt,{sx:{fontSize:15}}),m]})]}),e.jsx(y,{sx:{display:"flex",gap:1.5},children:e.jsx(U,{component:de,href:route("admin.submissions"),variant:"contained",startIcon:e.jsx(Ee,{}),sx:{background:"linear-gradient(135deg, #0d7a6a 0%, #1abc9c 100%)",px:3,py:1.2,borderRadius:"12px",textTransform:"none",fontWeight:600,fontSize:"0.9rem",boxShadow:"0 4px 14px rgba(26, 188, 156, 0.35)","&:hover":{background:"linear-gradient(135deg, #16a085 0%, #0d7a6a 100%)",boxShadow:"0 6px 20px rgba(26, 188, 156, 0.45)",transform:"translateY(-1px)"},transition:"all 0.25s ease"},children:"Manage Papers"})})]}),e.jsx(Y,{container:!0,spacing:2.5,sx:{mb:3.5},children:b.map((t,u)=>e.jsx(Y,{size:{xs:6,sm:6,lg:3},children:e.jsx(K,{elevation:0,sx:{borderRadius:"16px",border:`1px solid ${f.cardBorder}`,bgcolor:f.cardBg,height:"100%",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{borderColor:t.color,boxShadow:`0 8px 25px ${t.color}18`,transform:"translateY(-3px)"},position:"relative",overflow:"hidden","&::after":{content:'""',position:"absolute",bottom:0,left:0,right:0,height:"3px",background:t.color,opacity:0,transition:"opacity 0.3s ease"},"&:hover::after":{opacity:1}},children:e.jsxs(te,{sx:{p:{xs:2,sm:2.5},"&:last-child":{pb:{xs:2,sm:2.5}}},children:[e.jsxs(y,{sx:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",mb:1.5},children:[e.jsx(H,{sx:{bgcolor:t.bgColor,width:{xs:40,sm:48},height:{xs:40,sm:48},borderRadius:"12px"},variant:"rounded",children:Re.cloneElement(t.icon,{sx:{color:t.color,fontSize:{xs:20,sm:24}}})}),e.jsx(J,{label:t.trend,size:"small",sx:{bgcolor:t.bgColor,color:t.color,fontWeight:700,fontSize:"0.7rem",height:24,borderRadius:"6px"}})]}),e.jsx(x,{variant:"h3",sx:{fontWeight:800,color:f.textPrimary,mb:.25,fontSize:{xs:"1.75rem",sm:"2.25rem"},lineHeight:1,letterSpacing:"-0.02em"},children:t.value}),e.jsx(x,{variant:"body2",sx:{color:f.textMuted,fontWeight:500,fontSize:{xs:"0.75rem",sm:"0.825rem"}},children:t.title})]})})},u))}),s>0&&e.jsx(K,{elevation:0,sx:{mb:3.5,borderRadius:"16px",border:`2px solid ${h?"rgba(234, 88, 12, 0.3)":"#fed7aa"}`,bgcolor:h?"rgba(234, 88, 12, 0.08)":"#fffbeb"},children:e.jsx(te,{sx:{p:{xs:2,sm:2.5},"&:last-child":{pb:{xs:2,sm:2.5}}},children:e.jsxs(y,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:2},children:[e.jsxs(y,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(H,{sx:{bgcolor:h?"rgba(234, 88, 12, 0.15)":"#fff7ed",width:48,height:48,borderRadius:"12px"},variant:"rounded",children:e.jsx(vt,{sx:{color:"#ea580c",fontSize:24}})}),e.jsxs(y,{children:[e.jsx(x,{sx:{fontWeight:700,color:"#ea580c",fontSize:"0.95rem"},children:"Pending Payment Verifications"}),e.jsxs(x,{variant:"body2",sx:{color:f.textMuted,fontSize:"0.8rem"},children:[s," payment",s>1?"s":""," waiting for verification"]})]})]}),e.jsx(U,{component:de,href:route("admin.payments"),variant:"contained",size:"small",endIcon:e.jsx(Be,{sx:{fontSize:16}}),sx:{bgcolor:"#ea580c","&:hover":{bgcolor:"#c2410c",transform:"translateY(-1px)"},borderRadius:"10px",px:2.5,py:1,fontWeight:600,textTransform:"none",fontSize:"0.8rem",transition:"all 0.25s ease"},children:"Review Now"})]})})}),e.jsx(K,{elevation:0,sx:{borderRadius:"16px",border:`1px solid ${f.cardBorder}`,bgcolor:f.cardBg,mb:3.5},children:e.jsxs(te,{sx:{p:{xs:2.5,sm:3}},children:[e.jsx(x,{variant:"h6",sx:{fontWeight:700,fontSize:"1rem",color:f.textPrimary,mb:2.5},children:"Quick Actions"}),e.jsx(Y,{container:!0,spacing:2,children:w.map((t,u)=>e.jsx(Y,{size:{xs:6,sm:4,md:4},children:e.jsxs(U,{component:de,href:t.href,fullWidth:!0,sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:1,py:{xs:2,sm:2.5},px:1.5,borderRadius:"14px",textTransform:"none",border:`1px solid ${f.cardBorder}`,bgcolor:f.cardBg,color:f.textPrimary,transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{borderColor:t.color,bgcolor:t.bgColor,transform:"translateY(-3px)",boxShadow:`0 8px 20px ${t.color}18`}},children:[e.jsx(H,{sx:{width:44,height:44,borderRadius:"12px",bgcolor:t.bgColor},variant:"rounded",children:Re.cloneElement(t.icon,{sx:{color:t.color,fontSize:22}})}),e.jsx(x,{sx:{fontWeight:600,fontSize:{xs:"0.75rem",sm:"0.825rem"},color:f.textPrimary,textAlign:"center",lineHeight:1.3},children:t.label})]})},u))})]})}),e.jsxs(Y,{container:!0,spacing:2.5,sx:{mb:3.5},children:[e.jsx(Y,{size:{xs:12},children:o.length>0&&e.jsx(K,{elevation:0,sx:{borderRadius:"16px",border:`1px solid ${f.cardBorder}`,bgcolor:f.cardBg},children:e.jsxs(te,{sx:{p:{xs:2.5,sm:3}},children:[e.jsx(y,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2.5,flexWrap:"wrap",gap:2},children:e.jsxs(y,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[e.jsx(H,{sx:{bgcolor:h?"rgba(26, 188, 156, 0.12)":"#ecfdf5",width:44,height:44,borderRadius:"12px"},variant:"rounded",children:e.jsx(jt,{sx:{color:"#1abc9c",fontSize:24}})}),e.jsxs(y,{children:[e.jsx(x,{variant:"h6",sx:{fontWeight:700,fontSize:"1rem",color:f.textPrimary,mb:.25},children:"Submissions per Topic"}),e.jsx(x,{variant:"body2",sx:{color:f.textMuted,fontSize:"0.8rem"},children:"Distribution by research sub-theme"})]})]})}),e.jsxs(y,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:1.5,mb:2.5},children:[e.jsxs(Ae,{value:z,exclusive:!0,onChange:(t,u)=>u!==null&&T(u),size:"small",sx:{bgcolor:h?f.cardBg:"#f9fafb",borderRadius:2,border:`1px solid ${f.cardBorder}`,"& .MuiToggleButton-root":{border:"none"}},children:[e.jsxs(re,{value:"all",sx:r("#1abc9c"),children:[e.jsx(yt,{sx:{mr:.5,fontSize:16}})," All"]}),e.jsx(re,{value:"oral_presentation",sx:r("#2563eb"),children:"ðŸŽ¤ Oral"}),e.jsx(re,{value:"poster_presentation",sx:r("#9333ea"),children:"ðŸ“‹ Poster"})]}),e.jsxs(Ae,{value:c,exclusive:!0,onChange:(t,u)=>u!==null&&S(u),size:"small",sx:{bgcolor:h?f.cardBg:"#f9fafb",borderRadius:2,border:`1px solid ${f.cardBorder}`,"& .MuiToggleButton-root":{border:"none"}},children:[e.jsx(re,{value:"all",sx:r("#1abc9c"),children:"ðŸ‘¥ All"}),e.jsx(re,{value:"student_count",sx:r("#0891b2"),children:"ðŸŽ“ Student"}),e.jsx(re,{value:"professional_count",sx:r("#ea580c"),children:"ðŸ’¼ Pro"}),e.jsx(re,{value:"international_count",sx:r("#7c3aed"),children:"ðŸŒ Int'l"})]})]}),e.jsx(y,{sx:{width:"100%",height:Math.max(400,v.length*70),bgcolor:h?"rgba(0,0,0,0.15)":"#ffffff",borderRadius:"12px",p:{xs:1,sm:2},border:`1px solid ${f.cardBorder}`},children:e.jsx(At,{dataset:v,layout:"horizontal",yAxis:[{scaleType:"band",dataKey:"topic",tickLabelStyle:{fontSize:13,fontWeight:600,fill:h?"#d1d5db":"#1f2937",textAnchor:"end"}}],xAxis:[{tickLabelStyle:{fontSize:12,fontWeight:500,fill:h?"#9ca3af":"#6b7280"}}],series:[{dataKey:"count",label:z==="all"?"Total":z==="oral_presentation"?"Oral":"Poster",color:z==="all"?"#059669":z==="oral_presentation"?"#2563eb":"#9333ea",valueFormatter:t=>`${t} paper${t>1?"s":""}`}],margin:{top:30,bottom:50,left:150,right:60},grid:{horizontal:!0},slotProps:{legend:{direction:"row",position:{vertical:"top",horizontal:"right"},padding:0,itemMarkWidth:10,itemMarkHeight:10,markGap:6,itemGap:10,labelStyle:{fontSize:13,fontWeight:600,fill:h?"#d1d5db":"#1f2937"}},bar:{rx:6,ry:6}},sx:{"& .MuiChartsAxis-tickLabel":{fill:h?"#d1d5db":"#1f2937",fontWeight:600},"& .MuiChartsAxis-line":{stroke:h?"#374151":"#d1d5db",strokeWidth:1.5},"& .MuiChartsAxis-tick":{stroke:h?"#374151":"#d1d5db",strokeWidth:1.5},"& .MuiChartsGrid-line":{stroke:h?"#1f2937":"#f3f4f6",strokeDasharray:"5 5"},"& .MuiBarElement-root":{cursor:"pointer",transition:"all 0.3s ease","&:hover":{opacity:.85}}}})}),e.jsxs(Y,{container:!0,spacing:2,sx:{mt:2},children:[e.jsx(Y,{size:{xs:6,sm:4},children:e.jsxs(y,{sx:{p:2,bgcolor:h?"rgba(22, 163, 74, 0.08)":"#ecfdf5",borderRadius:"12px",border:`1px solid ${h?"rgba(22, 163, 74, 0.2)":"#a7f3d0"}`,textAlign:"center"},children:[e.jsx(x,{sx:{fontWeight:800,fontSize:"1.5rem",color:"#16a34a"},children:o.length}),e.jsx(x,{sx:{fontSize:"0.75rem",color:f.textMuted,fontWeight:500},children:"Topics"})]})}),e.jsx(Y,{size:{xs:6,sm:4},children:e.jsxs(y,{sx:{p:2,bgcolor:h?"rgba(37, 99, 235, 0.08)":"#eff6ff",borderRadius:"12px",border:`1px solid ${h?"rgba(37, 99, 235, 0.2)":"#93c5fd"}`,textAlign:"center"},children:[e.jsx(x,{sx:{fontWeight:800,fontSize:"1.5rem",color:"#2563eb"},children:o.reduce((t,u)=>t+u.count,0)}),e.jsx(x,{sx:{fontSize:"0.75rem",color:f.textMuted,fontWeight:500},children:"Total Papers"})]})}),e.jsx(Y,{size:{xs:12,sm:4},children:o.length>0&&e.jsxs(y,{sx:{p:2,background:h?"linear-gradient(135deg, rgba(13, 122, 106, 0.2), rgba(26, 188, 156, 0.15))":"linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%)",borderRadius:"12px",border:`1px solid ${h?"rgba(26, 188, 156, 0.2)":"#a7f3d0"}`,textAlign:"center"},children:[e.jsxs(y,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:.5,mb:.5},children:[e.jsx(St,{sx:{color:"#f59e0b",fontSize:18}}),e.jsx(x,{sx:{fontSize:"0.7rem",color:"#1abc9c",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Top Topic"})]}),e.jsx(x,{sx:{fontWeight:700,fontSize:"0.8rem",color:f.textPrimary,lineHeight:1.3},children:o[0].topic}),e.jsxs(x,{sx:{fontSize:"0.7rem",color:f.textMuted},children:[o[0].count," papers"]})]})})]})]})})}),e.jsx(Y,{size:{xs:12},children:e.jsx(K,{elevation:0,sx:{borderRadius:"16px",border:`1px solid ${f.cardBorder}`,bgcolor:f.cardBg},children:e.jsxs(te,{sx:{p:{xs:2.5,sm:3}},children:[e.jsxs(y,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsxs(y,{children:[e.jsx(x,{variant:"h6",sx:{fontWeight:700,fontSize:"1rem",color:f.textPrimary,mb:.5},children:"Recent Submissions"}),e.jsx(x,{variant:"body2",sx:{color:f.textMuted,fontSize:"0.8rem"},children:"Latest paper submissions across all users"})]}),e.jsx(U,{component:de,href:route("admin.submissions"),size:"small",endIcon:e.jsx(Be,{sx:{fontSize:16}}),sx:{textTransform:"none",fontWeight:600,fontSize:"0.8rem",color:"#1abc9c",borderRadius:"8px","&:hover":{bgcolor:h?"rgba(26, 188, 156, 0.1)":"#ecfdf5"}},children:"View All"})]}),P.length>0?e.jsx(he,{spacing:0,divider:e.jsx(ct,{sx:{borderColor:f.cardBorder}}),children:P.map((t,u)=>{const _=C(t.status);return e.jsxs(y,{component:de,href:route("admin.submissions"),sx:{display:"flex",alignItems:"center",gap:2,py:1.5,px:1,borderRadius:"10px",textDecoration:"none",color:"inherit",transition:"all 0.2s ease","&:hover":{bgcolor:h?"rgba(255,255,255,0.03)":"#f9fafb"}},children:[e.jsx(H,{variant:"rounded",sx:{bgcolor:h?"#1f2937":"#f3f4f6",width:40,height:40,borderRadius:"10px",flexShrink:0},children:e.jsx(ve,{sx:{color:"#6b7280",fontSize:20}})}),e.jsxs(y,{sx:{flex:1,minWidth:0},children:[e.jsx(x,{variant:"body2",sx:{fontWeight:600,color:f.textPrimary,fontSize:"0.85rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.title||"Untitled Paper"}),e.jsxs(x,{variant:"caption",sx:{color:f.textMuted,fontSize:"0.75rem"},children:["by ",t.user?.name||"Unknown"," â€¢ ",t.created_at?new Date(t.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric"}):""]})]}),e.jsx(J,{label:_.label,size:"small",sx:{bgcolor:_.bg,color:_.color,fontWeight:600,fontSize:"0.7rem",height:24,borderRadius:"6px",flexShrink:0}})]},t.id||u)})}):e.jsxs(y,{sx:{textAlign:"center",py:4},children:[e.jsx(ve,{sx:{fontSize:48,color:h?"#374151":"#d1d5db",mb:1}}),e.jsx(x,{variant:"body2",sx:{color:f.textMuted},children:"No submissions yet"})]})]})})})]})]})]})}const Zt=Object.freeze(Object.defineProperty({__proto__:null,default:It},Symbol.toStringTag,{value:"Module"}));function Et({payments:a=[]}){const P=Me(),s=P.palette.custom,o=P.palette.mode==="dark",[l,d]=G.useState({open:!1,payment:null}),D=i=>{confirm("Are you sure you want to verify this payment?")&&ne.patch(route("admin.payments.verify",i),{},{preserveScroll:!0})},f=i=>{confirm("Are you sure you want to reject this payment?")&&ne.patch(route("admin.payments.reject",i),{},{preserveScroll:!0})},h=a.filter(i=>i.verified).length,z=a.filter(i=>!i.verified).length,T=a.reduce((i,j)=>i+parseFloat(j.amount||0),0),c={borderBottom:`1px solid ${s.cardBorder}`,py:1.5,fontSize:"0.825rem",color:s.textPrimary},S={...c,fontWeight:700,fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"0.05em",color:s.textMuted,bgcolor:o?"rgba(0,0,0,0.15)":"#f9fafb"},R=[{label:"Total Revenue",value:`Rp ${T.toLocaleString("id-ID")}`,icon:e.jsx(Ct,{}),color:"#1abc9c",bg:o?"rgba(26,188,156,0.12)":"#ecfdf5"},{label:"Verified",value:h,icon:e.jsx(Pe,{}),color:"#16a34a",bg:o?"rgba(22,163,74,0.12)":"#dcfce7"},{label:"Pending",value:z,icon:e.jsx(Dt,{}),color:"#d97706",bg:o?"rgba(245,158,11,0.12)":"#fef3c7"}];return e.jsxs(ke,{children:[e.jsx(_e,{title:"Manage Payments"}),e.jsxs(y,{sx:{p:{xs:2,sm:3,md:3.5},minHeight:"100vh",bgcolor:s.surfaceBg},children:[e.jsxs(y,{sx:{mb:3},children:[e.jsx(x,{variant:"h4",sx:{fontWeight:800,color:s.textPrimary,fontSize:{xs:"1.5rem",sm:"1.85rem"},letterSpacing:"-0.02em"},children:"Manage Payments ðŸ’³"}),e.jsxs(x,{variant:"body2",sx:{color:s.textMuted,mt:.5},children:[a.length," total payments"]})]}),e.jsx(y,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"1fr 1fr 1fr"},gap:2,mb:3},children:R.map(i=>e.jsx(K,{elevation:0,sx:{borderRadius:"14px",border:`1px solid ${s.cardBorder}`,bgcolor:s.cardBg,transition:"all 0.25s","&:hover":{transform:"translateY(-2px)",boxShadow:`0 8px 25px ${o?"rgba(0,0,0,0.3)":"rgba(0,0,0,0.08)"}`}},children:e.jsx(te,{sx:{p:2.5,"&:last-child":{pb:2.5}},children:e.jsxs(y,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(H,{variant:"rounded",sx:{bgcolor:i.bg,width:44,height:44,borderRadius:"12px"},children:Re.cloneElement(i.icon,{sx:{color:i.color,fontSize:22}})}),e.jsxs(y,{children:[e.jsx(x,{variant:"caption",sx:{color:s.textMuted,fontWeight:600,textTransform:"uppercase",letterSpacing:"0.05em",fontSize:"0.7rem"},children:i.label}),e.jsx(x,{sx:{fontWeight:700,fontSize:"1.25rem",color:s.textPrimary,lineHeight:1.2},children:i.value})]})]})})},i.label))}),e.jsx(K,{elevation:0,sx:{borderRadius:"16px",border:`1px solid ${s.cardBorder}`,bgcolor:s.cardBg,overflow:"hidden"},children:e.jsx(Ve,{children:e.jsxs(Ke,{size:"small",children:[e.jsx(Je,{children:e.jsx(ie,{children:["ID","User","Submission","Amount","Status","Uploaded","Actions"].map(i=>e.jsx(M,{sx:S,children:i},i))})}),e.jsx(Qe,{children:a.length===0?e.jsx(ie,{children:e.jsx(M,{colSpan:7,align:"center",sx:c,children:e.jsxs(y,{sx:{py:5},children:[e.jsx(Oe,{sx:{fontSize:48,color:o?"#374151":"#d1d5db",mb:1}}),e.jsx(x,{variant:"body2",sx:{color:s.textMuted},children:"No payments found"})]})})}):a.map(i=>e.jsxs(ie,{hover:!0,sx:{"&:hover":{bgcolor:o?"rgba(255,255,255,0.02)":"#f9fafb"}},children:[e.jsxs(M,{sx:{...c,fontWeight:600,color:s.textMuted},children:["#",i.id]}),e.jsx(M,{sx:c,children:e.jsxs(y,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[e.jsx(H,{sx:{width:34,height:34,bgcolor:"#1abc9c",fontSize:"0.8rem",fontWeight:700},children:(i.user?.name||"U").charAt(0)}),e.jsxs(y,{children:[e.jsx(x,{variant:"body2",sx:{fontWeight:600,color:s.textPrimary,fontSize:"0.85rem"},children:i.user?.name||"N/A"}),e.jsx(x,{variant:"caption",sx:{color:s.textMuted,fontSize:"0.75rem"},children:i.user?.email||""})]})]})}),e.jsx(M,{sx:{...c,maxWidth:200},children:e.jsx(x,{variant:"body2",noWrap:!0,sx:{fontWeight:600,fontSize:"0.825rem",maxWidth:200},children:i.submission?.title||"N/A"})}),e.jsx(M,{sx:c,children:e.jsx(x,{sx:{fontWeight:700,color:"#1abc9c",fontSize:"0.9rem"},children:i.amount?`Rp ${parseFloat(i.amount).toLocaleString("id-ID")}`:"N/A"})}),e.jsx(M,{sx:c,children:e.jsx(J,{label:i.verified?"Verified":"Pending",size:"small",sx:{bgcolor:i.verified?o?"rgba(22,163,74,0.15)":"#dcfce7":o?"rgba(245,158,11,0.15)":"#fef3c7",color:i.verified?"#16a34a":"#d97706",fontWeight:600,fontSize:"0.7rem",borderRadius:"6px",height:24}})}),e.jsx(M,{sx:c,children:e.jsx(x,{variant:"body2",sx:{fontSize:"0.8rem",color:s.textMuted},children:i.created_at?new Date(i.created_at).toLocaleDateString("id-ID"):"N/A"})}),e.jsx(M,{sx:c,children:e.jsxs(y,{sx:{display:"flex",gap:1},children:[i.payment_proof_url&&e.jsx(U,{size:"small",startIcon:e.jsx(zt,{sx:{fontSize:16}}),onClick:()=>d({open:!0,payment:i}),sx:{borderRadius:"8px",textTransform:"none",fontWeight:600,fontSize:"0.75rem",color:"#2563eb",bgcolor:o?"rgba(37,99,235,0.1)":"#dbeafe","&:hover":{bgcolor:o?"rgba(37,99,235,0.2)":"#bfdbfe"},px:1.5},children:"View"}),i.verified?e.jsx(U,{size:"small",startIcon:e.jsx(Rt,{sx:{fontSize:16}}),onClick:()=>f(i.id),sx:{borderRadius:"8px",textTransform:"none",fontWeight:600,fontSize:"0.75rem",color:o?"#f87171":"#dc2626",bgcolor:o?"rgba(239,68,68,0.1)":"#fee2e2","&:hover":{bgcolor:o?"rgba(239,68,68,0.2)":"#fecaca"},px:1.5},children:"Reject"}):e.jsx(U,{size:"small",startIcon:e.jsx(Pe,{sx:{fontSize:16}}),onClick:()=>D(i.id),sx:{borderRadius:"8px",textTransform:"none",fontWeight:600,fontSize:"0.75rem",color:"white",background:"linear-gradient(135deg, #0d7a6a 0%, #1abc9c 100%)","&:hover":{background:"linear-gradient(135deg, #16a085 0%, #0d7a6a 100%)"},px:1.5},children:"Verify"})]})})]},i.id))})]})})})]}),e.jsxs(Ze,{open:l.open,onClose:()=>d({open:!1,payment:null}),maxWidth:"md",fullWidth:!0,PaperProps:{sx:{borderRadius:"16px",bgcolor:s.cardBg,border:`1px solid ${s.cardBorder}`}},children:[e.jsxs(et,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:`1px solid ${s.cardBorder}`,pb:2},children:[e.jsxs(y,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[e.jsx(H,{variant:"rounded",sx:{bgcolor:o?"rgba(26,188,156,0.12)":"#ecfdf5",width:40,height:40,borderRadius:"10px"},children:e.jsx(Oe,{sx:{color:"#1abc9c",fontSize:22}})}),e.jsx(x,{sx:{fontWeight:700,fontSize:"1rem",color:s.textPrimary},children:"Payment Proof"})]}),e.jsx(fe,{onClick:()=>d({open:!1,payment:null}),sx:{color:s.textMuted},children:e.jsx(Mt,{})})]}),e.jsx(tt,{sx:{p:3},children:l.payment&&e.jsxs(y,{children:[e.jsx(y,{sx:{mb:2.5,p:2,bgcolor:o?"rgba(0,0,0,0.15)":"#f9fafb",borderRadius:"12px",border:`1px solid ${s.cardBorder}`},children:e.jsx(he,{spacing:1.5,children:[{l:"User",v:l.payment.user?.name},{l:"Submission",v:l.payment.submission?.title},{l:"Amount",v:`Rp ${parseFloat(l.payment.amount||0).toLocaleString("id-ID")}`,hl:!0}].map(i=>e.jsxs(y,{children:[e.jsx(x,{variant:"caption",sx:{color:s.textMuted,fontWeight:600,textTransform:"uppercase",letterSpacing:"0.05em",fontSize:"0.65rem"},children:i.l}),e.jsx(x,{variant:"body2",sx:{fontWeight:600,color:i.hl?"#1abc9c":s.textPrimary,fontSize:i.hl?"1rem":"0.85rem"},children:i.v})]},i.l))})}),l.payment.payment_proof_url&&e.jsx(y,{sx:{textAlign:"center"},children:e.jsx("img",{src:`/storage/${l.payment.payment_proof_url}`,alt:"Payment Proof",style:{maxWidth:"100%",maxHeight:"500px",objectFit:"contain",borderRadius:"12px",border:`1px solid ${o?"#374151":"#e5e7eb"}`},onError:i=>{i.target.style.display="none",i.target.parentElement.innerHTML='<p style="padding:40px;text-align:center;color:#666">Unable to load. <a href="/storage/'+l.payment.payment_proof_url+'" target="_blank">Download</a></p>'}})})]})}),e.jsxs(rt,{sx:{p:2.5,borderTop:`1px solid ${s.cardBorder}`},children:[l.payment&&!l.payment.verified&&e.jsx(U,{variant:"contained",startIcon:e.jsx(Pe,{}),onClick:()=>{D(l.payment.id),d({open:!1,payment:null})},sx:{background:"linear-gradient(135deg, #0d7a6a 0%, #1abc9c 100%)","&:hover":{background:"linear-gradient(135deg, #16a085 0%, #0d7a6a 100%)"},borderRadius:"10px",textTransform:"none",fontWeight:600,px:3},children:"Verify Payment"}),e.jsx(U,{onClick:()=>d({open:!1,payment:null}),sx:{borderRadius:"10px",textTransform:"none",fontWeight:600,color:s.textMuted},children:"Close"})]})]})]})}const er=Object.freeze(Object.defineProperty({__proto__:null,default:Et},Symbol.toStringTag,{value:"Module"}));var ce={exports:{}},ze={},me={exports:{}},$e;function Nt(){if($e)return me.exports;$e=1;function a(s){var o,l,d="";if(typeof s=="string"||typeof s=="number")d+=s;else if(typeof s=="object")if(Array.isArray(s)){var D=s.length;for(o=0;o<D;o++)s[o]&&(l=a(s[o]))&&(d&&(d+=" "),d+=l)}else for(l in s)s[l]&&(d&&(d+=" "),d+=l);return d}function P(){for(var s,o,l=0,d="",D=arguments.length;l<D;l++)(s=arguments[l])&&(o=a(s))&&(d&&(d+=" "),d+=o);return d}return me.exports=P,me.exports.clsx=P,me.exports}var I={},Z={},Ue;function ye(){if(Ue)return Z;Ue=1,Object.defineProperty(Z,"__esModule",{value:!0}),Z.dontSetMe=l,Z.findInArray=a,Z.int=o,Z.isFunction=P,Z.isNum=s;function a(d,D){for(let f=0,h=d.length;f<h;f++)if(D.apply(D,[d[f],f,d]))return d[f]}function P(d){return typeof d=="function"||Object.prototype.toString.call(d)==="[object Function]"}function s(d){return typeof d=="number"&&!isNaN(d)}function o(d){return parseInt(d,10)}function l(d,D,f){if(d[D])return new Error(`Invalid prop ${D} passed to ${f} - do not set this, set it on the child.`)}return Z}var ee={},Fe;function Bt(){if(Fe)return ee;Fe=1,Object.defineProperty(ee,"__esModule",{value:!0}),ee.browserPrefixToKey=s,ee.browserPrefixToStyle=o,ee.default=void 0,ee.getPrefix=P;const a=["Moz","Webkit","O","ms"];function P(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const D=window.document?.documentElement?.style;if(!D||d in D)return"";for(let f=0;f<a.length;f++)if(s(d,a[f])in D)return a[f];return""}function s(d,D){return D?`${D}${l(d)}`:d}function o(d,D){return D?`-${D.toLowerCase()}-${d}`:d}function l(d){let D="",f=!0;for(let h=0;h<d.length;h++)f?(D+=d[h].toUpperCase(),f=!1):d[h]==="-"?f=!0:D+=d[h];return D}return ee.default=P(),ee}var Ge;function We(){if(Ge)return I;Ge=1,Object.defineProperty(I,"__esModule",{value:!0}),I.addClassName=v,I.addEvent=D,I.addUserSelectStyles=m,I.createCSSTransform=R,I.createSVGTransform=i,I.getTouch=g,I.getTouchIdentifier=p,I.getTranslation=j,I.innerHeight=T,I.innerWidth=c,I.matchesSelector=l,I.matchesSelectorAndParentsTo=d,I.offsetXYFromParent=S,I.outerHeight=h,I.outerWidth=z,I.removeClassName=C,I.removeEvent=f,I.scheduleRemoveUserSelectStyles=b;var a=ye(),P=s(Bt());function s(r,t){if(typeof WeakMap=="function")var u=new WeakMap,_=new WeakMap;return(s=function(W,F){if(!F&&W&&W.__esModule)return W;var $,L,Q={__proto__:null,default:W};if(W===null||typeof W!="object"&&typeof W!="function")return Q;if($=F?_:u){if($.has(W))return $.get(W);$.set(W,Q)}for(const q in W)q!=="default"&&{}.hasOwnProperty.call(W,q)&&((L=($=Object.defineProperty)&&Object.getOwnPropertyDescriptor(W,q))&&(L.get||L.set)?$(Q,q,L):Q[q]=W[q]);return Q})(r,t)}let o="";function l(r,t){return o||(o=(0,a.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(u){return(0,a.isFunction)(r[u])})),(0,a.isFunction)(r[o])?r[o](t):!1}function d(r,t,u){let _=r;do{if(l(_,t))return!0;if(_===u)return!1;_=_.parentNode}while(_);return!1}function D(r,t,u,_){if(!r)return;const W={capture:!0,..._};r.addEventListener?r.addEventListener(t,u,W):r.attachEvent?r.attachEvent("on"+t,u):r["on"+t]=u}function f(r,t,u,_){if(!r)return;const W={capture:!0,..._};r.removeEventListener?r.removeEventListener(t,u,W):r.detachEvent?r.detachEvent("on"+t,u):r["on"+t]=null}function h(r){let t=r.clientHeight;const u=r.ownerDocument.defaultView.getComputedStyle(r);return t+=(0,a.int)(u.borderTopWidth),t+=(0,a.int)(u.borderBottomWidth),t}function z(r){let t=r.clientWidth;const u=r.ownerDocument.defaultView.getComputedStyle(r);return t+=(0,a.int)(u.borderLeftWidth),t+=(0,a.int)(u.borderRightWidth),t}function T(r){let t=r.clientHeight;const u=r.ownerDocument.defaultView.getComputedStyle(r);return t-=(0,a.int)(u.paddingTop),t-=(0,a.int)(u.paddingBottom),t}function c(r){let t=r.clientWidth;const u=r.ownerDocument.defaultView.getComputedStyle(r);return t-=(0,a.int)(u.paddingLeft),t-=(0,a.int)(u.paddingRight),t}function S(r,t,u){const W=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),F=(r.clientX+t.scrollLeft-W.left)/u,$=(r.clientY+t.scrollTop-W.top)/u;return{x:F,y:$}}function R(r,t){const u=j(r,t,"px");return{[(0,P.browserPrefixToKey)("transform",P.default)]:u}}function i(r,t){return j(r,t,"")}function j(r,t,u){let{x:_,y:W}=r,F=`translate(${_}${u},${W}${u})`;if(t){const $=`${typeof t.x=="string"?t.x:t.x+u}`,L=`${typeof t.y=="string"?t.y:t.y+u}`;F=`translate(${$}, ${L})`+F}return F}function g(r,t){return r.targetTouches&&(0,a.findInArray)(r.targetTouches,u=>t===u.identifier)||r.changedTouches&&(0,a.findInArray)(r.changedTouches,u=>t===u.identifier)}function p(r){if(r.targetTouches&&r.targetTouches[0])return r.targetTouches[0].identifier;if(r.changedTouches&&r.changedTouches[0])return r.changedTouches[0].identifier}function m(r){if(!r)return;let t=r.getElementById("react-draggable-style-el");t||(t=r.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,r.getElementsByTagName("head")[0].appendChild(t)),r.body&&v(r.body,"react-draggable-transparent-selection")}function b(r){window.requestAnimationFrame?window.requestAnimationFrame(()=>{w(r)}):w(r)}function w(r){if(r)try{if(r.body&&C(r.body,"react-draggable-transparent-selection"),r.selection)r.selection.empty();else{const t=(r.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function v(r,t){r.classList?r.classList.add(t):r.className.match(new RegExp(`(?:^|\\s)${t}(?!\\S)`))||(r.className+=` ${t}`)}function C(r,t){r.classList?r.classList.remove(t):r.className=r.className.replace(new RegExp(`(?:^|\\s)${t}(?!\\S)`,"g"),"")}return I}var V={},Le;function it(){if(Le)return V;Le=1,Object.defineProperty(V,"__esModule",{value:!0}),V.canDragX=l,V.canDragY=d,V.createCoreData=f,V.createDraggableData=h,V.getBoundPosition=s,V.getControlPosition=D,V.snapToGrid=o;var a=ye(),P=We();function s(c,S,R){if(!c.props.bounds)return[S,R];let{bounds:i}=c.props;i=typeof i=="string"?i:z(i);const j=T(c);if(typeof i=="string"){const{ownerDocument:g}=j,p=g.defaultView;let m;if(i==="parent"?m=j.parentNode:m=j.getRootNode().querySelector(i),!(m instanceof p.HTMLElement))throw new Error('Bounds selector "'+i+'" could not find an element.');const b=m,w=p.getComputedStyle(j),v=p.getComputedStyle(b);i={left:-j.offsetLeft+(0,a.int)(v.paddingLeft)+(0,a.int)(w.marginLeft),top:-j.offsetTop+(0,a.int)(v.paddingTop)+(0,a.int)(w.marginTop),right:(0,P.innerWidth)(b)-(0,P.outerWidth)(j)-j.offsetLeft+(0,a.int)(v.paddingRight)-(0,a.int)(w.marginRight),bottom:(0,P.innerHeight)(b)-(0,P.outerHeight)(j)-j.offsetTop+(0,a.int)(v.paddingBottom)-(0,a.int)(w.marginBottom)}}return(0,a.isNum)(i.right)&&(S=Math.min(S,i.right)),(0,a.isNum)(i.bottom)&&(R=Math.min(R,i.bottom)),(0,a.isNum)(i.left)&&(S=Math.max(S,i.left)),(0,a.isNum)(i.top)&&(R=Math.max(R,i.top)),[S,R]}function o(c,S,R){const i=Math.round(S/c[0])*c[0],j=Math.round(R/c[1])*c[1];return[i,j]}function l(c){return c.props.axis==="both"||c.props.axis==="x"}function d(c){return c.props.axis==="both"||c.props.axis==="y"}function D(c,S,R){const i=typeof S=="number"?(0,P.getTouch)(c,S):null;if(typeof S=="number"&&!i)return null;const j=T(R),g=R.props.offsetParent||j.offsetParent||j.ownerDocument.body;return(0,P.offsetXYFromParent)(i||c,g,R.props.scale)}function f(c,S,R){const i=!(0,a.isNum)(c.lastX),j=T(c);return i?{node:j,deltaX:0,deltaY:0,lastX:S,lastY:R,x:S,y:R}:{node:j,deltaX:S-c.lastX,deltaY:R-c.lastY,lastX:c.lastX,lastY:c.lastY,x:S,y:R}}function h(c,S){const R=c.props.scale;return{node:S.node,x:c.state.x+S.deltaX/R,y:c.state.y+S.deltaY/R,deltaX:S.deltaX/R,deltaY:S.deltaY/R,lastX:c.state.x,lastY:c.state.y}}function z(c){return{left:c.left,top:c.top,right:c.right,bottom:c.bottom}}function T(c){const S=c.findDOMNode();if(!S)throw new Error("<DraggableCore>: Unmounted during event!");return S}return V}var ue={},be={},qe;function at(){if(qe)return be;qe=1,Object.defineProperty(be,"__esModule",{value:!0}),be.default=a;function a(){}return be}var Ye;function Ot(){if(Ye)return ue;Ye=1,Object.defineProperty(ue,"__esModule",{value:!0}),ue.default=void 0;var a=h(ot()),P=f(nt()),s=f(st()),o=We(),l=it(),d=ye(),D=f(at());function f(j){return j&&j.__esModule?j:{default:j}}function h(j,g){if(typeof WeakMap=="function")var p=new WeakMap,m=new WeakMap;return(h=function(b,w){if(!w&&b&&b.__esModule)return b;var v,C,r={__proto__:null,default:b};if(b===null||typeof b!="object"&&typeof b!="function")return r;if(v=w?m:p){if(v.has(b))return v.get(b);v.set(b,r)}for(const t in b)t!=="default"&&{}.hasOwnProperty.call(b,t)&&((C=(v=Object.defineProperty)&&Object.getOwnPropertyDescriptor(b,t))&&(C.get||C.set)?v(r,t,C):r[t]=b[t]);return r})(j,g)}function z(j,g,p){return(g=T(g))in j?Object.defineProperty(j,g,{value:p,enumerable:!0,configurable:!0,writable:!0}):j[g]=p,j}function T(j){var g=c(j,"string");return typeof g=="symbol"?g:g+""}function c(j,g){if(typeof j!="object"||!j)return j;var p=j[Symbol.toPrimitive];if(p!==void 0){var m=p.call(j,g);if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(j)}const S={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let R=S.mouse,i=class extends a.Component{constructor(){super(...arguments),z(this,"dragging",!1),z(this,"lastX",NaN),z(this,"lastY",NaN),z(this,"touchIdentifier",null),z(this,"mounted",!1),z(this,"handleDragStart",g=>{if(this.props.onMouseDown(g),!this.props.allowAnyClick&&typeof g.button=="number"&&g.button!==0)return!1;const p=this.findDOMNode();if(!p||!p.ownerDocument||!p.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:m}=p;if(this.props.disabled||!(g.target instanceof m.defaultView.Node)||this.props.handle&&!(0,o.matchesSelectorAndParentsTo)(g.target,this.props.handle,p)||this.props.cancel&&(0,o.matchesSelectorAndParentsTo)(g.target,this.props.cancel,p))return;g.type==="touchstart"&&!this.props.allowMobileScroll&&g.preventDefault();const b=(0,o.getTouchIdentifier)(g);this.touchIdentifier=b;const w=(0,l.getControlPosition)(g,b,this);if(w==null)return;const{x:v,y:C}=w,r=(0,l.createCoreData)(this,v,C);(0,D.default)("DraggableCore: handleDragStart: %j",r),(0,D.default)("calling",this.props.onStart),!(this.props.onStart(g,r)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,o.addUserSelectStyles)(m),this.dragging=!0,this.lastX=v,this.lastY=C,(0,o.addEvent)(m,R.move,this.handleDrag),(0,o.addEvent)(m,R.stop,this.handleDragStop))}),z(this,"handleDrag",g=>{const p=(0,l.getControlPosition)(g,this.touchIdentifier,this);if(p==null)return;let{x:m,y:b}=p;if(Array.isArray(this.props.grid)){let C=m-this.lastX,r=b-this.lastY;if([C,r]=(0,l.snapToGrid)(this.props.grid,C,r),!C&&!r)return;m=this.lastX+C,b=this.lastY+r}const w=(0,l.createCoreData)(this,m,b);if((0,D.default)("DraggableCore: handleDrag: %j",w),this.props.onDrag(g,w)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const r=document.createEvent("MouseEvents");r.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(r)}return}this.lastX=m,this.lastY=b}),z(this,"handleDragStop",g=>{if(!this.dragging)return;const p=(0,l.getControlPosition)(g,this.touchIdentifier,this);if(p==null)return;let{x:m,y:b}=p;if(Array.isArray(this.props.grid)){let r=m-this.lastX||0,t=b-this.lastY||0;[r,t]=(0,l.snapToGrid)(this.props.grid,r,t),m=this.lastX+r,b=this.lastY+t}const w=(0,l.createCoreData)(this,m,b);if(this.props.onStop(g,w)===!1||this.mounted===!1)return!1;const C=this.findDOMNode();C&&this.props.enableUserSelectHack&&(0,o.scheduleRemoveUserSelectStyles)(C.ownerDocument),(0,D.default)("DraggableCore: handleDragStop: %j",w),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,C&&((0,D.default)("DraggableCore: Removing handlers"),(0,o.removeEvent)(C.ownerDocument,R.move,this.handleDrag),(0,o.removeEvent)(C.ownerDocument,R.stop,this.handleDragStop))}),z(this,"onMouseDown",g=>(R=S.mouse,this.handleDragStart(g))),z(this,"onMouseUp",g=>(R=S.mouse,this.handleDragStop(g))),z(this,"onTouchStart",g=>(R=S.touch,this.handleDragStart(g))),z(this,"onTouchEnd",g=>(R=S.touch,this.handleDragStop(g)))}componentDidMount(){this.mounted=!0;const g=this.findDOMNode();g&&(0,o.addEvent)(g,S.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const g=this.findDOMNode();if(g){const{ownerDocument:p}=g;(0,o.removeEvent)(p,S.mouse.move,this.handleDrag),(0,o.removeEvent)(p,S.touch.move,this.handleDrag),(0,o.removeEvent)(p,S.mouse.stop,this.handleDragStop),(0,o.removeEvent)(p,S.touch.stop,this.handleDragStop),(0,o.removeEvent)(g,S.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,o.scheduleRemoveUserSelectStyles)(p)}}findDOMNode(){return this.props?.nodeRef?this.props?.nodeRef?.current:s.default.findDOMNode(this)}render(){return a.cloneElement(a.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return ue.default=i,z(i,"displayName","DraggableCore"),z(i,"propTypes",{allowAnyClick:P.default.bool,allowMobileScroll:P.default.bool,children:P.default.node.isRequired,disabled:P.default.bool,enableUserSelectHack:P.default.bool,offsetParent:function(j,g){if(j[g]&&j[g].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:P.default.arrayOf(P.default.number),handle:P.default.string,cancel:P.default.string,nodeRef:P.default.object,onStart:P.default.func,onDrag:P.default.func,onStop:P.default.func,onMouseDown:P.default.func,scale:P.default.number,className:d.dontSetMe,style:d.dontSetMe,transform:d.dontSetMe}),z(i,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),ue}var He;function $t(){return He||(He=1,(function(a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"DraggableCore",{enumerable:!0,get:function(){return h.default}}),a.default=void 0;var P=c(ot()),s=T(nt()),o=T(st()),l=Nt(),d=We(),D=it(),f=ye(),h=T(Ot()),z=T(at());function T(p){return p&&p.__esModule?p:{default:p}}function c(p,m){if(typeof WeakMap=="function")var b=new WeakMap,w=new WeakMap;return(c=function(v,C){if(!C&&v&&v.__esModule)return v;var r,t,u={__proto__:null,default:v};if(v===null||typeof v!="object"&&typeof v!="function")return u;if(r=C?w:b){if(r.has(v))return r.get(v);r.set(v,u)}for(const _ in v)_!=="default"&&{}.hasOwnProperty.call(v,_)&&((t=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(v,_))&&(t.get||t.set)?r(u,_,t):u[_]=v[_]);return u})(p,m)}function S(){return S=Object.assign?Object.assign.bind():function(p){for(var m=1;m<arguments.length;m++){var b=arguments[m];for(var w in b)({}).hasOwnProperty.call(b,w)&&(p[w]=b[w])}return p},S.apply(null,arguments)}function R(p,m,b){return(m=i(m))in p?Object.defineProperty(p,m,{value:b,enumerable:!0,configurable:!0,writable:!0}):p[m]=b,p}function i(p){var m=j(p,"string");return typeof m=="symbol"?m:m+""}function j(p,m){if(typeof p!="object"||!p)return p;var b=p[Symbol.toPrimitive];if(b!==void 0){var w=b.call(p,m);if(typeof w!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(p)}class g extends P.Component{static getDerivedStateFromProps(m,b){let{position:w}=m,{prevPropsPosition:v}=b;return w&&(!v||w.x!==v.x||w.y!==v.y)?((0,z.default)("Draggable: getDerivedStateFromProps %j",{position:w,prevPropsPosition:v}),{x:w.x,y:w.y,prevPropsPosition:{...w}}):null}constructor(m){super(m),R(this,"onDragStart",(b,w)=>{if((0,z.default)("Draggable: onDragStart: %j",w),this.props.onStart(b,(0,D.createDraggableData)(this,w))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),R(this,"onDrag",(b,w)=>{if(!this.state.dragging)return!1;(0,z.default)("Draggable: onDrag: %j",w);const v=(0,D.createDraggableData)(this,w),C={x:v.x,y:v.y,slackX:0,slackY:0};if(this.props.bounds){const{x:t,y:u}=C;C.x+=this.state.slackX,C.y+=this.state.slackY;const[_,W]=(0,D.getBoundPosition)(this,C.x,C.y);C.x=_,C.y=W,C.slackX=this.state.slackX+(t-C.x),C.slackY=this.state.slackY+(u-C.y),v.x=C.x,v.y=C.y,v.deltaX=C.x-this.state.x,v.deltaY=C.y-this.state.y}if(this.props.onDrag(b,v)===!1)return!1;this.setState(C)}),R(this,"onDragStop",(b,w)=>{if(!this.state.dragging||this.props.onStop(b,(0,D.createDraggableData)(this,w))===!1)return!1;(0,z.default)("Draggable: onDragStop: %j",w);const C={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:t,y:u}=this.props.position;C.x=t,C.y=u}this.setState(C)}),this.state={dragging:!1,dragged:!1,x:m.position?m.position.x:m.defaultPosition.x,y:m.position?m.position.y:m.defaultPosition.y,prevPropsPosition:{...m.position},slackX:0,slackY:0,isElementSVG:!1},m.position&&!(m.onDrag||m.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){return this.props?.nodeRef?.current??o.default.findDOMNode(this)}render(){const{axis:m,bounds:b,children:w,defaultPosition:v,defaultClassName:C,defaultClassNameDragging:r,defaultClassNameDragged:t,position:u,positionOffset:_,scale:W,...F}=this.props;let $={},L=null;const q=!!!u||this.state.dragging,xe=u||v,ae={x:(0,D.canDragX)(this)&&q?this.state.x:xe.x,y:(0,D.canDragY)(this)&&q?this.state.y:xe.y};this.state.isElementSVG?L=(0,d.createSVGTransform)(ae,_):$=(0,d.createCSSTransform)(ae,_);const Se=(0,l.clsx)(w.props.className||"",C,{[r]:this.state.dragging,[t]:this.state.dragged});return P.createElement(h.default,S({},F,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),P.cloneElement(P.Children.only(w),{className:Se,style:{...w.props.style,...$},transform:L}))}}a.default=g,R(g,"displayName","Draggable"),R(g,"propTypes",{...h.default.propTypes,axis:s.default.oneOf(["both","x","y","none"]),bounds:s.default.oneOfType([s.default.shape({left:s.default.number,right:s.default.number,top:s.default.number,bottom:s.default.number}),s.default.string,s.default.oneOf([!1])]),defaultClassName:s.default.string,defaultClassNameDragging:s.default.string,defaultClassNameDragged:s.default.string,defaultPosition:s.default.shape({x:s.default.number,y:s.default.number}),positionOffset:s.default.shape({x:s.default.oneOfType([s.default.number,s.default.string]),y:s.default.oneOfType([s.default.number,s.default.string])}),position:s.default.shape({x:s.default.number,y:s.default.number}),className:f.dontSetMe,style:f.dontSetMe,transform:f.dontSetMe}),R(g,"defaultProps",{...h.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(ze)),ze}var Xe;function Ut(){if(Xe)return ce.exports;Xe=1;const{default:a,DraggableCore:P}=$t();return ce.exports=a,ce.exports.default=a,ce.exports.DraggableCore=P,ce.exports}var Ft=Ut();const Gt=Tt(Ft),Lt={"Fundamental & Digital Geoscience":["Geodynamics, Seismology, Petrology and Volcanology","Sedimentology and Paleontology","Pore Pressure and Geomechanics","Remote Sensing","Technology and Application of Big Data, Machine Learning and Artificial Intelligence in Geoscience","Others"],"Advanced Mining & Mineral Technology":["Economic Minerals and Coal Exploration","Economic Minerals and Coal Resources Conservation","Economic Minerals Processing and Refining","Mine Geology, Grade Control and Reconciliation","Mine Geotechnical and Hydrogeology","Geometallurgy","Gemology","Others"],"Petroleum Geoscience, Engineering and Management":["Petroleum Geoscience","Petroleum Engineering and Production Technology","Enhanced Oil/Gas Recovery","Reservoir and Production Management","Others"],"Engineering Geology, Environment and Geohazard":["Engineering Geology for Infrastructure Development","Monitoring and Instrumentation in Geotechnical Projects","Environmental Geology and Land Use Planning","Geohazards and It's Risk Assessment, Mitigation and Prevention","Others"],"Energy Transition & Sustainable Future":["Unconventional and Renewable Energy","Geothermal","CCS/CCUS","Natural Hydrogen","Others"],"Governance, Culture and Social Impact":["Energy and Economic Mineral Policies","CSR and Social Impact","Health, Safety and Environment (HSE)","Geotourism and Geoheritage","Geomithology","Others"]},qt=a=>{if(!a)return"N/A";for(const[P,s]of Object.entries(Lt))if(s.includes(a)||P===a)return P;return a};function Yt({submissions:a=[],reviewers:P=[]}){const s=Me(),o=s.palette.custom,l=s.palette.mode==="dark",[d,D]=G.useState([]),[f,h]=G.useState(""),[z,T]=G.useState({open:!1,submission:null}),[c,S]=G.useState([]),[R,i]=G.useState("all"),[j,g]=G.useState("all"),[p,m]=G.useState(""),[b,w]=G.useState(null),v=a.filter(n=>{const k=R==="all"||n.status===R,E=j==="all"||n.presentation_preference===j,O=p===""||n.title?.toLowerCase().includes(p.toLowerCase())||n.user?.name?.toLowerCase().includes(p.toLowerCase());return k&&E&&O}),C=n=>{n.target.checked?D(v.map(k=>k.id)):D([])},r=n=>{const k=d.indexOf(n);let E=[];k===-1?E=E.concat(d,n):k===0?E=E.concat(d.slice(1)):k===d.length-1?E=E.concat(d.slice(0,-1)):k>0&&(E=E.concat(d.slice(0,k),d.slice(k+1))),D(E)},t=(n,k)=>{ne.patch(route("admin.submissions.updateStatus",n),{status:k},{preserveScroll:!0})},u=()=>{d.length>0&&f&&ne.post(route("admin.submissions.bulkUpdate"),{submission_ids:d,status:f},{preserveScroll:!0,onSuccess:()=>{D([]),h("")}})},_=n=>{T({open:!0,submission:n}),S([])},W=n=>{c.includes(n)||(z.submission?.reviews?.length||0)+c.length<5&&S([...c,n])},F=n=>{S(c.filter(k=>k!==n))},$=()=>{c.length>0&&z.submission&&ne.post(route("admin.submissions.assignReviewer",z.submission.id),{reviewer_ids:c},{preserveScroll:!0,onSuccess:()=>{T({open:!1,submission:null}),S([])}})},L=(n,k)=>{confirm("Are you sure you want to remove this reviewer?")&&ne.delete(route("admin.submissions.removeReviewer",{submissionId:n,reviewerId:k}),{preserveScroll:!0})},Q=()=>{window.location.href=route("admin.submissions.export")},q=n=>({pending:{bg:l?"rgba(245, 158, 11, 0.15)":"#fef3c7",color:"#d97706",label:"Pending"},under_review:{bg:l?"rgba(59, 130, 246, 0.15)":"#dbeafe",color:"#2563eb",label:"In Review"},revision_required_phase1:{bg:l?"rgba(234, 88, 12, 0.15)":"#fff7ed",color:"#ea580c",label:"Revision P1"},revision_required_phase2:{bg:l?"rgba(234, 88, 12, 0.15)":"#fff7ed",color:"#ea580c",label:"Revision P2"},accepted:{bg:l?"rgba(22, 163, 74, 0.15)":"#dcfce7",color:"#16a34a",label:"Accepted"},rejected:{bg:l?"rgba(239, 68, 68, 0.15)":"#fee2e2",color:"#dc2626",label:"Rejected"}})[n]||{bg:l?"rgba(107, 114, 128, 0.15)":"#f3f4f6",color:"#6b7280",label:n},xe=n=>d.indexOf(n)!==-1,ae=()=>{if(!z.submission)return P;const n=(z.submission.reviews||[]).map(k=>k.reviewer_id);return P.filter(k=>!n.includes(k.id)&&!c.includes(k.id))},Se=n=>{const E={pending:`Status submission Anda telah diubah menjadi *Pending*.

Submission akan segera ditinjau oleh tim kami.`,under_review:`Status submission Anda telah diubah menjadi *Under Review*.

Submission Anda sedang dalam proses peninjauan oleh reviewer.`,revision_required_phase1:`Status submission Anda telah diubah menjadi *Revision Phase 1*.

Silakan lakukan revisi sesuai dengan komentar reviewer.`,revision_required_phase2:`Status submission Anda telah diubah menjadi *Revision Phase 2*.

Silakan lakukan revisi tambahan sesuai dengan komentar reviewer.`,accepted:`ðŸŽ‰ *Selamat!* ðŸŽ‰

Submission Anda telah *DITERIMA* (Accepted).

Terima kasih atas kontribusi Anda dalam konferensi ini.`,rejected:`Status submission Anda telah diubah menjadi *Rejected*.

Mohon maaf submission Anda tidak dapat diterima kali ini. Terima kasih atas partisipasi Anda.`}[n.status]||"Status submission Anda telah diperbarui.";let O=`*IAGI-GEOSEA 2026 - Notification*

`;return O+=`Halo *${n.user?.name}*,

`,O+=`Submission ID: *${n.id}*
`,O+=`Judul: *${n.title}*

`,O+=`${E}

`,O+=`Silakan login ke dashboard Anda untuk informasi lebih lanjut.

`,O+=`Terima kasih,
`,O+="Tim IAGI-GEOSEA 2026",O},lt=n=>{if(!n.user?.whatsapp){alert("User tidak memiliki nomor WhatsApp!");return}const k=Se(n),O=`https://wa.me/${n.user.whatsapp.replace(/^0/,"62").replace(/\D/g,"")}?text=${encodeURIComponent(k)}`;window.open(O,"_blank")},N={borderBottom:`1px solid ${o.cardBorder}`,py:1.5,fontSize:"0.825rem",color:o.textPrimary},B={...N,fontWeight:700,fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"0.05em",color:o.textMuted,bgcolor:l?"rgba(0,0,0,0.15)":"#f9fafb"};return e.jsxs(ke,{children:[e.jsx(_e,{title:"Manage Submissions"}),e.jsxs(y,{sx:{p:{xs:2,sm:3,md:3.5},minHeight:"100vh",bgcolor:o.surfaceBg},children:[e.jsxs(y,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},mb:3,gap:2},children:[e.jsxs(y,{children:[e.jsx(x,{variant:"h4",sx:{fontWeight:800,color:o.textPrimary,fontSize:{xs:"1.5rem",sm:"1.85rem"},letterSpacing:"-0.02em"},children:"Manage Submissions ðŸ“„"}),e.jsxs(x,{variant:"body2",sx:{color:o.textMuted,mt:.5,fontSize:"0.85rem"},children:[a.length," total submissions"]})]}),e.jsx(U,{variant:"contained",startIcon:e.jsx(_t,{}),onClick:Q,sx:{background:"linear-gradient(135deg, #0d7a6a 0%, #1abc9c 100%)",px:3,py:1.2,borderRadius:"12px",textTransform:"none",fontWeight:600,fontSize:"0.875rem",boxShadow:"0 4px 14px rgba(26, 188, 156, 0.35)","&:hover":{background:"linear-gradient(135deg, #16a085 0%, #0d7a6a 100%)",boxShadow:"0 6px 20px rgba(26, 188, 156, 0.45)",transform:"translateY(-1px)"},transition:"all 0.25s ease"},children:"Export CSV"})]}),e.jsx(K,{elevation:0,sx:{borderRadius:"14px",border:`1px solid ${o.cardBorder}`,bgcolor:o.cardBg,mb:2.5},children:e.jsx(te,{sx:{p:{xs:2,sm:2.5},"&:last-child":{pb:{xs:2,sm:2.5}}},children:e.jsxs(y,{sx:{display:"flex",gap:2,flexWrap:"wrap",alignItems:"center"},children:[e.jsx(ut,{placeholder:"Search by title or author...",value:p,onChange:n=>m(n.target.value),size:"small",InputProps:{startAdornment:e.jsx(ft,{position:"start",children:e.jsx(kt,{sx:{color:o.textMuted,fontSize:20}})})},sx:{flex:1,minWidth:220,"& .MuiOutlinedInput-root":{borderRadius:"10px",bgcolor:l?"rgba(0,0,0,0.15)":"#f9fafb","& fieldset":{borderColor:o.cardBorder},"&:hover fieldset":{borderColor:"#1abc9c"},"&.Mui-focused fieldset":{borderColor:"#1abc9c"}},"& input":{color:o.textPrimary,fontSize:"0.85rem"}}}),e.jsxs(ge,{size:"small",sx:{minWidth:160},children:[e.jsx(pe,{sx:{fontSize:"0.85rem"},children:"Status"}),e.jsxs(le,{value:R,label:"Status",onChange:n=>i(n.target.value),sx:{borderRadius:"10px",bgcolor:l?"rgba(0,0,0,0.15)":"#f9fafb",fontSize:"0.85rem","& fieldset":{borderColor:o.cardBorder}},children:[e.jsxs(A,{value:"all",children:["All (",a.length,")"]}),e.jsxs(A,{value:"pending",children:["Pending (",a.filter(n=>n.status==="pending").length,")"]}),e.jsxs(A,{value:"under_review",children:["In Review (",a.filter(n=>n.status==="under_review").length,")"]}),e.jsxs(A,{value:"revision_required_phase1",children:["Revision P1 (",a.filter(n=>n.status==="revision_required_phase1").length,")"]}),e.jsxs(A,{value:"revision_required_phase2",children:["Revision P2 (",a.filter(n=>n.status==="revision_required_phase2").length,")"]}),e.jsxs(A,{value:"accepted",children:["Accepted (",a.filter(n=>n.status==="accepted").length,")"]}),e.jsxs(A,{value:"rejected",children:["Rejected (",a.filter(n=>n.status==="rejected").length,")"]})]})]}),e.jsxs(ge,{size:"small",sx:{minWidth:160},children:[e.jsx(pe,{sx:{fontSize:"0.85rem"},children:"Type"}),e.jsxs(le,{value:j,label:"Type",onChange:n=>g(n.target.value),sx:{borderRadius:"10px",bgcolor:l?"rgba(0,0,0,0.15)":"#f9fafb",fontSize:"0.85rem","& fieldset":{borderColor:o.cardBorder}},children:[e.jsxs(A,{value:"all",children:["All (",a.length,")"]}),e.jsxs(A,{value:"Oral Presentation",children:["Oral (",a.filter(n=>n.presentation_preference==="Oral Presentation").length,")"]}),e.jsxs(A,{value:"Poster Presentation",children:["Poster (",a.filter(n=>n.presentation_preference==="Poster Presentation").length,")"]})]})]}),e.jsx(J,{label:`${v.length} of ${a.length}`,size:"small",sx:{bgcolor:l?"rgba(26, 188, 156, 0.12)":"#ecfdf5",color:"#1abc9c",fontWeight:700,fontSize:"0.75rem",borderRadius:"8px"}})]})})}),d.length>0&&e.jsx(K,{elevation:0,sx:{borderRadius:"14px",border:`2px solid ${l?"rgba(26, 188, 156, 0.3)":"#a7f3d0"}`,bgcolor:l?"rgba(26, 188, 156, 0.06)":"#ecfdf5",mb:2.5},children:e.jsx(te,{sx:{p:2,"&:last-child":{pb:2}},children:e.jsxs(y,{sx:{display:"flex",alignItems:"center",gap:2,flexWrap:"wrap"},children:[e.jsx(J,{label:`${d.length} selected`,sx:{bgcolor:"#1abc9c",color:"white",fontWeight:700,fontSize:"0.8rem"}}),e.jsxs(ge,{size:"small",sx:{minWidth:180},children:[e.jsx(pe,{sx:{fontSize:"0.85rem"},children:"Bulk Update"}),e.jsxs(le,{value:f,onChange:n=>h(n.target.value),label:"Bulk Update",sx:{borderRadius:"10px",fontSize:"0.85rem"},children:[e.jsx(A,{value:"pending",children:"Pending"}),e.jsx(A,{value:"under_review",children:"Under Review"}),e.jsx(A,{value:"revision_required_phase1",children:"Revision Phase 1"}),e.jsx(A,{value:"revision_required_phase2",children:"Revision Phase 2"}),e.jsx(A,{value:"accepted",children:"Accepted"}),e.jsx(A,{value:"rejected",children:"Rejected"})]})]}),e.jsx(U,{variant:"contained",onClick:u,disabled:!f,size:"small",sx:{bgcolor:"#1abc9c","&:hover":{bgcolor:"#16a085"},borderRadius:"10px",textTransform:"none",fontWeight:600,px:2.5},children:"Apply"})]})})}),e.jsx(K,{elevation:0,sx:{borderRadius:"16px",border:`1px solid ${o.cardBorder}`,bgcolor:o.cardBg,overflow:"hidden"},children:e.jsx(Ve,{sx:{maxHeight:"75vh"},children:e.jsxs(Ke,{stickyHeader:!0,size:"small",children:[e.jsx(Je,{children:e.jsxs(ie,{children:[e.jsx(M,{padding:"checkbox",sx:B,children:e.jsx(Te,{indeterminate:d.length>0&&d.length<v.length,checked:v.length>0&&d.length===v.length,onChange:C,sx:{"&.Mui-checked":{color:"#1abc9c"},"&.MuiCheckbox-indeterminate":{color:"#1abc9c"}}})}),e.jsx(M,{sx:B,children:"ID"}),e.jsx(M,{sx:B,children:"Title"}),e.jsx(M,{sx:B,children:"Name"}),e.jsx(M,{sx:B,children:"Author"}),e.jsx(M,{sx:B,children:"Co-Authors"}),e.jsx(M,{sx:B,children:"Phone"}),e.jsx(M,{sx:B,children:"Email"}),e.jsx(M,{sx:B,children:"Paper Theme"}),e.jsx(M,{sx:B,children:"Paper Sub Theme"}),e.jsx(M,{sx:B,children:"Type"}),e.jsx(M,{sx:B,children:"Submitted"}),e.jsx(M,{sx:B,children:"Status"}),e.jsx(M,{sx:B,children:"Payment"}),e.jsx(M,{sx:B,children:"Reviewers"}),e.jsx(M,{sx:B,children:"Actions"})]})}),e.jsx(Qe,{children:v.length===0?e.jsx(ie,{children:e.jsx(M,{colSpan:15,align:"center",sx:N,children:e.jsxs(y,{sx:{py:5},children:[e.jsx(ve,{sx:{fontSize:48,color:l?"#374151":"#d1d5db",mb:1}}),e.jsx(x,{variant:"body2",sx:{color:o.textMuted},children:"No submissions found"})]})})}):v.map(n=>{const k=xe(n.id),E=n.reviews||[],O=E.length,we=q(n.status);return e.jsxs(ie,{hover:!0,selected:k,sx:{"&:hover":{bgcolor:l?"rgba(255,255,255,0.02)":"#f9fafb"},"&.Mui-selected":{bgcolor:l?"rgba(26, 188, 156, 0.06)":"#ecfdf5","&:hover":{bgcolor:l?"rgba(26, 188, 156, 0.1)":"#d1fae5"}}},children:[e.jsx(M,{padding:"checkbox",sx:N,children:e.jsx(Te,{checked:k,onChange:()=>r(n.id),sx:{"&.Mui-checked":{color:"#1abc9c"}}})}),e.jsxs(M,{sx:{...N,fontWeight:600,color:o.textMuted,fontSize:"0.8rem"},children:["#",n.id]}),e.jsx(M,{sx:{...N,fontWeight:600,maxWidth:200},children:e.jsx(x,{variant:"body2",sx:{fontWeight:600,color:o.textPrimary,fontSize:"0.825rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:200},children:n.title||"N/A"})}),e.jsx(M,{sx:N,children:e.jsx(x,{variant:"body2",sx:{fontSize:"0.825rem",color:o.textPrimary},children:n.author_full_name||"N/A"})}),e.jsx(M,{sx:N,children:e.jsx(x,{variant:"body2",sx:{fontSize:"0.825rem",color:o.textPrimary},children:n.user?.name||"N/A"})}),e.jsx(M,{sx:N,children:(()=>{const X=[];for(let oe=1;oe<=5;oe++){const se=n[`co_author_${oe}`],dt=n[`co_author_${oe}_institute`];se&&se.trim()&&X.push({name:se,institute:dt||"-"})}return X.length===0?e.jsx(x,{variant:"body2",sx:{fontSize:"0.75rem",color:o.textMuted,fontStyle:"italic"},children:"â€”"}):e.jsx(J,{id:`co-authors-${n.id}`,icon:e.jsx(je,{sx:{fontSize:13}}),label:`${X.length}`,size:"small",onClick:oe=>{const se=`co-authors-${n.id}`;b?.id===se?w(null):w({id:se,anchorEl:oe.currentTarget,coAuthors:X})},sx:{bgcolor:l?"rgba(59, 130, 246, 0.12)":"#dbeafe",color:"#3b82f6",fontWeight:700,fontSize:"0.7rem",borderRadius:"6px",height:24,cursor:"pointer","& .MuiChip-icon":{color:"#3b82f6"}}})})()}),e.jsx(M,{sx:N,children:e.jsxs(y,{sx:{display:"flex",alignItems:"center",gap:.5},children:[e.jsx(x,{variant:"body2",sx:{fontSize:"0.8rem",color:o.textMuted},children:n.user?.whatsapp||"N/A"}),n.user?.whatsapp&&e.jsx(Ie,{title:"Send WhatsApp Notification",children:e.jsx(fe,{size:"small",onClick:()=>lt(n),sx:{color:"#25D366",p:.5,"&:hover":{bgcolor:"rgba(37, 211, 102, 0.1)"}},children:e.jsx(Wt,{sx:{fontSize:18}})})})]})}),e.jsx(M,{sx:N,children:e.jsx(x,{variant:"body2",sx:{fontSize:"0.8rem",color:o.textMuted},children:n.user?.email||"N/A"})}),e.jsx(M,{sx:{...N,maxWidth:130},children:e.jsx(x,{variant:"body2",sx:{fontSize:"0.75rem",color:"#1abc9c",fontWeight:600,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:qt(n.paper_sub_theme||n.topic)})}),e.jsx(M,{sx:{...N,maxWidth:150},children:e.jsx(x,{variant:"body2",sx:{fontSize:"0.8rem",color:o.textPrimary,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:n.paper_sub_theme||n.topic||"N/A"})}),e.jsx(M,{sx:N,children:e.jsx(J,{label:n.presentation_preference==="Oral Presentation"?"Oral":n.presentation_preference==="Poster Presentation"?"Poster":"N/A",size:"small",sx:{bgcolor:n.presentation_preference==="Oral Presentation"?l?"rgba(37, 99, 235, 0.15)":"#dbeafe":n.presentation_preference==="Poster Presentation"?l?"rgba(147, 51, 234, 0.15)":"#f3e8ff":l?"rgba(107, 114, 128, 0.15)":"#f3f4f6",color:n.presentation_preference==="Oral Presentation"?"#2563eb":n.presentation_preference==="Poster Presentation"?"#9333ea":"#6b7280",fontWeight:600,fontSize:"0.7rem",borderRadius:"6px",height:24}})}),e.jsx(M,{sx:N,children:e.jsx(x,{variant:"body2",sx:{fontSize:"0.75rem",color:o.textMuted},children:new Date(n.created_at).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"Asia/Jakarta"}).replace(",","")})}),e.jsx(M,{sx:N,children:e.jsxs(le,{value:n.status||"pending",onChange:X=>t(n.id,X.target.value),size:"small",sx:{minWidth:130,borderRadius:"8px",fontSize:"0.8rem",fontWeight:600,bgcolor:we.bg,color:we.color,"& .MuiSelect-select":{py:.75},"& fieldset":{borderColor:"transparent"},"&:hover fieldset":{borderColor:we.color}},children:[e.jsx(A,{value:"pending",sx:{fontSize:"0.85rem"},children:"Pending"}),e.jsx(A,{value:"under_review",sx:{fontSize:"0.85rem"},children:"Under Review"}),e.jsx(A,{value:"revision_required_phase1",sx:{fontSize:"0.85rem"},children:"Revision P1"}),e.jsx(A,{value:"revision_required_phase2",sx:{fontSize:"0.85rem"},children:"Revision P2"}),e.jsx(A,{value:"accepted",sx:{fontSize:"0.85rem"},children:"Accepted"}),e.jsx(A,{value:"rejected",sx:{fontSize:"0.85rem"},children:"Rejected"})]})}),e.jsx(M,{sx:N,children:e.jsx(J,{label:n.payment?.verified?"Paid":"Unpaid",size:"small",sx:{bgcolor:n.payment?.verified?l?"rgba(22, 163, 74, 0.15)":"#dcfce7":l?"rgba(107, 114, 128, 0.15)":"#f3f4f6",color:n.payment?.verified?"#16a34a":"#6b7280",fontWeight:600,fontSize:"0.7rem",borderRadius:"6px",height:24}})}),e.jsx(M,{sx:N,children:O>0?e.jsxs(y,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[e.jsx(J,{icon:e.jsx(je,{sx:{fontSize:14}}),label:`${O}/5`,size:"small",sx:{bgcolor:l?"rgba(26, 188, 156, 0.12)":"#ecfdf5",color:"#1abc9c",fontWeight:700,fontSize:"0.7rem",borderRadius:"6px",height:24,"& .MuiChip-icon":{color:"#1abc9c"}}}),E.map(X=>e.jsxs(y,{sx:{display:"flex",alignItems:"center",gap:.5,bgcolor:l?"rgba(0,0,0,0.15)":"#f9fafb",px:1,py:.25,borderRadius:"6px"},children:[e.jsx(x,{variant:"caption",sx:{flex:1,fontSize:"0.7rem",color:o.textPrimary,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:X.reviewer?.name||"Unknown"}),e.jsx(fe,{size:"small",onClick:()=>L(n.id,X.reviewer_id),sx:{p:"2px","&:hover":{color:"#dc2626"}},children:e.jsx(Ce,{sx:{fontSize:12}})})]},X.id)),O<5&&e.jsx(U,{size:"small",startIcon:e.jsx(De,{sx:{fontSize:14}}),onClick:()=>_(n),sx:{color:"#1abc9c",fontSize:"0.65rem",textTransform:"none",fontWeight:600,px:1,py:.25,minWidth:0,borderRadius:"6px","&:hover":{bgcolor:l?"rgba(26, 188, 156, 0.1)":"#ecfdf5"}},children:"Add"})]}):e.jsx(U,{size:"small",startIcon:e.jsx(De,{sx:{fontSize:16}}),onClick:()=>_(n),sx:{color:"#1abc9c",fontSize:"0.75rem",textTransform:"none",fontWeight:600,borderRadius:"8px",px:1.5,"&:hover":{bgcolor:l?"rgba(26, 188, 156, 0.1)":"#ecfdf5"}},children:"Assign"})}),e.jsx(M,{sx:N,children:e.jsx(Ie,{title:"Delete submission",children:e.jsx(fe,{size:"small",onClick:()=>{confirm("Are you sure you want to delete this submission? This action cannot be undone and will delete all related reviews and payments.")&&ne.delete(route("admin.submissions.delete",n.id),{preserveScroll:!0})},sx:{color:l?"#f87171":"#ef4444","&:hover":{bgcolor:l?"rgba(239, 68, 68, 0.1)":"#fee2e2"}},children:e.jsx(Ce,{sx:{fontSize:20}})})})})]},n.id)})})]})})})]}),e.jsxs(Ze,{open:z.open,onClose:()=>T({open:!1,submission:null}),maxWidth:"sm",fullWidth:!0,PaperComponent:n=>e.jsx(Gt,{handle:"#assign-dialog-title",cancel:'[class*="MuiDialogContent-root"]',children:e.jsx(xt,{...n})}),PaperProps:{sx:{borderRadius:{xs:0,sm:"16px"},bgcolor:o.cardBg,border:{xs:"none",sm:`1px solid ${o.cardBorder}`},m:{xs:0,sm:3},maxHeight:{xs:"100vh",sm:"85vh"},height:{xs:"100vh",sm:"auto"},width:{xs:"100vw",sm:void 0}}},children:[e.jsx(et,{id:"assign-dialog-title",sx:{pb:1,fontWeight:700,color:o.textPrimary,borderBottom:`1px solid ${o.cardBorder}`,position:"sticky",top:0,bgcolor:o.cardBg,zIndex:1,cursor:"move"},children:e.jsxs(y,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[e.jsx(H,{variant:"rounded",sx:{bgcolor:l?"rgba(26, 188, 156, 0.12)":"#ecfdf5",width:40,height:40,borderRadius:"10px"},children:e.jsx(De,{sx:{color:"#1abc9c",fontSize:22}})}),e.jsxs(y,{children:[e.jsx(x,{sx:{fontWeight:700,fontSize:"1rem",color:o.textPrimary},children:"Assign Reviewers"}),z.submission&&e.jsxs(x,{variant:"caption",sx:{color:o.textMuted},children:[z.submission.reviews?.length||0,"/5 assigned â€¢ Adding ",c.length]})]})]})}),e.jsx(tt,{sx:{pt:2.5,overflowY:"auto",WebkitOverflowScrolling:"touch"},children:z.submission&&e.jsxs(e.Fragment,{children:[e.jsxs(y,{sx:{mb:2.5,mt:1,p:2,bgcolor:l?"rgba(0,0,0,0.15)":"#f9fafb",borderRadius:"10px",border:`1px solid ${o.cardBorder}`},children:[e.jsx(x,{variant:"caption",sx:{color:o.textMuted,fontWeight:600,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Submission"}),e.jsx(x,{variant:"body2",sx:{fontWeight:600,color:o.textPrimary,mt:.5},children:z.submission.title})]}),z.submission.reviews&&z.submission.reviews.length>0&&e.jsxs(y,{sx:{mb:2.5},children:[e.jsx(x,{variant:"caption",sx:{fontWeight:700,color:o.textMuted,textTransform:"uppercase",letterSpacing:"0.05em",mb:1,display:"block"},children:"Currently Assigned"}),e.jsx(he,{spacing:.75,children:z.submission.reviews.map(n=>e.jsxs(y,{sx:{display:"flex",alignItems:"center",gap:1.5,p:1.5,bgcolor:l?"rgba(0,0,0,0.1)":"#f9fafb",borderRadius:"10px",border:`1px solid ${o.cardBorder}`},children:[e.jsx(H,{sx:{width:32,height:32,bgcolor:"#1abc9c",fontSize:"0.8rem",fontWeight:700},children:(n.reviewer?.name||"U").charAt(0)}),e.jsxs(y,{sx:{flex:1},children:[e.jsx(x,{variant:"body2",sx:{fontWeight:600,color:o.textPrimary,fontSize:"0.85rem"},children:n.reviewer?.name||"Unknown"}),e.jsx(x,{variant:"caption",sx:{color:o.textMuted,fontSize:"0.75rem"},children:n.reviewer?.email}),n.reviewer?.affiliation&&e.jsx(x,{variant:"caption",sx:{color:"#1abc9c",fontSize:"0.7rem",display:"block"},children:n.reviewer.affiliation})]})]},n.id))})]}),c.length>0&&e.jsxs(y,{sx:{mb:2.5},children:[e.jsx(x,{variant:"caption",sx:{fontWeight:700,color:"#1abc9c",textTransform:"uppercase",letterSpacing:"0.05em",mb:1,display:"block"},children:"Selected to Add"}),e.jsx(he,{spacing:.75,children:c.map(n=>{const k=P.find(E=>E.id===n);return e.jsxs(y,{sx:{display:"flex",alignItems:"center",gap:1.5,p:1.5,bgcolor:l?"rgba(26, 188, 156, 0.08)":"#ecfdf5",borderRadius:"10px",border:`1px solid ${l?"rgba(26, 188, 156, 0.2)":"#a7f3d0"}`},children:[e.jsx(H,{sx:{width:32,height:32,bgcolor:"#16a34a",fontSize:"0.8rem",fontWeight:700},children:(k?.name||"U").charAt(0)}),e.jsxs(y,{sx:{flex:1},children:[e.jsx(x,{variant:"body2",sx:{fontWeight:600,color:o.textPrimary,fontSize:"0.85rem"},children:k?.name||"Unknown"}),e.jsx(x,{variant:"caption",sx:{color:o.textMuted,fontSize:"0.75rem"},children:k?.email}),k?.affiliation&&e.jsx(x,{variant:"caption",sx:{color:"#1abc9c",fontSize:"0.7rem",display:"block"},children:k.affiliation})]}),e.jsx(fe,{size:"small",onClick:()=>F(n),sx:{"&:hover":{color:"#dc2626"}},children:e.jsx(Ce,{sx:{fontSize:18}})})]},n)})})]}),(z.submission.reviews?.length||0)+c.length<5?e.jsxs(ge,{fullWidth:!0,children:[e.jsx(pe,{children:"Select Reviewer to Add"}),e.jsx(le,{value:"",onChange:n=>W(n.target.value),label:"Select Reviewer to Add",sx:{borderRadius:"10px"},children:ae().length===0?e.jsx(A,{disabled:!0,children:"No more reviewers available"}):ae().map(n=>e.jsxs(A,{value:n.id,sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",py:1},children:[e.jsxs(x,{sx:{fontSize:"0.875rem",fontWeight:500},children:[n.name," (",n.email,")"]}),n.affiliation&&e.jsx(x,{sx:{fontSize:"0.75rem",color:"#1abc9c",mt:.25},children:n.affiliation})]},n.id))})]}):e.jsx(ht,{severity:"info",sx:{borderRadius:"10px"},children:"Maximum of 5 reviewers reached"})]})}),e.jsxs(rt,{sx:{p:2.5,pt:1.5,borderTop:`1px solid ${o.cardBorder}`},children:[e.jsx(U,{onClick:()=>{T({open:!1,submission:null}),S([])},sx:{borderRadius:"10px",textTransform:"none",fontWeight:600,color:o.textMuted},children:"Cancel"}),e.jsxs(U,{onClick:$,variant:"contained",disabled:c.length===0,sx:{background:"linear-gradient(135deg, #0d7a6a 0%, #1abc9c 100%)","&:hover":{background:"linear-gradient(135deg, #16a085 0%, #0d7a6a 100%)"},borderRadius:"10px",textTransform:"none",fontWeight:600,px:3},children:["Assign ",c.length," Reviewer",c.length!==1?"s":""]})]})]}),e.jsx(gt,{open:!!b,anchorEl:b?.anchorEl,onClose:()=>{},disableAutoFocus:!0,disableEnforceFocus:!0,disableRestoreFocus:!0,style:{pointerEvents:"none"},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},PaperProps:{style:{pointerEvents:"auto"},sx:{bgcolor:"#1e293b",borderRadius:"10px",boxShadow:"0 8px 24px rgba(0,0,0,0.25)",p:2,minWidth:220,maxWidth:350}},children:b?.coAuthors&&e.jsxs(y,{children:[e.jsxs(x,{sx:{fontWeight:700,fontSize:"0.75rem",mb:1,color:"#a7f3d0",textTransform:"uppercase",letterSpacing:"0.05em"},children:["Co-Authors (",b.coAuthors.length,")"]}),e.jsx(he,{spacing:1,children:b.coAuthors.map((n,k)=>e.jsxs(y,{children:[e.jsxs(x,{sx:{fontWeight:600,fontSize:"0.8rem",color:"#fff"},children:[k+1,". ",n.name]}),e.jsx(x,{sx:{fontSize:"0.7rem",color:"rgba(255,255,255,0.65)",pl:1.5},children:n.institute})]},k))})]})})]})}const rr=Object.freeze(Object.defineProperty({__proto__:null,default:Yt},Symbol.toStringTag,{value:"Module"}));export{Zt as D,er as P,rr as S};
