import{r as v,j as e,y as s,T as t,z as p,C as D,A as P,D as W,B as u,E as V,F as C,H as ee,J as re,K as ne,L as I,M as o,O as te,Q as se,R as oe,S as ae,I as M,U as ie,V as le,W as $,X as Y,Y as E,Z as m,$ as H,a0 as K,a1 as q,a2 as J,a3 as ue,a4 as be}from"./vendor-mui-core-D_NbP6si.js";import{H as O,L as w,r as A}from"./vendor-inertia-CAqK85rr.js";import{S as F}from"./layouts-BiTKIhZ8.js";import{A as fe,P as ge,a as me,b as de,F as je,V as ve,C as X,c as ye,d as Se,D as ke,W as Ce,e as Q,f as Z}from"./vendor-mui-icons-CxVUbmp7.js";import{B as we}from"./vendor-mui-charts-CJbiAFhl.js";function We({analytics:f,recentSubmissions:x=[],pendingPayments:i=0,submissionsPerTopic:d=[],participantStats:y={},submissionsPerTopicByParticipant:S=[]}){const[n,R]=v.useState("all"),[c,k]=v.useState("all"),U=f?.totalSubmissions||0,L=f?.pendingReviews||0,N=f?.verifiedPayments||0;f?.acceptedSubmissions,f?.rejectedSubmissions;const B=f?.totalUsers||0,z=v.useMemo(()=>{const l=S;if(!l||l.length===0)return[];let h=l;if(c!=="all"){const _=c;h=l.map(j=>({...j,count:j[_]||0})).filter(j=>j.count>0)}if(n!=="all"){const _=`${n}_count`;h=h.map(j=>({...j,count:j[_]||0})).filter(j=>j.count>0)}return h},[d,S,n,c]);return e.jsxs(F,{children:[e.jsx(O,{title:"Admin Dashboard"}),e.jsxs(s,{sx:{p:{xs:2,md:3}},children:[e.jsxs(s,{sx:{background:"linear-gradient(135deg, #0d7a6a 0%, #1abc9c 50%, #16a085 100%)",borderRadius:"20px",p:{xs:2,sm:3,md:4},mb:4,boxShadow:"0 8px 32px rgba(13, 122, 106, 0.2)",position:"relative",overflow:"hidden","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"4px",background:"linear-gradient(90deg, #4dd4ac 0%, #1abc9c 50%, #4dd4ac 100%)"}},children:[e.jsx(t,{variant:"h4",sx:{fontWeight:700,color:"white",mb:1,letterSpacing:"0.02em"},children:"Admin Dashboard Overview"}),e.jsx(t,{variant:"body1",sx:{color:"rgba(255,255,255,0.9)",fontSize:"1rem"},children:"Monitor dan kelola seluruh aktivitas konferensi PIT IAGI-GEOSEA 2026"})]}),e.jsxs(p,{container:!0,spacing:3,sx:{mb:4},children:[e.jsx(p,{size:{xs:12,sm:6,md:3},children:e.jsx(D,{sx:{background:"linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%)",boxShadow:"0 4px 20px rgba(13, 122, 106, 0.15)",borderRadius:"16px",border:"1px solid rgba(13, 122, 106, 0.1)",transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 30px rgba(13, 122, 106, 0.25)"}},children:e.jsxs(P,{children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[e.jsx(s,{sx:{backgroundColor:"#0d7a6a",borderRadius:"12px",p:1.5,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(13, 122, 106, 0.3)"},children:e.jsx(fe,{sx:{color:"white",fontSize:28}})}),e.jsx(t,{color:"text.secondary",variant:"caption",sx:{fontWeight:600,textTransform:"uppercase",letterSpacing:.5},children:"Total"})]}),e.jsx(t,{variant:"h3",sx:{fontWeight:"bold",color:"#0d7a6a",mb:.5,fontSize:{xs:"2rem",sm:"2.5rem",md:"3rem"}},children:U}),e.jsx(t,{color:"text.secondary",variant:"body2",sx:{fontSize:"0.875rem"},children:"Total Submissions"})]})})}),e.jsx(p,{size:{xs:12,sm:6,md:3},children:e.jsx(D,{sx:{background:"linear-gradient(135deg, #fff7ed 0%, #fed7aa 100%)",boxShadow:"0 4px 20px rgba(237, 108, 2, 0.15)",borderRadius:"16px",border:"1px solid rgba(237, 108, 2, 0.1)",transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 30px rgba(237, 108, 2, 0.25)"}},children:e.jsxs(P,{children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[e.jsx(s,{sx:{backgroundColor:"#ed6c02",borderRadius:"12px",p:1.5,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(237, 108, 2, 0.3)"},children:e.jsx(ge,{sx:{color:"white",fontSize:28}})}),e.jsx(t,{color:"text.secondary",variant:"caption",sx:{fontWeight:600,textTransform:"uppercase",letterSpacing:.5},children:"Pending"})]}),e.jsx(t,{variant:"h3",sx:{fontWeight:"bold",color:"#ed6c02",mb:.5,fontSize:{xs:"2rem",sm:"2.5rem",md:"3rem"}},children:L}),e.jsx(t,{color:"text.secondary",variant:"body2",sx:{fontSize:"0.875rem"},children:"Pending Reviews"})]})})}),e.jsx(p,{size:{xs:12,sm:6,md:3},children:e.jsx(D,{sx:{background:"linear-gradient(135deg, #eff6ff 0%, #bfdbfe 100%)",boxShadow:"0 4px 20px rgba(25, 118, 210, 0.15)",borderRadius:"16px",border:"1px solid rgba(25, 118, 210, 0.1)",transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 30px rgba(25, 118, 210, 0.25)"}},children:e.jsxs(P,{children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[e.jsx(s,{sx:{backgroundColor:"#1976d2",borderRadius:"12px",p:1.5,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(25, 118, 210, 0.3)"},children:e.jsx(me,{sx:{color:"white",fontSize:28}})}),e.jsx(t,{color:"text.secondary",variant:"caption",sx:{fontWeight:600,textTransform:"uppercase",letterSpacing:.5},children:"Verified"})]}),e.jsx(t,{variant:"h3",sx:{fontWeight:"bold",color:"#1976d2",mb:.5,fontSize:{xs:"2rem",sm:"2.5rem",md:"3rem"}},children:N}),e.jsx(t,{color:"text.secondary",variant:"body2",sx:{fontSize:"0.875rem"},children:"Verified Payments"})]})})}),e.jsx(p,{size:{xs:12,sm:6,md:3},children:e.jsx(D,{sx:{background:"linear-gradient(135deg, #faf5ff 0%, #e9d5ff 100%)",boxShadow:"0 4px 20px rgba(156, 39, 176, 0.15)",borderRadius:"16px",border:"1px solid rgba(156, 39, 176, 0.1)",transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 30px rgba(156, 39, 176, 0.25)"}},children:e.jsxs(P,{children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[e.jsx(s,{sx:{backgroundColor:"#9c27b0",borderRadius:"12px",p:1.5,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(156, 39, 176, 0.3)"},children:e.jsx(de,{sx:{color:"white",fontSize:28}})}),e.jsx(t,{color:"text.secondary",variant:"caption",sx:{fontWeight:600,textTransform:"uppercase",letterSpacing:.5},children:"Users"})]}),e.jsx(t,{variant:"h3",sx:{fontWeight:"bold",color:"#9c27b0",mb:.5,fontSize:{xs:"2rem",sm:"2.5rem",md:"3rem"}},children:B}),e.jsx(t,{color:"text.secondary",variant:"body2",sx:{fontSize:"0.875rem"},children:"Total Users"})]})})})]}),e.jsxs(W,{elevation:0,sx:{p:{xs:2,sm:3,md:4},border:"1px solid rgba(13, 122, 106, 0.2)",borderRadius:"20px",background:"linear-gradient(to bottom, #ffffff 0%, #f8faf9 100%)",boxShadow:"0 4px 20px rgba(0,0,0,0.08)"},children:[e.jsx(t,{variant:"h5",gutterBottom:!0,sx:{fontWeight:700,mb:{xs:2,md:3},color:"#0d7a6a",fontSize:{xs:"1.25rem",md:"1.5rem"}},children:"Quick Actions"}),e.jsxs(p,{container:!0,spacing:2,children:[e.jsx(p,{size:{xs:12,sm:6,md:4},children:e.jsx(u,{component:w,href:route("admin.submissions"),variant:"contained",fullWidth:!0,sx:{backgroundColor:"#1abc9c","&:hover":{backgroundColor:"#16a085",transform:"translateY(-2px)",boxShadow:"0 8px 24px rgba(26, 188, 156, 0.4)"},py:2,textTransform:"none",fontSize:"1rem",fontWeight:600,borderRadius:"50px",boxShadow:"0 4px 16px rgba(26, 188, 156, 0.3)",transition:"all 0.3s ease"},children:"Workflow Control"})}),e.jsx(p,{size:{xs:12,sm:6,md:4},children:e.jsx(u,{component:w,href:route("admin.submissions"),variant:"outlined",fullWidth:!0,sx:{color:"#1abc9c",borderColor:"#1abc9c","&:hover":{borderColor:"#16a085",backgroundColor:"rgba(26, 188, 156, 0.08)",transform:"translateY(-2px)",boxShadow:"0 4px 16px rgba(26, 188, 156, 0.2)"},py:2,textTransform:"none",fontSize:"1rem",fontWeight:600,borderRadius:"50px",borderWidth:"2px","&:hover":{borderWidth:"2px"},transition:"all 0.3s ease"},children:"Reviewer Assignment"})}),e.jsx(p,{size:{xs:12,sm:6,md:4},children:e.jsx(u,{component:w,href:route("admin.export"),variant:"outlined",fullWidth:!0,sx:{color:"#1976d2",borderColor:"#1976d2","&:hover":{borderColor:"#115293",backgroundColor:"rgba(25, 118, 210, 0.08)",transform:"translateY(-2px)",boxShadow:"0 4px 16px rgba(25, 118, 210, 0.2)"},py:2,textTransform:"none",fontSize:"1rem",fontWeight:600,borderRadius:"50px",borderWidth:"2px","&:hover":{borderWidth:"2px"},transition:"all 0.3s ease"},children:"Database Export"})}),e.jsx(p,{size:{xs:12,sm:6,md:4},children:e.jsx(u,{component:w,href:route("admin.payments"),variant:"outlined",fullWidth:!0,sx:{color:"#ed6c02",borderColor:"#ed6c02","&:hover":{borderColor:"#c55500",backgroundColor:"rgba(237, 108, 2, 0.08)",transform:"translateY(-2px)",boxShadow:"0 4px 16px rgba(237, 108, 2, 0.2)"},py:2,textTransform:"none",fontSize:"1rem",fontWeight:600,borderRadius:"50px",borderWidth:"2px","&:hover":{borderWidth:"2px"},transition:"all 0.3s ease"},children:"Payment Validation"})}),e.jsx(p,{size:{xs:12,sm:6,md:4},children:e.jsx(u,{component:w,href:route("admin.users"),variant:"outlined",fullWidth:!0,sx:{color:"#9c27b0",borderColor:"#9c27b0","&:hover":{borderColor:"#7b1fa2",backgroundColor:"rgba(156, 39, 176, 0.08)",transform:"translateY(-2px)",boxShadow:"0 4px 16px rgba(156, 39, 176, 0.2)"},py:2,textTransform:"none",fontSize:"1rem",fontWeight:600,borderRadius:"50px",borderWidth:"2px","&:hover":{borderWidth:"2px"},transition:"all 0.3s ease"},children:"Kelola Akun USER"})})]})]}),d.length>0&&e.jsxs(W,{elevation:0,sx:{p:{xs:2,sm:3,md:4},border:"1px solid rgba(13, 122, 106, 0.2)",borderRadius:"20px",mt:3,background:"linear-gradient(to bottom, #ffffff 0%, #f8faf9 100%)",boxShadow:"0 4px 20px rgba(0,0,0,0.08)"},children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3,flexWrap:"wrap",gap:2},children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(s,{sx:{background:"linear-gradient(135deg, #0d7a6a 0%, #1abc9c 100%)",borderRadius:"12px",p:1.5,mr:2,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(13, 122, 106, 0.3)"},children:e.jsx(t,{sx:{fontSize:"28px"},children:"ðŸ“Š"})}),e.jsxs(s,{children:[e.jsx(t,{variant:"h5",sx:{fontWeight:700,color:"#0d7a6a",mb:.5},children:"Statistik Submission per Topik"}),e.jsx(t,{variant:"body2",color:"text.secondary",children:"Distribusi paper berdasarkan sub-tema penelitian"})]})]}),e.jsxs(s,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsxs(V,{value:n,exclusive:!0,onChange:(l,h)=>{h!==null&&R(h)},size:"small",sx:{backgroundColor:"#ffffff",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",borderRadius:2},children:[e.jsxs(C,{value:"all",sx:{px:3,py:1,textTransform:"none",fontWeight:600,"&.Mui-selected":{backgroundColor:"#1abc9c",color:"white","&:hover":{backgroundColor:"#16a085"}}},children:[e.jsx(je,{sx:{mr:1,fontSize:18}}),"Semua"]}),e.jsx(C,{value:"oral_presentation",sx:{px:3,py:1,textTransform:"none",fontWeight:600,"&.Mui-selected":{backgroundColor:"#1976d2",color:"white","&:hover":{backgroundColor:"#115293"}}},children:"ðŸŽ¤ Oral"}),e.jsx(C,{value:"poster_presentation",sx:{px:3,py:1,textTransform:"none",fontWeight:600,"&.Mui-selected":{backgroundColor:"#9c27b0",color:"white","&:hover":{backgroundColor:"#7b1fa2"}}},children:"ðŸ“‹ Poster"})]}),e.jsxs(V,{value:c,exclusive:!0,onChange:(l,h)=>{h!==null&&k(h)},size:"small",sx:{backgroundColor:"#ffffff",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",borderRadius:2},children:[e.jsx(C,{value:"all",sx:{px:3,py:1,textTransform:"none",fontWeight:600,"&.Mui-selected":{backgroundColor:"#1abc9c",color:"white","&:hover":{backgroundColor:"#16a085"}}},children:"ðŸ‘¥ All Participants"}),e.jsx(C,{value:"student_count",sx:{px:3,py:1,textTransform:"none",fontWeight:600,"&.Mui-selected":{backgroundColor:"#0891b2",color:"white","&:hover":{backgroundColor:"#0e7490"}}},children:"ðŸŽ“ Student"}),e.jsx(C,{value:"professional_count",sx:{px:3,py:1,textTransform:"none",fontWeight:600,"&.Mui-selected":{backgroundColor:"#ea580c",color:"white","&:hover":{backgroundColor:"#c2410c"}}},children:"ðŸ’¼ Professional"}),e.jsx(C,{value:"international_count",sx:{px:3,py:1,textTransform:"none",fontWeight:600,"&.Mui-selected":{backgroundColor:"#7c3aed",color:"white","&:hover":{backgroundColor:"#6d28d9"}}},children:"ðŸŒ International"})]})]})]}),e.jsx(s,{sx:{width:"100%",height:Math.max(400,z.length*70),backgroundColor:"#ffffff",borderRadius:3,p:3,boxShadow:"0 4px 12px rgba(0,0,0,0.08), inset 0 1px 3px rgba(0,0,0,0.02)",border:"1px solid #e5e7eb"},children:e.jsx(we,{dataset:z,layout:"horizontal",yAxis:[{scaleType:"band",dataKey:"topic",tickLabelStyle:{fontSize:14,fontWeight:600,fill:"#1f2937",textAnchor:"end"}}],xAxis:[{tickLabelStyle:{fontSize:13,fontWeight:500,fill:"#6b7280"}}],series:[{dataKey:"count",label:n==="all"?"Total Submission":n==="oral_presentation"?"Oral Presentation":"Poster Presentation",color:n==="all"?"#059669":n==="oral_presentation"?"#2563eb":"#9333ea",valueFormatter:l=>`${l} paper${l>1?"s":""}`}],margin:{top:30,bottom:50,left:150,right:60},grid:{horizontal:!0},slotProps:{legend:{direction:"row",position:{vertical:"top",horizontal:"right"},padding:0,itemMarkWidth:16,itemMarkHeight:16,markGap:10,itemGap:20,labelStyle:{fontSize:14,fontWeight:600,fill:"#1f2937"}},bar:{rx:6,ry:6}},sx:{"& .MuiChartsAxis-tickLabel":{fill:"#1f2937",fontWeight:600},"& .MuiChartsAxis-line":{stroke:"#d1d5db",strokeWidth:1.5},"& .MuiChartsAxis-tick":{stroke:"#d1d5db",strokeWidth:1.5},"& .MuiChartsGrid-line":{stroke:"#f3f4f6",strokeDasharray:"5 5",strokeWidth:1},"& .MuiBarElement-root":{cursor:"pointer",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",filter:n==="all"?"drop-shadow(0 2px 4px rgba(5, 150, 105, 0.3))":n==="oral_presentation"?"drop-shadow(0 2px 4px rgba(37, 99, 235, 0.3))":"drop-shadow(0 2px 4px rgba(147, 51, 234, 0.3))","&:hover":{opacity:.85,filter:n==="all"?"drop-shadow(0 4px 8px rgba(5, 150, 105, 0.5)) brightness(1.05)":n==="oral_presentation"?"drop-shadow(0 4px 8px rgba(37, 99, 235, 0.5)) brightness(1.05)":"drop-shadow(0 4px 8px rgba(147, 51, 234, 0.5)) brightness(1.05)",transform:"translateX(4px)"}},"& .MuiChartsLegend-series":{padding:"8px 16px",backgroundColor:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"}}})}),e.jsxs(p,{container:!0,spacing:2,sx:{mt:2},children:[e.jsx(p,{size:{xs:12,sm:6,md:4},children:e.jsxs(s,{sx:{p:2.5,backgroundColor:"#ecfdf5",borderRadius:2,border:"1px solid #a7f3d0",display:"flex",alignItems:"center",gap:2},children:[e.jsx(s,{sx:{backgroundColor:"#10b981",borderRadius:"50%",width:48,height:48,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"20px"},children:d.length}),e.jsxs(s,{children:[e.jsx(t,{variant:"caption",sx:{color:"#059669",fontWeight:600,textTransform:"uppercase",letterSpacing:.5},children:"Total Topik"}),e.jsx(t,{variant:"body2",sx:{color:"#065f46",fontWeight:500},children:"Sub-tema berbeda"})]})]})}),e.jsx(p,{size:{xs:12,sm:6,md:4},children:e.jsxs(s,{sx:{p:2.5,backgroundColor:"#dbeafe",borderRadius:2,border:"1px solid #93c5fd",display:"flex",alignItems:"center",gap:2},children:[e.jsx(s,{sx:{backgroundColor:"#3b82f6",borderRadius:"50%",width:48,height:48,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"20px"},children:d.reduce((l,h)=>l+h.count,0)}),e.jsxs(s,{children:[e.jsx(t,{variant:"caption",sx:{color:"#2563eb",fontWeight:600,textTransform:"uppercase",letterSpacing:.5},children:"Total Submission"}),e.jsx(t,{variant:"body2",sx:{color:"#1e40af",fontWeight:500},children:"Paper yang masuk"})]})]})}),e.jsx(p,{size:{xs:12,sm:6,md:4},children:e.jsxs(s,{sx:{p:2.5,backgroundColor:"#fef3c7",borderRadius:2,border:"1px solid #fcd34d",display:"flex",alignItems:"center",gap:2},children:[e.jsx(s,{sx:{backgroundColor:"#f59e0b",borderRadius:"50%",width:48,height:48,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"16px"},children:d.length>0?Math.round(d.reduce((l,h)=>l+h.count,0)/d.length*10)/10:0}),e.jsxs(s,{children:[e.jsx(t,{variant:"caption",sx:{color:"#d97706",fontWeight:600,textTransform:"uppercase",letterSpacing:.5},children:"Rata-rata"}),e.jsx(t,{variant:"body2",sx:{color:"#92400e",fontWeight:500},children:"Per topik"})]})]})})]}),d.length>0&&e.jsxs(s,{sx:{mt:3,p:3,background:"linear-gradient(135deg, #0d7a6a 0%, #1abc9c 50%, #16a085 100%)",borderRadius:"16px",boxShadow:"0 8px 24px rgba(13, 122, 106, 0.3)"},children:[e.jsx(t,{variant:"subtitle2",sx:{color:"#d1fae5",fontWeight:600,mb:1,textTransform:"uppercase",letterSpacing:1},children:"ðŸ† Topik Terpopuler"}),e.jsx(t,{variant:"h6",sx:{color:"white",fontWeight:700,mb:.5},children:d[0].topic}),e.jsxs(t,{variant:"body2",sx:{color:"#a7f3d0"},children:[d[0].count," submission (",Math.round(d[0].count/d.reduce((l,h)=>l+h.count,0)*100),"% dari total)"]})]})]}),e.jsxs(p,{container:!0,spacing:3,sx:{mt:2},children:[i>0&&e.jsx(p,{size:{xs:12},children:e.jsx(W,{elevation:0,sx:{p:3,border:"2px solid #ed6c02",borderRadius:"16px",backgroundColor:"#fff8e1",boxShadow:"0 4px 16px rgba(237, 108, 2, 0.15)"},children:e.jsxs(s,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(s,{children:[e.jsx(t,{variant:"h6",sx:{fontWeight:600,color:"#ed6c02",mb:1},children:"âš ï¸ Pending Payment Verifications"}),e.jsxs(t,{variant:"body2",color:"text.secondary",children:["There are ",i," payment",i>1?"s":""," waiting for verification"]})]}),e.jsx(u,{component:w,href:route("admin.payments"),variant:"contained",sx:{backgroundColor:"#ed6c02","&:hover":{backgroundColor:"#c55500",transform:"translateY(-2px)",boxShadow:"0 8px 20px rgba(237, 108, 2, 0.4)"},borderRadius:"50px",px:3,py:1.5,fontWeight:600,transition:"all 0.3s ease"},children:"Review Now"})]})})}),e.jsx(p,{size:{xs:12},children:e.jsxs(W,{elevation:0,sx:{p:3,border:"1px solid rgba(13, 122, 106, 0.2)",borderRadius:"20px",background:"linear-gradient(to bottom, #ffffff 0%, #f8faf9 100%)",boxShadow:"0 4px 20px rgba(0,0,0,0.08)"},children:[e.jsx(t,{variant:"h6",gutterBottom:!0,sx:{fontWeight:700,mb:2,color:"#0d7a6a"},children:"Recent Submissions"}),x.length===0?e.jsx(t,{variant:"body2",color:"text.secondary",children:"No recent submissions"}):e.jsx(s,{children:x.map(l=>e.jsx(s,{sx:{p:2,mb:2,border:"1px solid rgba(13, 122, 106, 0.15)",borderRadius:"12px","&:last-child":{mb:0},"&:hover":{backgroundColor:"rgba(26, 188, 156, 0.05)",borderColor:"rgba(13, 122, 106, 0.3)",transform:"translateX(4px)"},transition:"all 0.3s ease"},children:e.jsxs(s,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsxs(s,{sx:{flex:1},children:[e.jsx(t,{variant:"subtitle1",sx:{fontWeight:600},children:l.title}),e.jsxs(t,{variant:"body2",color:"text.secondary",children:["by ",l.user?.name||"Unknown"," â€¢ ",new Date(l.created_at).toLocaleDateString("id-ID")]})]}),e.jsx(u,{component:w,href:route("admin.submissions"),size:"small",sx:{color:"#1abc9c",fontWeight:600,"&:hover":{backgroundColor:"rgba(26, 188, 156, 0.1)"}},children:"Manage"})]})},l.id))})]})})]})]})]})}const Pe=Object.freeze(Object.defineProperty({__proto__:null,default:We},Symbol.toStringTag,{value:"Module"}));function Re({payments:f=[]}){const[x,i]=v.useState({open:!1,payment:null}),d=n=>{confirm("Are you sure you want to verify this payment?")&&A.patch(route("admin.payments.verify",n),{},{preserveScroll:!0})},y=n=>{confirm("Are you sure you want to reject this payment?")&&A.patch(route("admin.payments.reject",n),{},{preserveScroll:!0})},S=n=>{i({open:!0,payment:n})};return e.jsxs(F,{children:[e.jsx(O,{title:"Manage Payments"}),e.jsxs(s,{sx:{p:3},children:[e.jsx(t,{variant:"h4",gutterBottom:!0,sx:{fontWeight:"bold",color:"#1abc9c",mb:3},children:"Manage Payments"}),e.jsx(W,{elevation:0,sx:{border:"1px solid #e0e0e0",borderRadius:2},children:e.jsx(ee,{children:e.jsxs(re,{children:[e.jsx(ne,{children:e.jsxs(I,{sx:{backgroundColor:"#f8f9fa"},children:[e.jsx(o,{sx:{fontWeight:600},children:"ID"}),e.jsx(o,{sx:{fontWeight:600},children:"User"}),e.jsx(o,{sx:{fontWeight:600},children:"Submission"}),e.jsx(o,{sx:{fontWeight:600},children:"Amount"}),e.jsx(o,{sx:{fontWeight:600},children:"Status"}),e.jsx(o,{sx:{fontWeight:600},children:"Uploaded At"}),e.jsx(o,{sx:{fontWeight:600},children:"Actions"})]})}),e.jsx(te,{children:f.length===0?e.jsx(I,{children:e.jsx(o,{colSpan:7,align:"center",children:e.jsx(t,{variant:"body2",color:"text.secondary",sx:{py:3},children:"No payments found"})})}):f.map(n=>e.jsxs(I,{hover:!0,children:[e.jsx(o,{children:n.id}),e.jsxs(o,{children:[e.jsx(t,{variant:"body2",sx:{fontWeight:600},children:n.user?.name||"N/A"}),e.jsx(t,{variant:"caption",color:"text.secondary",children:n.user?.email||"N/A"})]}),e.jsx(o,{children:n.submission?.title||"N/A"}),e.jsx(o,{children:n.amount?`Rp ${parseFloat(n.amount).toLocaleString("id-ID")}`:"N/A"}),e.jsx(o,{children:e.jsx(se,{label:n.verified?"Verified":"Pending",color:n.verified?"success":"warning",size:"small"})}),e.jsx(o,{children:n.created_at?new Date(n.created_at).toLocaleDateString("id-ID"):"N/A"}),e.jsx(o,{children:e.jsxs(s,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[n.payment_proof_url&&e.jsx(u,{size:"small",variant:"outlined",startIcon:e.jsx(ve,{}),onClick:()=>S(n),sx:{color:"#1976d2",borderColor:"#1976d2"},children:"View"}),n.verified?e.jsx(u,{size:"small",variant:"outlined",startIcon:e.jsx(ye,{}),onClick:()=>y(n.id),color:"error",children:"Reject"}):e.jsx(u,{size:"small",variant:"contained",startIcon:e.jsx(X,{}),onClick:()=>d(n.id),sx:{backgroundColor:"#2e7d32","&:hover":{backgroundColor:"#1b5e20"}},children:"Verify"})]})})]},n.id))})]})})})]}),e.jsxs(oe,{open:x.open,onClose:()=>i({open:!1,payment:null}),maxWidth:"md",fullWidth:!0,children:[e.jsxs(ae,{sx:{backgroundColor:"#1abc9c",color:"white",display:"flex",justifyContent:"space-between",alignItems:"center"},children:["Payment Proof",e.jsx(M,{onClick:()=>i({open:!1,payment:null}),sx:{color:"white"},children:e.jsx(Se,{})})]}),e.jsx(ie,{sx:{p:3},children:x.payment&&e.jsxs(s,{children:[e.jsxs(s,{sx:{mb:2,p:2,backgroundColor:"#f8f9fa",borderRadius:1},children:[e.jsx(t,{variant:"body2",color:"text.secondary",children:"User:"}),e.jsx(t,{variant:"body1",sx:{fontWeight:600},children:x.payment.user?.name}),e.jsx(t,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Submission:"}),e.jsx(t,{variant:"body1",sx:{fontWeight:600},children:x.payment.submission?.title}),e.jsx(t,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Amount:"}),e.jsxs(t,{variant:"body1",sx:{fontWeight:600},children:["Rp ",parseFloat(x.payment.amount||0).toLocaleString("id-ID")]})]}),x.payment.payment_proof_url&&e.jsx(s,{sx:{textAlign:"center"},children:e.jsx("img",{src:`/storage/${x.payment.payment_proof_url}`,alt:"Payment Proof",style:{maxWidth:"100%",maxHeight:"500px",objectFit:"contain",border:"1px solid #e0e0e0",borderRadius:"8px"},onError:n=>{n.target.style.display="none",n.target.parentElement.innerHTML='<p style="padding: 40px; text-align: center; color: #666;">Unable to load image. <a href="/storage/'+x.payment.payment_proof_url+'" target="_blank">Download file</a></p>'}})})]})}),e.jsxs(le,{sx:{p:2},children:[x.payment&&!x.payment.verified&&e.jsx(u,{variant:"contained",startIcon:e.jsx(X,{}),onClick:()=>{d(x.payment.id),i({open:!1,payment:null})},sx:{backgroundColor:"#2e7d32","&:hover":{backgroundColor:"#1b5e20"}},children:"Verify Payment"}),e.jsx(u,{onClick:()=>i({open:!1,payment:null}),children:"Close"})]})]})]})}const Me=Object.freeze(Object.defineProperty({__proto__:null,default:Re},Symbol.toStringTag,{value:"Module"}));function Ae({submissions:f=[],reviewers:x=[]}){const[i,d]=v.useState([]),[y,S]=v.useState(""),[n,R]=v.useState({open:!1,submission:null}),[c,k]=v.useState([]),U=r=>{r.target.checked?d(f.map(a=>a.id)):d([])},L=r=>{const a=i.indexOf(r);let b=[];a===-1?b=b.concat(i,r):a===0?b=b.concat(i.slice(1)):a===i.length-1?b=b.concat(i.slice(0,-1)):a>0&&(b=b.concat(i.slice(0,a),i.slice(a+1))),d(b)},N=(r,a)=>{A.patch(route("admin.submissions.updateStatus",r),{status:a},{preserveScroll:!0})},B=()=>{i.length>0&&y&&A.post(route("admin.submissions.bulkUpdate"),{submission_ids:i,status:y},{preserveScroll:!0,onSuccess:()=>{d([]),S("")}})},z=r=>{R({open:!0,submission:r}),k([])},l=r=>{c.includes(r)||(n.submission?.reviews?.length||0)+c.length<5&&k([...c,r])},h=r=>{k(c.filter(a=>a!==r))},_=()=>{c.length>0&&n.submission&&A.post(route("admin.submissions.assignReviewer",n.submission.id),{reviewer_ids:c},{preserveScroll:!0,onSuccess:()=>{R({open:!1,submission:null}),k([])}})},j=(r,a)=>{confirm("Are you sure you want to remove this reviewer?")&&A.delete(route("admin.submissions.removeReviewer",{submissionId:r,reviewerId:a}),{preserveScroll:!0})},ce=()=>{window.location.href=route("admin.submissions.export")},xe=r=>i.indexOf(r)!==-1,G=()=>{if(!n.submission)return x;const r=(n.submission.reviews||[]).map(a=>a.reviewer_id);return x.filter(a=>!r.includes(a.id)&&!c.includes(a.id))},he=r=>{const b={pending:`Status submission Anda telah diubah menjadi *Pending*.

Submission akan segera ditinjau oleh tim kami.`,under_review:`Status submission Anda telah diubah menjadi *Under Review*.

Submission Anda sedang dalam proses peninjauan oleh reviewer.`,revision_required_phase1:`Status submission Anda telah diubah menjadi *Revision Phase 1*.

Silakan lakukan revisi sesuai dengan komentar reviewer.`,revision_required_phase2:`Status submission Anda telah diubah menjadi *Revision Phase 2*.

Silakan lakukan revisi tambahan sesuai dengan komentar reviewer.`,accepted:`ðŸŽ‰ *Selamat!* ðŸŽ‰

Submission Anda telah *DITERIMA* (Accepted).

Terima kasih atas kontribusi Anda dalam konferensi ini.`,rejected:`Status submission Anda telah diubah menjadi *Rejected*.

Mohon maaf submission Anda tidak dapat diterima kali ini. Terima kasih atas partisipasi Anda.`}[r.status]||"Status submission Anda telah diperbarui.";let g=`*IAGI-GEOSEA 2026 - Notification*

`;return g+=`Halo *${r.user?.name}*,

`,g+=`Submission ID: *${r.id}*
`,g+=`Judul: *${r.title}*

`,g+=`${b}

`,g+=`Silakan login ke dashboard Anda untuk informasi lebih lanjut.

`,g+=`Terima kasih,
`,g+="Tim IAGI-GEOSEA 2026",g},pe=r=>{if(!r.user?.whatsapp){alert("User tidak memiliki nomor WhatsApp!");return}const a=he(r),g=`https://wa.me/${r.user.whatsapp.replace(/^0/,"62").replace(/\D/g,"")}?text=${encodeURIComponent(a)}`;window.open(g,"_blank")};return e.jsxs(F,{children:[e.jsx(O,{title:"Manage Submissions"}),e.jsxs(s,{sx:{p:3},children:[e.jsxs(s,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsx(t,{variant:"h4",sx:{fontWeight:"bold",color:"#1abc9c"},children:"Manage Submissions"}),e.jsx(u,{variant:"contained",startIcon:e.jsx(ke,{}),onClick:ce,sx:{backgroundColor:"#1abc9c","&:hover":{backgroundColor:"#16a085"}},children:"Export to CSV"})]}),i.length>0&&e.jsx(W,{elevation:0,sx:{p:2,mb:2,border:"1px solid #e0e0e0",borderRadius:2,backgroundColor:"#f8f9fa"},children:e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsxs(t,{variant:"body1",sx:{fontWeight:600},children:[i.length," selected"]}),e.jsxs($,{size:"small",sx:{minWidth:200},children:[e.jsx(Y,{children:"Bulk Update Status"}),e.jsxs(E,{value:y,onChange:r=>S(r.target.value),label:"Bulk Update Status",children:[e.jsx(m,{value:"pending",children:"Pending"}),e.jsx(m,{value:"under_review",children:"Under Review"}),e.jsx(m,{value:"revision_required_phase1",children:"Revision Phase 1"}),e.jsx(m,{value:"revision_required_phase2",children:"Revision Phase 2"}),e.jsx(m,{value:"accepted",children:"Accepted"}),e.jsx(m,{value:"rejected",children:"Rejected"})]})]}),e.jsxs(u,{variant:"contained",onClick:B,disabled:!y,sx:{backgroundColor:"#1abc9c","&:hover":{backgroundColor:"#16a085"}},children:["Update ",i.length," Submissions"]})]})}),e.jsx(W,{elevation:0,sx:{border:"1px solid #e0e0e0",borderRadius:2},children:e.jsx(ee,{children:e.jsxs(re,{children:[e.jsx(ne,{children:e.jsxs(I,{sx:{backgroundColor:"#f8f9fa"},children:[e.jsx(o,{padding:"checkbox",children:e.jsx(H,{indeterminate:i.length>0&&i.length<f.length,checked:f.length>0&&i.length===f.length,onChange:U})}),e.jsx(o,{sx:{fontWeight:600},children:"ID"}),e.jsx(o,{sx:{fontWeight:600},children:"Title"}),e.jsx(o,{sx:{fontWeight:600},children:"Author"}),e.jsx(o,{sx:{fontWeight:600},children:"Phone"}),e.jsx(o,{sx:{fontWeight:600},children:"Topic"}),e.jsx(o,{sx:{fontWeight:600},children:"Submitted"}),e.jsx(o,{sx:{fontWeight:600},children:"Status"}),e.jsx(o,{sx:{fontWeight:600},children:"Payment"}),e.jsx(o,{sx:{fontWeight:600},children:"Reviewers"})]})}),e.jsx(te,{children:f.length===0?e.jsx(I,{children:e.jsx(o,{colSpan:10,align:"center",children:e.jsx(t,{variant:"body2",color:"text.secondary",sx:{py:3},children:"No submissions found"})})}):f.map(r=>{const a=xe(r.id),b=r.reviews||[],g=b.length;return e.jsxs(I,{hover:!0,selected:a,children:[e.jsx(o,{padding:"checkbox",children:e.jsx(H,{checked:a,onChange:()=>L(r.id)})}),e.jsx(o,{children:r.id}),e.jsx(o,{children:r.title||"N/A"}),e.jsx(o,{children:r.user?.name||"N/A"}),e.jsx(o,{children:e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(t,{variant:"body2",children:r.user?.whatsapp||"N/A"}),r.user?.whatsapp&&e.jsx(M,{size:"small",onClick:()=>pe(r),sx:{color:"#25D366","&:hover":{backgroundColor:"#25D36620"}},title:"Kirim Notifikasi via WhatsApp",children:e.jsx(Ce,{sx:{fontSize:20}})})]})}),e.jsx(o,{children:r.paper_sub_theme||r.topic||"N/A"}),e.jsx(o,{children:new Date(r.created_at).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"Asia/Jakarta"}).replace(",","")}),e.jsx(o,{children:e.jsxs(E,{value:r.status||"pending",onChange:T=>N(r.id,T.target.value),size:"small",sx:{minWidth:150},children:[e.jsx(m,{value:"pending",children:"Pending"}),e.jsx(m,{value:"under_review",children:"Under Review"}),e.jsx(m,{value:"revision_required_phase1",children:"Revision Phase 1"}),e.jsx(m,{value:"revision_required_phase2",children:"Revision Phase 2"}),e.jsx(m,{value:"accepted",children:"Accepted"}),e.jsx(m,{value:"rejected",children:"Rejected"})]})}),e.jsx(o,{children:e.jsx(se,{label:r.payment?.verified?"Paid":"Unpaid",color:r.payment?.verified?"success":"default",size:"small"})}),e.jsx(o,{children:g>0?e.jsxs(s,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[e.jsxs(t,{variant:"caption",sx:{fontWeight:600,color:"#1abc9c"},children:[e.jsx(de,{sx:{fontSize:14,verticalAlign:"middle",mr:.5}}),"Reviewers: ",g,"/5"]}),b.map(T=>e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:.5,backgroundColor:"#f5f5f5",padding:"4px 8px",borderRadius:1},children:[e.jsx(t,{variant:"caption",sx:{flex:1,fontSize:"0.75rem"},children:T.reviewer?.name||"Unknown"}),e.jsx(M,{size:"small",onClick:()=>j(r.id,T.reviewer_id),sx:{padding:"2px","&:hover":{color:"error.main"}},children:e.jsx(Q,{sx:{fontSize:14}})})]},T.id)),g<5&&e.jsx(u,{size:"small",variant:"outlined",startIcon:e.jsx(Z,{}),onClick:()=>z(r),sx:{color:"#1abc9c",borderColor:"#1abc9c",fontSize:"0.7rem",mt:.5},children:"Add More"})]}):e.jsx(u,{size:"small",variant:"outlined",startIcon:e.jsx(Z,{}),onClick:()=>z(r),sx:{color:"#1abc9c",borderColor:"#1abc9c"},children:"Assign"})})]},r.id)})})]})})})]}),e.jsxs(oe,{open:n.open,onClose:()=>R({open:!1,submission:null}),maxWidth:"sm",fullWidth:!0,children:[e.jsxs(ae,{children:["Assign Reviewers",n.submission&&e.jsxs(t,{variant:"caption",display:"block",color:"text.secondary",children:["Current: ",n.submission.reviews?.length||0,"/5 | Adding: ",c.length," | Total: ",(n.submission.reviews?.length||0)+c.length,"/5"]})]}),e.jsx(ie,{children:n.submission&&e.jsxs(e.Fragment,{children:[e.jsxs(s,{sx:{mb:3,mt:1},children:[e.jsx(t,{variant:"body2",color:"text.secondary",children:"Submission:"}),e.jsx(t,{variant:"body1",sx:{fontWeight:600},children:n.submission.title})]}),n.submission.reviews&&n.submission.reviews.length>0&&e.jsxs(s,{sx:{mb:3},children:[e.jsx(t,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"Currently Assigned:"}),e.jsx(K,{dense:!0,children:n.submission.reviews.map(r=>e.jsx(q,{sx:{bgcolor:"#f5f5f5",mb:.5,borderRadius:1},children:e.jsx(J,{primary:r.reviewer?.name||"Unknown",secondary:r.reviewer?.email})},r.id))})]}),c.length>0&&e.jsxs(s,{sx:{mb:3},children:[e.jsx(t,{variant:"subtitle2",sx:{mb:1,fontWeight:600,color:"#1abc9c"},children:"Selected to Add:"}),e.jsx(K,{dense:!0,children:c.map(r=>{const a=x.find(b=>b.id===r);return e.jsxs(q,{sx:{bgcolor:"#e8f5e9",mb:.5,borderRadius:1},children:[e.jsx(J,{primary:a?.name||"Unknown",secondary:a?.email}),e.jsx(ue,{children:e.jsx(M,{edge:"end",size:"small",onClick:()=>h(r),children:e.jsx(Q,{fontSize:"small"})})})]},r)})})]}),(n.submission.reviews?.length||0)+c.length<5?e.jsxs($,{fullWidth:!0,children:[e.jsx(Y,{children:"Select Reviewer to Add"}),e.jsx(E,{value:"",onChange:r=>l(r.target.value),label:"Select Reviewer to Add",children:G().length===0?e.jsx(m,{disabled:!0,children:"No more reviewers available"}):G().map(r=>e.jsxs(m,{value:r.id,children:[r.name," (",r.email,")"]},r.id))})]}):e.jsx(be,{severity:"info",children:"Maximum of 5 reviewers reached"})]})}),e.jsxs(le,{children:[e.jsx(u,{onClick:()=>{R({open:!1,submission:null}),k([])},children:"Cancel"}),e.jsxs(u,{onClick:_,variant:"contained",disabled:c.length===0,sx:{backgroundColor:"#1abc9c","&:hover":{backgroundColor:"#16a085"}},children:["Assign ",c.length," Reviewer(s)"]})]})]})]})}const Ue=Object.freeze(Object.defineProperty({__proto__:null,default:Ae},Symbol.toStringTag,{value:"Module"}));export{Pe as D,Me as P,Ue as S};
